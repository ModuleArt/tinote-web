!function(n){var r={};function i(t){if(r[t])return r[t].exports;var e=r[t]={i:t,l:!1,exports:{}};return n[t].call(e.exports,e,e.exports,i),e.l=!0,e.exports}i.m=n,i.c=r,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=129)}([function(t,e,n){var v=n(2),y=n(9),g=n(16),m=n(13),b=n(19),w="prototype",E=function(t,e,n){var r,i,o,s,a=t&E.F,u=t&E.G,c=t&E.S,h=t&E.P,f=t&E.B,l=u?v:c?v[e]||(v[e]={}):(v[e]||{})[w],p=u?y:y[e]||(y[e]={}),d=p[w]||(p[w]={});for(r in u&&(n=e),n)o=((i=!a&&l&&void 0!==l[r])?l:n)[r],s=f&&i?b(o,v):h&&"function"==typeof o?b(Function.call,o):o,l&&m(l,r,o,t&E.U),p[r]!=o&&g(p,r,s),h&&d[r]!=o&&(d[r]=o)};v.core=y,E.F=1,E.G=2,E.S=4,E.P=8,E.B=16,E.W=32,E.U=64,E.R=128,t.exports=E},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i,d=n(62),v=n(91),y=n(127),o=n(128),s=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),g=new v.ErrorFactory("app","Firebase",s),a="@firebase/app",m="[DEFAULT]",b=((i={})[a]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),w=new o.Logger("@firebase/app"),u=(Object.defineProperty(c.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!0,configurable:!0}),c.prototype.delete=function(){var e=this;return new Promise(function(t){e.checkDestroyed_(),t()}).then(function(){return e.firebase_.INTERNAL.removeApp(e.name_),Promise.all(e.container.getProviders().map(function(t){return t.delete()}))}).then(function(){e.isDeleted_=!0})},c.prototype._getService=function(t,e){return void 0===e&&(e=m),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},c.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=m),this.container.getProvider(t).clearInstance(e)},c.prototype._addComponent=function(e){try{this.container.addComponent(e)}catch(t){w.debug("Component "+e.name+" failed to register with FirebaseApp "+this.name,t)}},c.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},c.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw g.create("app-deleted",{appName:this.name_})},c);function c(t,e,n){var r,i,o=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=v.deepCopy(t),this.container=new y.ComponentContainer(e.name),this._addComponent(new y.Component("app",function(){return o},"PUBLIC"));try{for(var s=d.__values(this.firebase_.INTERNAL.components.values()),a=s.next();!a.done;a=s.next()){var u=a.value;this._addComponent(u)}}catch(t){r={error:t}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}}u.prototype.name&&u.prototype.options||u.prototype.delete||console.log("dc");var E="7.15.2";function h(u){var c={},h=new Map,f={__esModule:!0,initializeApp:function(t,e){void 0===e&&(e={});{"object"==typeof e&&null!==e||(e={name:e})}var n=e;void 0===n.name&&(n.name=m);var r=n.name;if("string"!=typeof r||!r)throw g.create("bad-app-name",{appName:String(r)});if(v.contains(c,r))throw g.create("duplicate-app",{appName:r});var i=new u(t,n,f);return c[r]=i},app:l,registerVersion:function(t,e,n){var r,i=null!==(r=b[t])&&void 0!==r?r:t;n&&(i+="-"+n);var o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){var a=['Unable to register library "'+i+'" with version "'+e+'":'];return o&&a.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),o&&s&&a.push("and"),s&&a.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void w.warn(a.join(" "))}p(new y.Component(i+"-version",function(){return{library:i,version:e}},"VERSION"))},setLogLevel:o.setLogLevel,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw g.create("invalid-log-argument",{appName:name});o.setUserLogHandler(t,e)},apps:null,SDK_VERSION:E,INTERNAL:{registerComponent:p,removeApp:function(t){delete c[t]},components:h,useAsService:function(t,e){if("serverAuth"===e)return null;return e}}};function l(t){if(t=t||m,!v.contains(c,t))throw g.create("no-app",{appName:t});return c[t]}function p(n){var e,t,r,i=n.name;if(h.has(i))return w.debug("There were multiple attempts to register component "+i+"."),"PUBLIC"===n.type?f[i]:null;h.set(i,n),"PUBLIC"===n.type&&(r=function(t){if(void 0===t&&(t=l()),"function"!=typeof t[i])throw g.create("invalid-app-argument",{appName:i});return t[i]()},void 0!==n.serviceProps&&v.deepExtend(r,n.serviceProps),f[i]=r,u.prototype[i]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,i).apply(this,n.multipleInstances?t:[])});try{for(var o=d.__values(Object.keys(c)),s=o.next();!s.done;s=o.next()){var a=s.value;c[a]._addComponent(n)}}catch(t){e={error:t}}finally{try{s&&!s.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}return"PUBLIC"===n.type?f[i]:null}return f.default=f,Object.defineProperty(f,"apps",{get:function(){return Object.keys(c).map(function(t){return c[t]})}}),l.App=u,f}var f,l=function t(){var e=h(u);return e.INTERNAL=d.__assign(d.__assign({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){v.deepExtend(e,t)},createSubscribe:v.createSubscribe,ErrorFactory:v.ErrorFactory,deepExtend:v.deepExtend}),e}(),p=(_.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(t){if("VERSION"!==(null==(e=t.getComponent())?void 0:e.type))return null;var e,n=t.getImmediate();return n.library+"/"+n.version}).filter(function(t){return t}).join(" ")},_);function _(t){this.container=t}v.isBrowser()&&void 0!==self.firebase&&(w.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  "),(f=self.firebase.SDK_VERSION)&&0<=f.indexOf("LITE")&&w.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    "));var I=l.initializeApp;l.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return v.isNode()&&w.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the rollup-plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/rollup-plugin-node-resolve\n      '),I.apply(void 0,t)};var T,S,O=l;(T=O).INTERNAL.registerComponent(new y.Component("platform-logger",function(t){return new p(t)},"PRIVATE")),T.registerVersion(a,"0.6.6",S),T.registerVersion("fire-js",""),e.default=O,e.firebase=O},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,n){var r=n(5);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){"use strict";function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}n.r(e),n.d(e,"$",function(){return o});var r=function(){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),this.$el="string"==typeof t?document.querySelector(t):t}var t,n,r;return t=e,(n=[{key:"on",value:function(t,e){this.$el.addEventListener(t,e)}},{key:"off",value:function(t,e){this.$el.removeEventListener(t,e)}},{key:"remove",value:function(){this.$el.remove()}},{key:"clear",value:function(){return this.html(""),this}},{key:"append",value:function(t){return t instanceof e&&(t=t.$el),Element.prototype.append?this.$el.append(t):this.$el.appendChild(t),this}},{key:"css",value:function(t){var e=this,n=0<arguments.length&&void 0!==t?t:{};Object.getOwnPropertyNames(n).forEach(function(t){e.$el.style[t]=n[t]})}},{key:"closest",value:function(t){return this.$el.closest(t)?o(this.$el.closest(t)):null}},{key:"children",value:function(){return this.$el.children}},{key:"attr",value:function(t,e){return e?(this.$el.setAttribute(t,e),this):this.$el.getAttribute(t)}},{key:"getCoords",value:function(){return this.$el.getBoundingClientRect()}},{key:"find",value:function(t){return o(this.$el.querySelector(t))}},{key:"findAll",value:function(t){return this.$el.querySelectorAll(t)}},{key:"focus",value:function(){this.$el.focus()}},{key:"html",value:function(t){return"string"==typeof t?(this.$el.innerHTML=t,this):this.$el.innerHTML.trim()}},{key:"addClass",value:function(t){this.$el.classList.add(t)}},{key:"removeClass",value:function(t){this.$el.classList.remove(t)}},{key:"toggleClass",value:function(t){this.$el.classList.toggle(t)}},{key:"outerHTML",value:function(){return this.$el.outerHTML}},{key:"data",get:function(){return this.$el.dataset}},{key:"classes",get:function(){return this.$el.classList}}])&&i(t.prototype,n),r&&i(t,r),e}();function o(t){return t instanceof r?t:new r(t)}o.create=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",n=document.createElement(t);return e&&n.classList.add(e),o(n)}},function(t,e,n){var r=n(50)("wks"),i=n(31),o=n(2).Symbol,s="function"==typeof o;(t.exports=function(t){return r[t]||(r[t]=s&&o[t]||(s?o:i)("Symbol."+t))}).store=r},function(t,e,n){var r=n(21),i=Math.min;t.exports=function(t){return 0<t?i(r(t),9007199254740991):0}},function(t,e){var n=t.exports={version:"2.6.11"};"number"==typeof __e&&(__e=n)},function(t,e,n){t.exports=!n(3)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e,n){var r=n(4),i=n(94),o=n(28),s=Object.defineProperty;e.f=n(10)?Object.defineProperty:function(t,e,n){if(r(t),e=o(e,!0),r(n),i)try{return s(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){var r=n(26);t.exports=function(t){return Object(r(t))}},function(t,e,n){var o=n(2),s=n(16),a=n(15),u=n(31)("src"),r=n(134),i="toString",c=(""+r).split(i);n(9).inspectSource=function(t){return r.call(t)},(t.exports=function(t,e,n,r){var i="function"==typeof n;i&&(a(n,"name")||s(n,"name",e)),t[e]!==n&&(i&&(a(n,u)||s(n,u,t[e]?""+t[e]:c.join(String(e)))),t===o?t[e]=n:r?t[e]?t[e]=n:s(t,e,n):(delete t[e],s(t,e,n)))})(Function.prototype,i,function(){return"function"==typeof this&&this[u]||r.call(this)})},function(t,e,n){function r(t,e,n,r){var i=String(s(t)),o="<"+e;return""!==n&&(o+=" "+n+'="'+String(r).replace(a,"&quot;")+'"'),o+">"+i+"</"+e+">"}var i=n(0),o=n(3),s=n(26),a=/"/g;t.exports=function(e,t){var n={};n[e]=t(r),i(i.P+i.F*o(function(){var t=""[e]('"');return t!==t.toLowerCase()||3<t.split('"').length}),"String",n)}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){var r=n(11),i=n(30);t.exports=n(10)?function(t,e,n){return r.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var r=n(46),i=n(26);t.exports=function(t){return r(i(t))}},function(t,e,n){"use strict";var r=n(3);t.exports=function(t,e){return!!t&&r(function(){e?t.call(null,function(){},1):t.call(null)})}},function(t,e,n){var o=n(20);t.exports=function(r,i,t){if(o(r),void 0===i)return r;switch(t){case 1:return function(t){return r.call(i,t)};case 2:return function(t,e){return r.call(i,t,e)};case 3:return function(t,e,n){return r.call(i,t,e,n)}}return function(){return r.apply(i,arguments)}}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(0<t?r:n)(t)}},function(t,e,n){var r=n(47),i=n(30),o=n(17),s=n(28),a=n(15),u=n(94),c=Object.getOwnPropertyDescriptor;e.f=n(10)?c:function(t,e){if(t=o(t),e=s(e,!0),u)try{return c(t,e)}catch(t){}if(a(t,e))return i(!r.f.call(t,e),t[e])}},function(t,e,n){var i=n(0),o=n(9),s=n(3);t.exports=function(t,e){var n=(o.Object||{})[t]||Object[t],r={};r[t]=e(n),i(i.S+i.F*s(function(){n(1)}),"Object",r)}},function(t,e,n){var b=n(19),w=n(46),E=n(12),_=n(8),r=n(110);t.exports=function(f,t){var l=1==f,p=2==f,d=3==f,v=4==f,y=6==f,g=5==f||y,m=t||r;return function(t,e,n){for(var r,i,o=E(t),s=w(o),a=b(e,n,3),u=_(s.length),c=0,h=l?m(t,u):p?m(t,0):void 0;c<u;c++)if((g||c in s)&&(i=a(r=s[c],c,o),f))if(l)h[c]=i;else if(i)switch(f){case 3:return!0;case 5:return r;case 6:return c;case 2:h.push(r)}else if(v)return!1;return y?-1:d||v?v:h}}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,n){"use strict";var g,m,b,w,E,r,d,_,i,I,o,s,T,S,a,u,c,O,N,v,y,A,k,P,x,h,f,l,p,R,D,j,C,L,M,F,V,U,q,B,G,W,z,H,K,$,X,Y,J,Q,Z,tt,et,nt,rt,it,ot,st,at,ut,ct,ht,ft,lt,pt,dt,vt,yt,gt,mt,bt,wt,Et,_t,It,Tt,St,Ot,Nt,At,kt,Pt,xt,Rt,Dt,jt,Ct,Lt,Mt,Ft,Vt,Ut,qt,Bt,Gt,Wt,zt,Ht;n(10)?(g=n(32),m=n(2),b=n(3),w=n(0),E=n(61),r=n(87),d=n(19),_=n(44),i=n(30),I=n(16),o=n(45),s=n(21),T=n(8),S=n(121),a=n(34),u=n(28),c=n(15),O=n(48),N=n(5),v=n(12),y=n(79),A=n(35),k=n(37),P=n(36).f,x=n(81),h=n(31),f=n(7),l=n(24),p=n(51),R=n(49),D=n(83),j=n(42),C=n(54),L=n(43),M=n(82),F=n(112),V=n(11),U=n(22),q=V.f,B=U.f,G=m.RangeError,W=m.TypeError,z=m.Uint8Array,K="Shared"+(H="ArrayBuffer"),$="BYTES_PER_ELEMENT",X="prototype",Y=Array[X],J=r.ArrayBuffer,Q=r.DataView,Z=l(0),tt=l(2),et=l(3),nt=l(4),rt=l(5),it=l(6),ot=p(!0),st=p(!1),at=D.values,ut=D.keys,ct=D.entries,ht=Y.lastIndexOf,ft=Y.reduce,lt=Y.reduceRight,pt=Y.join,dt=Y.sort,vt=Y.slice,yt=Y.toString,gt=Y.toLocaleString,mt=f("iterator"),bt=f("toStringTag"),wt=h("typed_constructor"),Et=h("def_constructor"),_t=E.CONSTR,It=E.TYPED,Tt=E.VIEW,St="Wrong length!",Ot=l(1,function(t,e){return xt(R(t,t[Et]),e)}),Nt=b(function(){return 1===new z(new Uint16Array([1]).buffer)[0]}),At=!!z&&!!z[X].set&&b(function(){new z(1).set({})}),kt=function(t,e){var n=s(t);if(n<0||n%e)throw G("Wrong offset!");return n},Pt=function(t){if(N(t)&&It in t)return t;throw W(t+" is not a typed array!")},xt=function(t,e){if(!(N(t)&&wt in t))throw W("It is not a typed array constructor!");return new t(e)},Rt=function(t,e){return Dt(R(t,t[Et]),e)},Dt=function(t,e){for(var n=0,r=e.length,i=xt(t,r);n<r;)i[n]=e[n++];return i},jt=function(t,e,n){q(t,e,{get:function(){return this._d[n]}})},Ct=function(t,e,n){var r,i,o,s,a,u,c=v(t),h=arguments.length,f=1<h?e:void 0,l=void 0!==f,p=x(c);if(null!=p&&!y(p)){for(u=p.call(c),o=[],r=0;!(a=u.next()).done;r++)o.push(a.value);c=o}for(l&&2<h&&(f=d(f,n,2)),r=0,i=T(c.length),s=xt(this,i);r<i;r++)s[r]=l?f(c[r],r):c[r];return s},Lt=function(){for(var t=0,e=arguments.length,n=xt(this,e);t<e;)n[t]=arguments[t++];return n},Mt=!!z&&b(function(){gt.call(new z(1))}),Ft=function(){return gt.apply(Mt?vt.call(Pt(this)):Pt(this),arguments)},Vt={copyWithin:function(t,e,n){return F.call(Pt(this),t,e,2<arguments.length?n:void 0)},every:function(t,e){return nt(Pt(this),t,1<arguments.length?e:void 0)},fill:function(t){return M.apply(Pt(this),arguments)},filter:function(t,e){return Rt(this,tt(Pt(this),t,1<arguments.length?e:void 0))},find:function(t,e){return rt(Pt(this),t,1<arguments.length?e:void 0)},findIndex:function(t,e){return it(Pt(this),t,1<arguments.length?e:void 0)},forEach:function(t,e){Z(Pt(this),t,1<arguments.length?e:void 0)},indexOf:function(t,e){return st(Pt(this),t,1<arguments.length?e:void 0)},includes:function(t,e){return ot(Pt(this),t,1<arguments.length?e:void 0)},join:function(t){return pt.apply(Pt(this),arguments)},lastIndexOf:function(t){return ht.apply(Pt(this),arguments)},map:function(t,e){return Ot(Pt(this),t,1<arguments.length?e:void 0)},reduce:function(t){return ft.apply(Pt(this),arguments)},reduceRight:function(t){return lt.apply(Pt(this),arguments)},reverse:function(){for(var t,e=this,n=Pt(e).length,r=Math.floor(n/2),i=0;i<r;)t=e[i],e[i++]=e[--n],e[n]=t;return e},some:function(t,e){return et(Pt(this),t,1<arguments.length?e:void 0)},sort:function(t){return dt.call(Pt(this),t)},subarray:function(t,e){var n=Pt(this),r=n.length,i=a(t,r);return new(R(n,n[Et]))(n.buffer,n.byteOffset+i*n.BYTES_PER_ELEMENT,T((void 0===e?r:a(e,r))-i))}},Ut=function(t,e){return Rt(this,vt.call(Pt(this),t,e))},qt=function(t,e){Pt(this);var n=kt(e,1),r=this.length,i=v(t),o=T(i.length),s=0;if(r<o+n)throw G(St);for(;s<o;)this[n+s]=i[s++]},Bt={entries:function(){return ct.call(Pt(this))},keys:function(){return ut.call(Pt(this))},values:function(){return at.call(Pt(this))}},Gt=function(t,e){return N(t)&&t[It]&&"symbol"!=typeof e&&e in t&&String(+e)==String(e)},Wt=function(t,e){return Gt(t,e=u(e,!0))?i(2,t[e]):B(t,e)},zt=function(t,e,n){return!(Gt(t,e=u(e,!0))&&N(n)&&c(n,"value"))||c(n,"get")||c(n,"set")||n.configurable||c(n,"writable")&&!n.writable||c(n,"enumerable")&&!n.enumerable?q(t,e,n):(t[e]=n.value,t)},_t||(U.f=Wt,V.f=zt),w(w.S+w.F*!_t,"Object",{getOwnPropertyDescriptor:Wt,defineProperty:zt}),b(function(){yt.call({})})&&(yt=gt=function(){return pt.call(this)}),Ht=o({},Vt),o(Ht,Bt),I(Ht,mt,Bt.values),o(Ht,{slice:Ut,set:qt,constructor:function(){},toString:yt,toLocaleString:Ft}),jt(Ht,"buffer","b"),jt(Ht,"byteOffset","o"),jt(Ht,"byteLength","l"),jt(Ht,"length","e"),q(Ht,bt,{get:function(){return this[It]}}),t.exports=function(t,f,e,o){function l(t,i){q(t,i,{get:function(){return t=i,(e=this._d).v[n](t*f+e.o,Nt);var t,e},set:function(t){return e=i,n=t,r=this._d,o&&(n=(n=Math.round(n))<0?0:255<n?255:255&n),void r.v[s](e*f+r.o,n,Nt);var e,n,r},enumerable:!0})}var p=t+((o=!!o)?"Clamped":"")+"Array",n="get"+t,s="set"+t,d=m[p],a=d||{},r=d&&k(d),i=!d||!E.ABV,u={},c=d&&d[X];i?(d=e(function(t,e,n,r){_(t,d,p,"_d");var i,o,s,a,u=0,c=0;if(N(e)){if(!(e instanceof J||(a=O(e))==H||a==K))return It in e?Dt(d,e):Ct.call(d,e);i=e,c=kt(n,f);var h=e.byteLength;if(void 0===r){if(h%f)throw G(St);if((o=h-c)<0)throw G(St)}else if(h<(o=T(r)*f)+c)throw G(St);s=o/f}else s=S(e),i=new J(o=s*f);for(I(t,"_d",{b:i,o:c,l:o,e:s,v:new Q(i)});u<s;)l(t,u++)}),c=d[X]=A(Ht),I(c,"constructor",d)):b(function(){d(1)})&&b(function(){new d(-1)})&&C(function(t){new d,new d(null),new d(1.5),new d(t)},!0)||(d=e(function(t,e,n,r){var i;return _(t,d,p),N(e)?e instanceof J||(i=O(e))==H||i==K?void 0!==r?new a(e,kt(n,f),r):void 0!==n?new a(e,kt(n,f)):new a(e):It in e?Dt(d,e):Ct.call(d,e):new a(S(e))}),Z(r!==Function.prototype?P(a).concat(P(r)):P(a),function(t){t in d||I(d,t,a[t])}),d[X]=c,g||(c.constructor=d));var h=c[mt],v=!!h&&("values"==h.name||null==h.name),y=Bt.values;I(d,wt,!0),I(c,It,p),I(c,Tt,!0),I(c,Et,d),(o?new d(1)[bt]==p:bt in c)||q(c,bt,{get:function(){return p}}),u[p]=d,w(w.G+w.W+w.F*(d!=a),u),w(w.S,p,{BYTES_PER_ELEMENT:f}),w(w.S+w.F*b(function(){a.of.call(d,1)}),p,{from:Ct,of:Lt}),$ in c||I(c,$,f),w(w.P,p,Vt),L(p),w(w.P+w.F*At,p,{set:qt}),w(w.P+w.F*!v,p,Bt),g||c.toString==yt||(c.toString=yt),w(w.P+w.F*b(function(){new d(1).slice()}),p,{slice:Ut}),w(w.P+w.F*(b(function(){return[1,2].toLocaleString()!=new d([1,2]).toLocaleString()})||!b(function(){c.toLocaleString.call([1,2])})),p,{toLocaleString:Ft}),j[p]=v?h:y,g||v||I(c,mt,y)}):t.exports=function(){}},function(t,e,n){var i=n(5);t.exports=function(t,e){if(!i(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!i(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")}},function(t,e,n){function r(t){a(t,i,{value:{i:"O"+ ++u,w:{}}})}var i=n(31)("meta"),o=n(5),s=n(15),a=n(11).f,u=0,c=Object.isExtensible||function(){return!0},h=!n(3)(function(){return c(Object.preventExtensions({}))}),f=t.exports={KEY:i,NEED:!1,fastKey:function(t,e){if(!o(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!s(t,i)){if(!c(t))return"F";if(!e)return"E";r(t)}return t[i].i},getWeak:function(t,e){if(!s(t,i)){if(!c(t))return!0;if(!e)return!1;r(t)}return t[i].w},onFreeze:function(t){return h&&f.NEED&&c(t)&&!s(t,i)&&r(t),t}}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+r).toString(36))}},function(t,e){t.exports=!1},function(t,e,n){var r=n(96),i=n(66);t.exports=Object.keys||function(t){return r(t,i)}},function(t,e,n){var r=n(21),i=Math.max,o=Math.min;t.exports=function(t,e){return(t=r(t))<0?i(t+e,0):o(t,e)}},function(t,e,r){function i(){}var o=r(4),s=r(97),a=r(66),u=r(65)("IE_PROTO"),c="prototype",h=function(){var t,e=r(63)("iframe"),n=a.length;for(e.style.display="none",r(67).appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),h=t.F;n--;)delete h[c][a[n]];return h()};t.exports=Object.create||function(t,e){var n;return null!==t?(i[c]=o(t),n=new i,i[c]=null,n[u]=t):n=h(),void 0===e?n:s(n,e)}},function(t,e,n){var r=n(96),i=n(66).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,i)}},function(t,e,n){var r=n(15),i=n(12),o=n(65)("IE_PROTO"),s=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=i(t),r(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?s:null}},function(t,e,n){var r=n(7)("unscopables"),i=Array.prototype;null==i[r]&&n(16)(i,r,{}),t.exports=function(t){i[r][t]=!0}},function(t,e,n){var r=n(5);t.exports=function(t,e){if(!r(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" required!");return t}},function(t,e,n){var r=n(11).f,i=n(15),o=n(7)("toStringTag");t.exports=function(t,e,n){t&&!i(t=n?t:t.prototype,o)&&r(t,o,{configurable:!0,value:e})}},function(t,e,n){function r(t,e,n){var r={},i=a(function(){return!!u[t]()||"​"!="​"[t]()}),o=r[t]=i?e(f):u[t];n&&(r[n]=o),s(s.P+s.F*i,"String",r)}var s=n(0),i=n(26),a=n(3),u=n(69),o="["+u+"]",c=RegExp("^"+o+o+"*"),h=RegExp(o+o+"*$"),f=r.trim=function(t,e){return t=String(i(t)),1&e&&(t=t.replace(c,"")),2&e&&(t=t.replace(h,"")),t};t.exports=r},function(t,e){t.exports={}},function(t,e,n){"use strict";var r=n(2),i=n(11),o=n(10),s=n(7)("species");t.exports=function(t){var e=r[t];o&&e&&!e[s]&&i.f(e,s,{configurable:!0,get:function(){return this}})}},function(t,e){t.exports=function(t,e,n,r){if(!(t instanceof e)||void 0!==r&&r in t)throw TypeError(n+": incorrect invocation!");return t}},function(t,e,n){var i=n(13);t.exports=function(t,e,n){for(var r in e)i(t,r,e[r],n);return t}},function(t,e,n){var r=n(25);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,n){var i=n(25),o=n(7)("toStringTag"),s="Arguments"==i(function(){return arguments}());t.exports=function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),o))?n:s?i(e):"Object"==(r=i(e))&&"function"==typeof e.callee?"Arguments":r}},function(t,e,n){var i=n(4),o=n(20),s=n(7)("species");t.exports=function(t,e){var n,r=i(t).constructor;return void 0===r||null==(n=i(r)[s])?e:o(n)}},function(t,e,n){var r=n(9),i=n(2),o="__core-js_shared__",s=i[o]||(i[o]={});(t.exports=function(t,e){return s[t]||(s[t]=void 0!==e?e:{})})("versions",[]).push({version:r.version,mode:n(32)?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},function(t,e,n){var u=n(17),c=n(8),h=n(34);t.exports=function(a){return function(t,e,n){var r,i=u(t),o=c(i.length),s=h(n,o);if(a&&e!=e){for(;s<o;)if((r=i[s++])!=r)return!0}else for(;s<o;s++)if((a||s in i)&&i[s]===e)return a||s||0;return!a&&-1}}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){var r=n(25);t.exports=Array.isArray||function(t){return"Array"==r(t)}},function(t,e,n){var o=n(7)("iterator"),s=!1;try{var r=[7][o]();r.return=function(){s=!0},Array.from(r,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!s)return!1;var n=!1;try{var r=[7],i=r[o]();i.next=function(){return{done:n=!0}},r[o]=function(){return i},t(r)}catch(t){}return n}},function(t,e,n){"use strict";var r=n(4);t.exports=function(){var t=r(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},function(t,e,n){"use strict";var i=n(48),o=RegExp.prototype.exec;t.exports=function(t,e){var n=t.exec;if("function"==typeof n){var r=n.call(t,e);if("object"!=typeof r)throw new TypeError("RegExp exec method returned something other than an Object or null");return r}if("RegExp"!==i(t))throw new TypeError("RegExp#exec called on incompatible receiver");return o.call(t,e)}},function(t,e,n){"use strict";n(114);var h=n(13),f=n(16),l=n(3),p=n(26),d=n(7),v=n(84),y=d("species"),g=!l(function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}),m=function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2===n.length&&"a"===n[0]&&"b"===n[1]}();t.exports=function(n,t,e){var o,r,i,s,a=d(n),u=!l(function(){var t={};return t[a]=function(){return 7},7!=""[n](t)}),c=u?!l(function(){var t=!1,e=/a/;return e.exec=function(){return t=!0,null},"split"===n&&(e.constructor={},e.constructor[y]=function(){return e}),e[a](""),!t}):void 0;u&&c&&("replace"!==n||g)&&("split"!==n||m)||(o=/./[a],i=(r=e(p,a,""[n],function(t,e,n,r,i){return e.exec===v?u&&!i?{done:!0,value:o.call(e,n,r)}:{done:!0,value:t.call(n,e,r)}:{done:!1}}))[0],s=r[1],h(String.prototype,n,i),f(RegExp.prototype,a,2==t?function(t,e){return s.call(t,this,e)}:function(t){return s.call(t,this)}))}},function(t,e,n){var l=n(19),p=n(109),d=n(79),v=n(4),y=n(8),g=n(81),m={},b={};(e=t.exports=function(t,e,n,r,i){var o,s,a,u,c=i?function(){return t}:g(t),h=l(n,r,e?2:1),f=0;if("function"!=typeof c)throw TypeError(t+" is not iterable!");if(d(c)){for(o=y(t.length);f<o;f++)if((u=e?h(v(s=t[f])[0],s[1]):h(t[f]))===m||u===b)return u}else for(a=c.call(t);!(s=a.next()).done;)if((u=p(a,h,s.value,e))===m||u===b)return u}).BREAK=m,e.RETURN=b},function(t,e,n){var r=n(2).navigator;t.exports=r&&r.userAgent||""},function(t,e,n){"use strict";var g=n(2),m=n(0),b=n(13),w=n(45),E=n(29),_=n(58),I=n(44),T=n(5),S=n(3),O=n(54),N=n(40),A=n(70);t.exports=function(r,t,e,n,i,o){function s(t){var n=v[t];b(v,t,"delete"==t?function(t){return!(o&&!T(t))&&n.call(this,0===t?0:t)}:"has"==t?function(t){return!(o&&!T(t))&&n.call(this,0===t?0:t)}:"get"==t?function(t){return o&&!T(t)?void 0:n.call(this,0===t?0:t)}:"add"==t?function(t){return n.call(this,0===t?0:t),this}:function(t,e){return n.call(this,0===t?0:t,e),this})}var a,u,c,h,f,l=g[r],p=l,d=i?"set":"add",v=p&&p.prototype,y={};return"function"==typeof p&&(o||v.forEach&&!S(function(){(new p).entries().next()}))?(u=(a=new p)[d](o?{}:-0,1)!=a,c=S(function(){a.has(1)}),h=O(function(t){new p(t)}),f=!o&&S(function(){for(var t=new p,e=5;e--;)t[d](e,e);return!t.has(-0)}),h||(((p=t(function(t,e){I(t,p,r);var n=A(new l,t,p);return null!=e&&_(e,i,n[d],n),n})).prototype=v).constructor=p),(c||f)&&(s("delete"),s("has"),i&&s("get")),(f||u)&&s(d),o&&v.clear&&delete v.clear):(p=n.getConstructor(t,r,i,d),w(p.prototype,e),E.NEED=!0),N(p,r),y[r]=p,m(m.G+m.W+m.F*(p!=l),y),o||n.setStrong(p,r,i),p}},function(t,e,n){for(var r,i=n(2),o=n(16),s=n(31),a=s("typed_array"),u=s("view"),c=!(!i.ArrayBuffer||!i.DataView),h=c,f=0,l="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");f<9;)(r=i[l[f++]])?(o(r.prototype,a,!0),o(r.prototype,u,!0)):h=!1;t.exports={ABV:c,CONSTR:h,TYPED:a,VIEW:u}},function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",function(){return i}),n.d(e,"__assign",function(){return o}),n.d(e,"__rest",function(){return s}),n.d(e,"__decorate",function(){return a}),n.d(e,"__param",function(){return u}),n.d(e,"__metadata",function(){return c}),n.d(e,"__awaiter",function(){return h}),n.d(e,"__generator",function(){return f}),n.d(e,"__createBinding",function(){return l}),n.d(e,"__exportStar",function(){return p}),n.d(e,"__values",function(){return d}),n.d(e,"__read",function(){return v}),n.d(e,"__spread",function(){return y}),n.d(e,"__spreadArrays",function(){return g}),n.d(e,"__await",function(){return m}),n.d(e,"__asyncGenerator",function(){return b}),n.d(e,"__asyncDelegator",function(){return w}),n.d(e,"__asyncValues",function(){return E}),n.d(e,"__makeTemplateObject",function(){return _}),n.d(e,"__importStar",function(){return I}),n.d(e,"__importDefault",function(){return T}),n.d(e,"__classPrivateFieldGet",function(){return S}),n.d(e,"__classPrivateFieldSet",function(){return O});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function s(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function a(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;0<=a;a--)(i=t[a])&&(s=(o<3?i(s):3<o?i(e,n,s):i(e,n))||s);return 3<o&&s&&Object.defineProperty(e,n,s),s}function u(n,r){return function(t,e){r(t,e,n)}}function c(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function h(t,s,a,u){return new(a=a||Promise)(function(n,e){function r(t){try{o(u.next(t))}catch(t){e(t)}}function i(t){try{o(u.throw(t))}catch(t){e(t)}}function o(t){var e;t.done?n(t.value):((e=t.value)instanceof a?e:new a(function(t){t(e)})).then(r,i)}o((u=u.apply(t,s||[])).next())})}function f(n,r){var i,o,s,a={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},t={next:e(0),throw:e(1),return:e(2)};return"function"==typeof Symbol&&(t[Symbol.iterator]=function(){return this}),t;function e(e){return function(t){return function(e){if(i)throw new TypeError("Generator is already executing.");for(;a;)try{if(i=1,o&&(s=2&e[0]?o.return:e[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,e[1])).done)return s;switch(o=0,s&&(e=[2&e[0],s.value]),e[0]){case 0:case 1:s=e;break;case 4:return a.label++,{value:e[1],done:!1};case 5:a.label++,o=e[1],e=[0];continue;case 7:e=a.ops.pop(),a.trys.pop();continue;default:if(!(s=0<(s=a.trys).length&&s[s.length-1])&&(6===e[0]||2===e[0])){a=0;continue}if(3===e[0]&&(!s||e[1]>s[0]&&e[1]<s[3])){a.label=e[1];break}if(6===e[0]&&a.label<s[1]){a.label=s[1],s=e;break}if(s&&a.label<s[2]){a.label=s[2],a.ops.push(e);break}s[2]&&a.ops.pop(),a.trys.pop();continue}e=r.call(n,a)}catch(t){e=[6,t],o=0}finally{i=s=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}([e,t])}}}function l(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}function p(t,e){for(var n in t)"default"===n||e.hasOwnProperty(n)||(e[n]=t[n])}function d(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function v(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||0<e--)&&!(r=o.next()).done;)s.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function y(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(v(arguments[e]));return t}function g(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}function m(t){return this instanceof m?(this.v=t,this):new m(t)}function b(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(t,e||[]),o=[],s={};return r("next"),r("throw"),r("return"),s[Symbol.asyncIterator]=function(){return this},s;function r(r){i[r]&&(s[r]=function(n){return new Promise(function(t,e){1<o.push([r,n,t,e])||a(r,n)})})}function a(t,e){try{(n=i[t](e)).value instanceof m?Promise.resolve(n.value.v).then(u,c):h(o[0][2],n)}catch(t){h(o[0][3],t)}var n}function u(t){a("next",t)}function c(t){a("throw",t)}function h(t,e){t(e),o.shift(),o.length&&a(o[0][0],o[0][1])}}function w(r){var i,t={};return e("next"),e("throw",function(t){throw t}),e("return"),t[Symbol.iterator]=function(){return this},t;function e(e,n){t[e]=r[e]?function(t){return(i=!i)?{value:m(r[e](t)),done:"return"===e}:n?n(t):t}:n}}function E(u){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=u[Symbol.asyncIterator];return e?e.call(u):(u=d(u),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(a){t[a]=u[a]&&function(s){return new Promise(function(t,e){var n,r,i,o;s=u[a](s),n=t,r=e,i=s.done,o=s.value,Promise.resolve(o).then(function(t){n({value:t,done:i})},r)})}}}function _(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function I(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function T(t){return t&&t.__esModule?t:{default:t}}function S(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function O(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}},function(t,e,n){var r=n(5),i=n(2).document,o=r(i)&&r(i.createElement);t.exports=function(t){return o?i.createElement(t):{}}},function(t,e,n){e.f=n(7)},function(t,e,n){var r=n(50)("keys"),i=n(31);t.exports=function(t){return r[t]||(r[t]=i(t))}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,n){var r=n(2).document;t.exports=r&&r.documentElement},function(t,e,i){function o(t,e){if(r(t),!n(e)&&null!==e)throw TypeError(e+": can't set as prototype!")}var n=i(5),r=i(4);t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,n,r){try{(r=i(19)(Function.call,i(22).f(Object.prototype,"__proto__").set,2))(t,[]),n=!(t instanceof Array)}catch(t){n=!0}return function(t,e){return o(t,e),n?t.__proto__=e:r(t,e),t}}({},!1):void 0),check:o}},function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},function(t,e,n){var o=n(5),s=n(68).set;t.exports=function(t,e,n){var r,i=e.constructor;return i!==n&&"function"==typeof i&&(r=i.prototype)!==n.prototype&&o(r)&&s&&s(t,r),t}},function(t,e,n){"use strict";var i=n(21),o=n(26);t.exports=function(t){var e=String(o(this)),n="",r=i(t);if(r<0||r==1/0)throw RangeError("Count can't be negative");for(;0<r;(r>>>=1)&&(e+=e))1&r&&(n+=e);return n}},function(t,e){t.exports=Math.sign||function(t){return 0==(t=+t)||t!=t?t:t<0?-1:1}},function(t,e){var n=Math.expm1;t.exports=!n||22025.465794806718<n(10)||n(10)<22025.465794806718||-2e-17!=n(-2e-17)?function(t){return 0==(t=+t)?t:-1e-6<t&&t<1e-6?t+t*t/2:Math.exp(t)-1}:n},function(t,e,n){var u=n(21),c=n(26);t.exports=function(a){return function(t,e){var n,r,i=String(c(t)),o=u(e),s=i.length;return o<0||s<=o?a?"":void 0:(n=i.charCodeAt(o))<55296||56319<n||o+1===s||(r=i.charCodeAt(o+1))<56320||57343<r?a?i.charAt(o):n:a?i.slice(o,o+2):r-56320+(n-55296<<10)+65536}}},function(t,e,n){"use strict";function b(){return this}var w=n(32),E=n(0),_=n(13),I=n(16),T=n(42),S=n(108),O=n(40),N=n(37),A=n(7)("iterator"),k=!([].keys&&"next"in[].keys()),P="values";t.exports=function(t,e,n,r,i,o,s){S(n,e,r);function a(t){if(!k&&t in d)return d[t];switch(t){case"keys":case P:return function(){return new n(this,t)}}return function(){return new n(this,t)}}var u,c,h,f=e+" Iterator",l=i==P,p=!1,d=t.prototype,v=d[A]||d["@@iterator"]||i&&d[i],y=v||a(i),g=i?l?a("entries"):y:void 0,m="Array"==e&&d.entries||v;if(m&&(h=N(m.call(new t)))!==Object.prototype&&h.next&&(O(h,f,!0),w||"function"==typeof h[A]||I(h,A,b)),l&&v&&v.name!==P&&(p=!0,y=function(){return v.call(this)}),w&&!s||!k&&!p&&d[A]||I(d,A,y),T[e]=y,T[f]=b,i)if(u={values:l?y:a(P),keys:o?y:a("keys"),entries:g},s)for(c in u)c in d||_(d,c,u[c]);else E(E.P+E.F*(k||p),e,u);return u}},function(t,e,n){var r=n(77),i=n(26);t.exports=function(t,e,n){if(r(e))throw TypeError("String#"+n+" doesn't accept regex!");return String(i(t))}},function(t,e,n){var r=n(5),i=n(25),o=n(7)("match");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[o])?!!e:"RegExp"==i(t))}},function(t,e,n){var r=n(7)("match");t.exports=function(e){var n=/./;try{"/./"[e](n)}catch(t){try{return n[r]=!1,!"/./"[e](n)}catch(t){}}return!0}},function(t,e,n){var r=n(42),i=n(7)("iterator"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(r.Array===t||o[i]===t)}},function(t,e,n){"use strict";var r=n(11),i=n(30);t.exports=function(t,e,n){e in t?r.f(t,e,i(0,n)):t[e]=n}},function(t,e,n){var r=n(48),i=n(7)("iterator"),o=n(42);t.exports=n(9).getIteratorMethod=function(t){if(null!=t)return t[i]||t["@@iterator"]||o[r(t)]}},function(t,e,n){"use strict";var c=n(12),h=n(34),f=n(8);t.exports=function(t,e,n){for(var r=c(this),i=f(r.length),o=arguments.length,s=h(1<o?e:void 0,i),a=2<o?n:void 0,u=void 0===a?i:h(a,i);s<u;)r[s++]=t;return r}},function(t,e,n){"use strict";var r=n(38),i=n(113),o=n(42),s=n(17);t.exports=n(75)(Array,"Array",function(t,e){this._t=s(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,i(1)):i(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])},"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},function(t,e,n){"use strict";var r,i,s=n(55),a=RegExp.prototype.exec,u=String.prototype.replace,o=a,c="lastIndex",h=(r=/a/,i=/b*/g,a.call(r,"a"),a.call(i,"a"),0!==r[c]||0!==i[c]),f=void 0!==/()??/.exec("")[1];(h||f)&&(o=function(t){var e,n,r,i,o=this;return f&&(n=new RegExp("^"+o.source+"$(?!\\s)",s.call(o))),h&&(e=o[c]),r=a.call(o,t),h&&r&&(o[c]=o.global?r.index+r[0].length:e),f&&r&&1<r.length&&u.call(r[0],n,function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(r[i]=void 0)}),r}),t.exports=o},function(t,e,n){"use strict";var r=n(74)(!0);t.exports=function(t,e,n){return e+(n?r(t,e).length:1)}},function(t,e,n){function r(){var t,e=+this;b.hasOwnProperty(e)&&(t=b[e],delete b[e],t())}function i(t){r.call(t.data)}var o,s,a,u=n(19),c=n(102),h=n(67),f=n(63),l=n(2),p=l.process,d=l.setImmediate,v=l.clearImmediate,y=l.MessageChannel,g=l.Dispatch,m=0,b={},w="onreadystatechange";d&&v||(d=function(t){for(var e=[],n=1;n<arguments.length;)e.push(arguments[n++]);return b[++m]=function(){c("function"==typeof t?t:Function(t),e)},o(m),m},v=function(t){delete b[t]},"process"==n(25)(p)?o=function(t){p.nextTick(u(r,t,1))}:g&&g.now?o=function(t){g.now(u(r,t,1))}:y?(a=(s=new y).port2,s.port1.onmessage=i,o=u(a.postMessage,a,1)):l.addEventListener&&"function"==typeof postMessage&&!l.importScripts?(o=function(t){l.postMessage(t+"","*")},l.addEventListener("message",i,!1)):o=w in f("script")?function(t){h.appendChild(f("script"))[w]=function(){h.removeChild(this),r.call(t)}}:function(t){setTimeout(u(r,t,1),0)}),t.exports={set:d,clear:v}},function(t,e,n){"use strict";var r=n(2),i=n(10),o=n(32),s=n(61),a=n(16),u=n(45),c=n(3),h=n(44),f=n(21),l=n(8),p=n(121),d=n(36).f,v=n(11).f,y=n(82),g=n(40),m="ArrayBuffer",b="DataView",w="prototype",E="Wrong index!",_=r[m],I=r[b],T=r.Math,S=r.RangeError,O=r.Infinity,N=_,A=T.abs,k=T.pow,P=T.floor,x=T.log,R=T.LN2,D="byteLength",j="byteOffset",C=i?"_b":"buffer",L=i?"_l":D,M=i?"_o":j;function F(t,e,n){var r,i,o,s=new Array(n),a=8*n-e-1,u=(1<<a)-1,c=u>>1,h=23===e?k(2,-24)-k(2,-77):0,f=0,l=t<0||0===t&&1/t<0?1:0;for((t=A(t))!=t||t===O?(i=t!=t?1:0,r=u):(r=P(x(t)/R),t*(o=k(2,-r))<1&&(r--,o*=2),2<=(t+=1<=r+c?h/o:h*k(2,1-c))*o&&(r++,o/=2),u<=r+c?(i=0,r=u):1<=r+c?(i=(t*o-1)*k(2,e),r+=c):(i=t*k(2,c-1)*k(2,e),r=0));8<=e;s[f++]=255&i,i/=256,e-=8);for(r=r<<e|i,a+=e;0<a;s[f++]=255&r,r/=256,a-=8);return s[--f]|=128*l,s}function V(t,e,n){var r,i=8*n-e-1,o=(1<<i)-1,s=o>>1,a=i-7,u=n-1,c=t[u--],h=127&c;for(c>>=7;0<a;h=256*h+t[u],u--,a-=8);for(r=h&(1<<-a)-1,h>>=-a,a+=e;0<a;r=256*r+t[u],u--,a-=8);if(0===h)h=1-s;else{if(h===o)return r?NaN:c?-O:O;r+=k(2,e),h-=s}return(c?-1:1)*r*k(2,h-e)}function U(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]}function q(t){return[255&t]}function B(t){return[255&t,t>>8&255]}function G(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]}function W(t){return F(t,52,8)}function z(t){return F(t,23,4)}function H(t,e,n){v(t[w],e,{get:function(){return this[n]}})}function K(t,e,n,r){var i=p(+n);if(i+e>t[L])throw S(E);var o=t[C]._b,s=i+t[M],a=o.slice(s,s+e);return r?a:a.reverse()}function $(t,e,n,r,i,o){var s=p(+n);if(s+e>t[L])throw S(E);for(var a=t[C]._b,u=s+t[M],c=r(+i),h=0;h<e;h++)a[u+h]=c[o?h:e-h-1]}if(s.ABV){if(!c(function(){_(1)})||!c(function(){new _(-1)})||c(function(){return new _,new _(1.5),new _(NaN),_.name!=m})){for(var X,Y=(_=function(t){return h(this,_),new N(p(t))})[w]=N[w],J=d(N),Q=0;J.length>Q;)(X=J[Q++])in _||a(_,X,N[X]);o||(Y.constructor=_)}var Z=new I(new _(2)),tt=I[w].setInt8;Z.setInt8(0,2147483648),Z.setInt8(1,2147483649),!Z.getInt8(0)&&Z.getInt8(1)||u(I[w],{setInt8:function(t,e){tt.call(this,t,e<<24>>24)},setUint8:function(t,e){tt.call(this,t,e<<24>>24)}},!0)}else _=function(t){h(this,_,m);var e=p(t);this._b=y.call(new Array(e),0),this[L]=e},I=function(t,e,n){h(this,I,b),h(t,_,b);var r=t[L],i=f(e);if(i<0||r<i)throw S("Wrong offset!");if(r<i+(n=void 0===n?r-i:l(n)))throw S("Wrong length!");this[C]=t,this[M]=i,this[L]=n},i&&(H(_,D,"_l"),H(I,"buffer","_b"),H(I,D,"_l"),H(I,j,"_o")),u(I[w],{getInt8:function(t){return K(this,1,t)[0]<<24>>24},getUint8:function(t){return K(this,1,t)[0]},getInt16:function(t,e){var n=K(this,2,t,e);return(n[1]<<8|n[0])<<16>>16},getUint16:function(t,e){var n=K(this,2,t,e);return n[1]<<8|n[0]},getInt32:function(t,e){return U(K(this,4,t,e))},getUint32:function(t,e){return U(K(this,4,t,e))>>>0},getFloat32:function(t,e){return V(K(this,4,t,e),23,4)},getFloat64:function(t,e){return V(K(this,8,t,e),52,8)},setInt8:function(t,e){$(this,1,t,q,e)},setUint8:function(t,e){$(this,1,t,q,e)},setInt16:function(t,e,n){$(this,2,t,B,e,n)},setUint16:function(t,e,n){$(this,2,t,B,e,n)},setInt32:function(t,e,n){$(this,4,t,G,e,n)},setUint32:function(t,e,n){$(this,4,t,G,e,n)},setFloat32:function(t,e,n){$(this,4,t,z,e,n)},setFloat64:function(t,e,n){$(this,8,t,W,e,n)}});g(_,m),g(I,b),a(I[w],s.VIEW,!0),e[m]=_,e[b]=I},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){t.exports=!n(126)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,A,k){"use strict";(function(t){Object.defineProperty(A,"__esModule",{value:!0});function s(t,e){if(!t)throw i(e)}function n(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:(i<2048?e[n++]=i>>6|192:(55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128):e[n++]=i>>12|224,e[n++]=i>>6&63|128),e[n++]=63&i|128)}return e}function a(t){try{return o.decodeString(t,!0)}catch(t){console.error("base64Decode failed: ",t)}return null}var e=k(62),r={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},i=function(t){return new Error("Firebase Database ("+r.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)},o={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,h=o>>2,f=(3&o)<<4|a>>4,l=(15&a)<<2|c>>6,p=63&c;u||(p=64,s||(l=64)),r.push(n[h],n[f],n[l],n[p])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(n(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i,o,s,a=t[n++];a<128?e[r++]=String.fromCharCode(a):191<a&&a<224?(o=t[n++],e[r++]=String.fromCharCode((31&a)<<6|63&o)):239<a&&a<365?(i=((7&a)<<18|(63&(o=t[n++]))<<12|(63&(s=t[n++]))<<6|63&t[n++])-65536,e[r++]=String.fromCharCode(55296+(i>>10)),e[r++]=String.fromCharCode(56320+(1023&i))):(o=t[n++],s=t[n++],e[r++]=String.fromCharCode((15&a)<<12|(63&o)<<6|63&s))}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],s=i<t.length?n[t.charAt(i)]:0,a=++i<t.length?n[t.charAt(i)]:64,u=++i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==s||null==a||null==u)throw Error();var c,h,f=o<<2|s>>4;r.push(f),64!==a&&(c=s<<4&240|a>>2,r.push(c),64!==u&&(h=a<<6&192|u,r.push(h)))}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),(this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t)>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};function u(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&(t[n]=u(t[n],e[n]));return t}var c=(h.prototype.wrapCallback=function(n){var r=this;return function(t,e){t?r.reject(t):r.resolve(e),"function"==typeof n&&(r.promise.catch(function(){}),1===n.length?n(t):n(t,e))}},h);function h(){var n=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(t,e){n.resolve=t,n.reject=e})}function f(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function l(){try{return"[object process]"===Object.prototype.toString.call(t.process)}catch(t){return!1}}var p,d="FirebaseError",v=(p=Error,e.__extends(y,p),y);function y(t,e){var n=p.call(this,e)||this;return n.code=t,n.name=d,Object.setPrototypeOf(n,y.prototype),Error.captureStackTrace&&Error.captureStackTrace(n,g.prototype.create),n}var g=(m.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r,i=e[0]||{},o=this.service+"/"+t,s=this.errors[t],a=s?(r=i,s.replace(b,function(t,e){var n=r[e];return null!=n?n.toString():"<"+e+"?>"})):"Error",u=this.serviceName+": "+a+" ("+o+").",c=new v(o,u),h=0,f=Object.keys(i);h<f.length;h++){var l=f[h];"_"!==l.slice(-1)&&(l in c&&console.warn('Overwriting FirebaseError base field "'+l+'" can cause unexpected behavior.'),c[l]=i[l])}return c},m);function m(t,e,n){this.service=t,this.serviceName=e,this.errors=n}var b=/\{\$([^}]+)}/g;function w(t){return JSON.parse(t)}function E(t){var e={},n={},r={},i="";try{var o=t.split("."),e=w(a(o[0])||""),n=w(a(o[1])||""),i=o[2],r=n.d||{};delete n.d}catch(t){}return{header:e,claims:n,data:r,signature:i}}var _=(I.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},I.prototype.compress_=function(t,e){e=e||0;var n=this.W_;if("string"==typeof t)for(var r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}for(var o,s,a=this.chain_[0],u=this.chain_[1],c=this.chain_[2],h=this.chain_[3],f=this.chain_[4],r=0;r<80;r++)s=r<40?r<20?(o=h^u&(c^h),1518500249):(o=u^c^h,1859775393):r<60?(o=u&c|h&(u|c),2400959708):(o=u^c^h,3395469782),i=(a<<5|a>>>27)+o+f+s+n[r]&4294967295,f=h,h=c,c=4294967295&(u<<30|u>>>2),u=a,a=i;this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+f&4294967295},I.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<e;){if(0===o)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"==typeof t){for(;r<e;)if(i[o]=t.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<e;)if(i[o]=t[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=e}},I.prototype.digest=function(){var t=[],e=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;56<=n;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);for(var r=0,n=0;n<5;n++)for(var i=24;0<=i;i-=8)t[r]=this.chain_[n]>>i&255,++r;return t},I);function I(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}var T=(S.prototype.next=function(e){this.forEachObserver(function(t){t.next(e)})},S.prototype.error=function(e){this.forEachObserver(function(t){t.error(e)}),this.close(e)},S.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},S.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"==typeof t&&null!==t)for(var n=0,r=e;n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return 1}}(t,["next","error","complete"])?t:{next:t,error:e,complete:n}).next&&(r.next=O),void 0===r.error&&(r.error=O),void 0===r.complete&&(r.complete=O);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}}),this.observers.push(r),o},S.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],--this.observerCount,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},S.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},S.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(t){"undefined"!=typeof console&&console.error&&console.error(t)}})},S.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},S);function S(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}function O(){}function N(t,e,n){var r="";switch(e){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}var i=t+" failed: ";return i+=r+" argument "}A.CONSTANTS=r,A.Deferred=c,A.ErrorFactory=g,A.FirebaseError=v,A.Sha1=_,A.assert=s,A.assertionError=i,A.async=function(n,r){return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];Promise.resolve(!0).then(function(){n.apply(void 0,t)}).catch(function(t){r&&r(t)})}},A.base64=o,A.base64Decode=a,A.base64Encode=function(t){var e=n(t);return o.encodeByteArray(e,!0)},A.contains=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},A.createSubscribe=function(t,e){var n=new T(t,e);return n.subscribe.bind(n)},A.decode=E,A.deepCopy=function(t){return u(void 0,t)},A.deepExtend=u,A.errorPrefix=N,A.getUA=f,A.isAdmin=function(t){var e=E(t).claims;return"object"==typeof e&&!0===e.admin},A.isBrowser=function(){return"object"==typeof self&&self.self===self},A.isBrowserExtension=function(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id},A.isElectron=function(){return 0<=f().indexOf("Electron/")},A.isEmpty=function(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0},A.isIE=function(){var t=f();return 0<=t.indexOf("MSIE ")||0<=t.indexOf("Trident/")},A.isMobileCordova=function(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(f())},A.isNode=l,A.isNodeSdk=function(){return!0===r.NODE_CLIENT||!0===r.NODE_ADMIN},A.isReactNative=function(){return"object"==typeof navigator&&"ReactNative"===navigator.product},A.isSafari=function(){return!l()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")},A.isUWP=function(){return 0<=f().indexOf("MSAppHost/")},A.isValidFormat=function(t){var e=E(t).claims;return!!e&&"object"==typeof e&&e.hasOwnProperty("iat")},A.isValidTimestamp=function(t){var e=E(t).claims,n=Math.floor((new Date).getTime()/1e3),r=0,i=0;return"object"==typeof e&&(e.hasOwnProperty("nbf")?r=e.nbf:e.hasOwnProperty("iat")&&(r=e.iat),i=e.hasOwnProperty("exp")?e.exp:r+86400),!!n&&!!r&&!!i&&r<=n&&n<=i},A.issuedAtTime=function(t){var e=E(t).claims;return"object"==typeof e&&e.hasOwnProperty("iat")?e.iat:null},A.jsonEval=w,A.map=function(t,e,n){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r},A.querystring=function(t){for(var n=[],e=0,r=Object.entries(t);e<r.length;e++){var i=r[e];!function(e,t){Array.isArray(t)?t.forEach(function(t){n.push(encodeURIComponent(e)+"="+encodeURIComponent(t))}):n.push(encodeURIComponent(e)+"="+encodeURIComponent(t))}(i[0],i[1])}return n.length?"&"+n.join("&"):""},A.querystringDecode=function(t){var n={};return t.replace(/^\?/,"").split("&").forEach(function(t){var e;t&&(e=t.split("="),n[e[0]]=e[1])}),n},A.safeGet=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0},A.stringLength=function(t){for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:55296<=r&&r<=56319?(e+=4,n++):e+=3}return e},A.stringToByteArray=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i,o=t.charCodeAt(r);55296<=o&&o<=56319&&(i=o-55296,s(++r<t.length,"Surrogate pair missing trail surrogate."),o=65536+(i<<10)+(t.charCodeAt(r)-56320)),o<128?e[n++]=o:(o<2048?e[n++]=o>>6|192:(o<65536?e[n++]=o>>12|224:(e[n++]=o>>18|240,e[n++]=o>>12&63|128),e[n++]=o>>6&63|128),e[n++]=63&o|128)}return e},A.stringify=function(t){return JSON.stringify(t)},A.validateArgCount=function(t,e,n,r){var i;if(r<e?i="at least "+e:n<r&&(i=0===n?"none":"no more than "+n),i)throw new Error(t+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")},A.validateCallback=function(t,e,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(N(t,e,r)+"must be a valid function.")},A.validateContextObject=function(t,e,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(N(t,e,r)+"must be a valid context object.")},A.validateNamespace=function(t,e,n,r){if((!r||n)&&"string"!=typeof n)throw new Error(N(t,e,r)+"must be a valid firebase namespace.")}}).call(this,k(92))},function(t,e){var n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";var r,i=(r=n(1))&&"object"==typeof r&&"default"in r?r.default:r;i.registerVersion("firebase","7.15.4","app"),t.exports=i},function(t,e,n){t.exports=!n(10)&&!n(3)(function(){return 7!=Object.defineProperty(n(63)("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){var r=n(2),i=n(9),o=n(32),s=n(64),a=n(11).f;t.exports=function(t){var e=i.Symbol||(i.Symbol=!o&&r.Symbol||{});"_"==t.charAt(0)||t in e||a(e,t,{value:s.f(t)})}},function(t,e,n){var s=n(15),a=n(17),u=n(51)(!1),c=n(65)("IE_PROTO");t.exports=function(t,e){var n,r=a(t),i=0,o=[];for(n in r)n!=c&&s(r,n)&&o.push(n);for(;e.length>i;)s(r,n=e[i++])&&(~u(o,n)||o.push(n));return o}},function(t,e,n){var s=n(11),a=n(4),u=n(33);t.exports=n(10)?Object.defineProperties:function(t,e){a(t);for(var n,r=u(e),i=r.length,o=0;o<i;)s.f(t,n=r[o++],e[n]);return t}},function(t,e,n){var r=n(17),i=n(36).f,o={}.toString,s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return s&&"[object Window]"==o.call(t)?function(t){try{return i(t)}catch(t){return s.slice()}}(t):i(r(t))}},function(t,e,n){"use strict";var l=n(10),p=n(33),d=n(52),v=n(47),y=n(12),g=n(46),i=Object.assign;t.exports=!i||n(3)(function(){var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach(function(t){e[t]=t}),7!=i({},t)[n]||Object.keys(i({},e)).join("")!=r})?function(t,e){for(var n=y(t),r=arguments.length,i=1,o=d.f,s=v.f;i<r;)for(var a,u=g(arguments[i++]),c=o?p(u).concat(o(u)):p(u),h=c.length,f=0;f<h;)a=c[f++],l&&!s.call(u,a)||(n[a]=u[a]);return n}:i},function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}},function(t,e,n){"use strict";var o=n(20),s=n(5),a=n(102),u=[].slice,c={};t.exports=Function.bind||function(e){var n=o(this),r=u.call(arguments,1),i=function(){var t=r.concat(u.call(arguments));return this instanceof i?function(t,e,n){if(!(e in c)){for(var r=[],i=0;i<e;i++)r[i]="a["+i+"]";c[e]=Function("F,a","return new F("+r.join(",")+")")}return c[e](t,n)}(n,t.length,t):a(n,t,e)};return s(n.prototype)&&(i.prototype=n.prototype),i}},function(t,e){t.exports=function(t,e,n){var r=void 0===n;switch(e.length){case 0:return r?t():t.call(n);case 1:return r?t(e[0]):t.call(n,e[0]);case 2:return r?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return r?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return r?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},function(t,e,n){var r=n(2).parseInt,i=n(41).trim,o=n(69),s=/^[-+]?0[xX]/;t.exports=8!==r(o+"08")||22!==r(o+"0x16")?function(t,e){var n=i(String(t),3);return r(n,e>>>0||(s.test(n)?16:10))}:r},function(t,e,n){var r=n(2).parseFloat,i=n(41).trim;t.exports=1/r(n(69)+"-0")!=-1/0?function(t){var e=i(String(t),3),n=r(e);return 0===n&&"-"==e.charAt(0)?-0:n}:r},function(t,e,n){var r=n(25);t.exports=function(t,e){if("number"!=typeof t&&"Number"!=r(t))throw TypeError(e);return+t}},function(t,e,n){var r=n(5),i=Math.floor;t.exports=function(t){return!r(t)&&isFinite(t)&&i(t)===t}},function(t,e){t.exports=Math.log1p||function(t){return-1e-8<(t=+t)&&t<1e-8?t-t*t/2:Math.log(1+t)}},function(t,e,n){"use strict";var r=n(35),i=n(30),o=n(40),s={};n(16)(s,n(7)("iterator"),function(){return this}),t.exports=function(t,e,n){t.prototype=r(s,{next:i(1,n)}),o(t,e+" Iterator")}},function(t,e,n){var o=n(4);t.exports=function(e,t,n,r){try{return r?t(o(n)[0],n[1]):t(n)}catch(t){var i=e.return;throw void 0!==i&&o(i.call(e)),t}}},function(t,e,n){var r=n(224);t.exports=function(t,e){return new(r(t))(e)}},function(t,e,n){var h=n(20),f=n(12),l=n(46),p=n(8);t.exports=function(t,e,n,r,i){h(e);var o=f(t),s=l(o),a=p(o.length),u=i?a-1:0,c=i?-1:1;if(n<2)for(;;){if(u in s){r=s[u],u+=c;break}if(u+=c,i?u<0:a<=u)throw TypeError("Reduce of empty array with no initial value")}for(;i?0<=u:u<a;u+=c)u in s&&(r=e(r,s[u],u,o));return r}},function(t,e,n){"use strict";var h=n(12),f=n(34),l=n(8);t.exports=[].copyWithin||function(t,e,n){var r=h(this),i=l(r.length),o=f(t,i),s=f(e,i),a=2<arguments.length?n:void 0,u=Math.min((void 0===a?i:f(a,i))-s,i-o),c=1;for(s<o&&o<s+u&&(c=-1,s+=u-1,o+=u-1);0<u--;)s in r?r[o]=r[s]:delete r[o],o+=c,s+=c;return r}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,n){"use strict";var r=n(84);n(0)({target:"RegExp",proto:!0,forced:r!==/./.exec},{exec:r})},function(t,e,n){n(10)&&"g"!=/./g.flags&&n(11).f(RegExp.prototype,"flags",{configurable:!0,get:n(55)})},function(t,e,n){"use strict";function r(){}function f(t){var e;return!(!y(t)||"function"!=typeof(e=t.then))&&e}function i(h,e){var n;h._n||(h._n=!0,n=h._c,_(function(){for(var u=h._v,c=1==h._s,t=0;n.length>t;)!function(t){var e,n,r,i=c?t.ok:t.fail,o=t.resolve,s=t.reject,a=t.domain;try{i?(c||(2==h._h&&F(h),h._h=1),!0===i?e=u:(a&&a.enter(),e=i(u),a&&(a.exit(),r=!0)),e===t.promise?s(A("Promise-chain cycle")):(n=f(e))?n.call(e,o,s):o(e)):s(u)}catch(t){a&&!r&&a.exit(),s(t)}}(n[t++]);h._c=[],h._n=!1,e&&!h._h&&L(h)}))}function o(t){var e=this;e._d||(e._d=!0,(e=e._w||e)._v=t,e._s=2,e._a||(e._a=e._c.slice()),i(e,!0))}var s,a,u,c,h=n(32),l=n(2),p=n(19),d=n(48),v=n(0),y=n(5),g=n(20),m=n(44),b=n(58),w=n(49),E=n(86).set,_=n(244)(),I=n(117),T=n(245),S=n(59),O=n(118),N="Promise",A=l.TypeError,k=l.process,P=k&&k.versions,x=P&&P.v8||"",R=l[N],D="process"==d(k),j=a=I.f,C=!!function(){try{var t=R.resolve(1),e=(t.constructor={})[n(7)("species")]=function(t){t(r,r)};return(D||"function"==typeof PromiseRejectionEvent)&&t.then(r)instanceof e&&0!==x.indexOf("6.6")&&-1===S.indexOf("Chrome/66")}catch(t){}}(),L=function(o){E.call(l,function(){var t,e,n,r=o._v,i=M(o);if(i&&(t=T(function(){D?k.emit("unhandledRejection",r,o):(e=l.onunhandledrejection)?e({promise:o,reason:r}):(n=l.console)&&n.error&&n.error("Unhandled promise rejection",r)}),o._h=D||M(o)?2:1),o._a=void 0,i&&t.e)throw t.v})},M=function(t){return 1!==t._h&&0===(t._a||t._c).length},F=function(e){E.call(l,function(){var t;D?k.emit("rejectionHandled",e):(t=l.onrejectionhandled)&&t({promise:e,reason:e._v})})},V=function(t){var n,r=this;if(!r._d){r._d=!0,r=r._w||r;try{if(r===t)throw A("Promise can't be resolved itself");(n=f(t))?_(function(){var e={_w:r,_d:!1};try{n.call(t,p(V,e,1),p(o,e,1))}catch(t){o.call(e,t)}}):(r._v=t,r._s=1,i(r,!1))}catch(t){o.call({_w:r,_d:!1},t)}}};C||(R=function(t){m(this,R,N,"_h"),g(t),s.call(this);try{t(p(V,this,1),p(o,this,1))}catch(t){o.call(this,t)}},(s=function(){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n(45)(R.prototype,{then:function(t,e){var n=j(w(this,R));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=D?k.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&i(this,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),u=function(){var t=new s;this.promise=t,this.resolve=p(V,t,1),this.reject=p(o,t,1)},I.f=j=function(t){return t===R||t===c?new u:a(t)}),v(v.G+v.W+v.F*!C,{Promise:R}),n(40)(R,N),n(43)(N),c=n(9)[N],v(v.S+v.F*!C,N,{reject:function(t){var e=j(this);return(0,e.reject)(t),e.promise}}),v(v.S+v.F*(h||!C),N,{resolve:function(t){return O(h&&this===c?R:this,t)}}),v(v.S+v.F*!(C&&n(54)(function(t){R.all(t).catch(r)})),N,{all:function(t){var s=this,e=j(s),a=e.resolve,u=e.reject,n=T(function(){var r=[],i=0,o=1;b(t,!1,function(t){var e=i++,n=!1;r.push(void 0),o++,s.resolve(t).then(function(t){n||(n=!0,r[e]=t,--o||a(r))},u)}),--o||a(r)});return n.e&&u(n.v),e.promise},race:function(t){var e=this,n=j(e),r=n.reject,i=T(function(){b(t,!1,function(t){e.resolve(t).then(n.resolve,r)})});return i.e&&r(i.v),n.promise}})},function(t,e,n){"use strict";var i=n(20);function r(t){var n,r;this.promise=new t(function(t,e){if(void 0!==n||void 0!==r)throw TypeError("Bad Promise constructor");n=t,r=e}),this.resolve=i(n),this.reject=i(r)}t.exports.f=function(t){return new r(t)}},function(t,e,n){var r=n(4),i=n(5),o=n(117);t.exports=function(t,e){if(r(t),i(e)&&e.constructor===t)return e;var n=o.f(t);return(0,n.resolve)(e),n.promise}},function(t,e,n){"use strict";function s(t,e){var n,r=d(e);if("F"!==r)return t._i[r];for(n=t._f;n;n=n.n)if(n.k==e)return n}var a=n(11).f,u=n(35),c=n(45),h=n(19),f=n(44),l=n(58),r=n(75),i=n(113),o=n(43),p=n(10),d=n(29).fastKey,v=n(39),y=p?"_s":"size";t.exports={getConstructor:function(t,o,n,r){var i=t(function(t,e){f(t,i,o,"_i"),t._t=o,t._i=u(null),t._f=void 0,t._l=void 0,t[y]=0,null!=e&&l(e,n,t[r],t)});return c(i.prototype,{clear:function(){for(var t=v(this,o),e=t._i,n=t._f;n;n=n.n)n.r=!0,n.p&&(n.p=n.p.n=void 0),delete e[n.i];t._f=t._l=void 0,t[y]=0},delete:function(t){var e,n,r=v(this,o),i=s(r,t);return i&&(e=i.n,n=i.p,delete r._i[i.i],i.r=!0,n&&(n.n=e),e&&(e.p=n),r._f==i&&(r._f=e),r._l==i&&(r._l=n),r[y]--),!!i},forEach:function(t,e){v(this,o);for(var n,r=h(t,1<arguments.length?e:void 0,3);n=n?n.n:this._f;)for(r(n.v,n.k,this);n&&n.r;)n=n.p},has:function(t){return!!s(v(this,o),t)}}),p&&a(i.prototype,"size",{get:function(){return v(this,o)[y]}}),i},def:function(t,e,n){var r,i,o=s(t,e);return o?o.v=n:(t._l=o={i:i=d(e,!0),k:e,v:n,p:r=t._l,n:void 0,r:!1},t._f||(t._f=o),r&&(r.n=o),t[y]++,"F"!==i&&(t._i[i]=o)),t},getEntry:s,setStrong:function(t,n,e){r(t,n,function(t,e){this._t=v(t,n),this._k=e,this._l=void 0},function(){for(var t=this,e=t._k,n=t._l;n&&n.r;)n=n.p;return t._t&&(t._l=n=n?n.n:t._t._f)?i(0,"keys"==e?n.k:"values"==e?n.v:[n.k,n.v]):(t._t=void 0,i(1))},e?"entries":"values",!e,!0),o(n)}}},function(t,e,n){"use strict";function s(t){return t._l||(t._l=new g)}function r(t,e){return d(t.a,function(t){return t[0]===e})}var a=n(45),u=n(29).getWeak,i=n(4),c=n(5),h=n(44),f=n(58),o=n(24),l=n(15),p=n(39),d=o(5),v=o(6),y=0,g=function(){this.a=[]};g.prototype={get:function(t){var e=r(this,t);if(e)return e[1]},has:function(t){return!!r(this,t)},set:function(t,e){var n=r(this,t);n?n[1]=e:this.a.push([t,e])},delete:function(e){var t=v(this.a,function(t){return t[0]===e});return~t&&this.a.splice(t,1),!!~t}},t.exports={getConstructor:function(t,n,r,i){var o=t(function(t,e){h(t,o,n,"_i"),t._t=n,t._i=y++,t._l=void 0,null!=e&&f(e,r,t[i],t)});return a(o.prototype,{delete:function(t){if(!c(t))return!1;var e=u(t);return!0===e?s(p(this,n)).delete(t):e&&l(e,this._i)&&delete e[this._i]},has:function(t){if(!c(t))return!1;var e=u(t);return!0===e?s(p(this,n)).has(t):e&&l(e,this._i)}}),o},def:function(t,e,n){var r=u(i(e),!0);return!0===r?s(t).set(e,n):r[t._i]=n,t},ufstore:s}},function(t,e,n){var r=n(21),i=n(8);t.exports=function(t){if(void 0===t)return 0;var e=r(t),n=i(e);if(e!==n)throw RangeError("Wrong length!");return n}},function(t,e,n){var r=n(36),i=n(52),o=n(4),s=n(2).Reflect;t.exports=s&&s.ownKeys||function(t){var e=r.f(o(t)),n=i.f;return n?e.concat(n(t)):e}},function(t,e,n){var h=n(8),f=n(71),l=n(26);t.exports=function(t,e,n,r){var i=String(l(t)),o=i.length,s=void 0===n?" ":String(n),a=h(e);if(a<=o||""==s)return i;var u=a-o,c=f.call(s,Math.ceil(u/s.length));return c.length>u&&(c=c.slice(0,u)),r?c+i:i+c}},function(t,e,n){var u=n(10),c=n(33),h=n(17),f=n(47).f;t.exports=function(a){return function(t){for(var e,n=h(t),r=c(n),i=r.length,o=0,s=[];o<i;)e=r[o++],u&&!f.call(n,e)||s.push(a?[e,n[e]]:n[e]);return s}}},function(t,e){var n=t.exports={version:"2.6.11"};"number"==typeof __e&&(__e=n)},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var h=n(62),i=n(91),r=(o.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},o.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},o.prototype.setServiceProps=function(t){return this.serviceProps=t,this},o);function o(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}var f="[DEFAULT]",s=(a.prototype.get=function(t){void 0===t&&(t=f);var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.Deferred;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService(e);r&&n.resolve(r)}catch(t){}}return this.instancesDeferred.get(e).promise},a.prototype.getImmediate=function(t){var e=h.__assign({identifier:f,optional:!1},t),n=e.identifier,r=e.optional,i=this.normalizeInstanceIdentifier(n);try{var o=this.getOrInitializeService(i);if(o)return o;if(r)return null;throw Error("Service "+this.name+" is not available")}catch(t){if(r)return null;throw t}},a.prototype.getComponent=function(){return this.component},a.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if("EAGER"===(this.component=t).instantiationMode)try{this.getOrInitializeService(f)}catch(t){}try{for(var r=h.__values(this.instancesDeferred.entries()),i=r.next();!i.done;i=r.next()){var o=h.__read(i.value,2),s=o[0],a=o[1],u=this.normalizeInstanceIdentifier(s);try{var c=this.getOrInitializeService(u);a.resolve(c)}catch(t){}}}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}},a.prototype.clearInstance=function(t){void 0===t&&(t=f),this.instancesDeferred.delete(t),this.instances.delete(t)},a.prototype.delete=function(){return h.__awaiter(this,void 0,void 0,function(){var e;return h.__generator(this,function(t){switch(t.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all(e.filter(function(t){return"INTERNAL"in t}).map(function(t){return t.INTERNAL.delete()}))];case 1:return t.sent(),[2]}})})},a.prototype.isComponentSet=function(){return null!=this.component},a.prototype.getOrInitializeService=function(t){var e,n=this.instances.get(t);return!n&&this.component&&(n=this.component.instanceFactory(this.container,(e=t)===f?void 0:e),this.instances.set(t,n)),n||null},a.prototype.normalizeInstanceIdentifier=function(t){return!this.component||this.component.multipleInstances?t:f},a);function a(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}var u=(c.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},c.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},c.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new s(t,this);return this.providers.set(t,e),e},c.prototype.getProviders=function(){return Array.from(this.providers.values())},c);function c(t){this.name=t,this.providers=new Map}e.Component=r,e.ComponentContainer=u,e.Provider=s},function(t,e,n){"use strict";function s(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}var r;n.r(e),n.d(e,"LogLevel",function(){return a}),n.d(e,"Logger",function(){return l}),n.d(e,"setLogLevel",function(){return d}),n.d(e,"setUserLogHandler",function(){return v});var a,i,o=[];(i=a=a||{})[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT";function u(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(e<t.logLevel)){var i=(new Date).toISOString(),o=f[e];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[o].apply(console,s(["["+i+"]  "+t.name+":"],n))}}var c={debug:a.DEBUG,verbose:a.VERBOSE,info:a.INFO,warn:a.WARN,error:a.ERROR,silent:a.SILENT},h=a.INFO,f=((r={})[a.DEBUG]="log",r[a.VERBOSE]="log",r[a.INFO]="info",r[a.WARN]="warn",r[a.ERROR]="error",r),l=(Object.defineProperty(p.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in a))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!0,configurable:!0}),p.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?c[t]:t},Object.defineProperty(p.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!0,configurable:!0}),p.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,s([this,a.DEBUG],t)),this._logHandler.apply(this,s([this,a.DEBUG],t))},p.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,s([this,a.VERBOSE],t)),this._logHandler.apply(this,s([this,a.VERBOSE],t))},p.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,s([this,a.INFO],t)),this._logHandler.apply(this,s([this,a.INFO],t))},p.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,s([this,a.WARN],t)),this._logHandler.apply(this,s([this,a.WARN],t))},p.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,s([this,a.ERROR],t)),this._logHandler.apply(this,s([this,a.ERROR],t))},p);function p(t){this.name=t,this._logLevel=h,this._logHandler=u,this._userLogHandler=null,o.push(this)}function d(e){o.forEach(function(t){t.setLogLevel(e)})}function v(s,e){for(var t=0,n=o;t<n.length;t++){!function(t){var o=null;e&&e.level&&(o=c[e.level]),t.userLogHandler=null===s?null:function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=n.map(function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(t){return null}}).filter(function(t){return t}).join(" ");e>=(null!=o?o:t.logLevel)&&s({level:a[e].toLowerCase(),message:i,args:n,type:t.name})}}(n[t])}}},function(t,e,n){n(130),t.exports=n(320)},function(t,e,n){"use strict";n(131);var r,i=(r=n(303))&&r.__esModule?r:{default:r};i.default._babelPolyfill&&"undefined"!=typeof console&&console.warn&&console.warn("@babel/polyfill is loaded more than once on this page. This is probably not desirable/intended and may have consequences if different versions of the polyfills are applied sequentially. If you do need to load the polyfill more than once, use @babel/polyfill/noConflict instead to bypass the warning."),i.default._babelPolyfill=!0},function(t,e,n){"use strict";n(132),n(275),n(277),n(280),n(282),n(284),n(286),n(288),n(290),n(292),n(294),n(296),n(298),n(302)},function(t,e,n){n(133),n(136),n(137),n(138),n(139),n(140),n(141),n(142),n(143),n(144),n(145),n(146),n(147),n(148),n(149),n(150),n(151),n(152),n(153),n(154),n(155),n(156),n(157),n(158),n(159),n(160),n(161),n(162),n(163),n(164),n(165),n(166),n(167),n(168),n(169),n(170),n(171),n(172),n(173),n(174),n(175),n(176),n(177),n(179),n(180),n(181),n(182),n(183),n(184),n(185),n(186),n(187),n(188),n(189),n(190),n(191),n(192),n(193),n(194),n(195),n(196),n(197),n(198),n(199),n(200),n(201),n(202),n(203),n(204),n(205),n(206),n(207),n(208),n(209),n(210),n(211),n(212),n(214),n(215),n(217),n(218),n(219),n(220),n(221),n(222),n(223),n(225),n(226),n(227),n(228),n(229),n(230),n(231),n(232),n(233),n(234),n(235),n(236),n(237),n(83),n(238),n(114),n(239),n(115),n(240),n(241),n(242),n(243),n(116),n(246),n(247),n(248),n(249),n(250),n(251),n(252),n(253),n(254),n(255),n(256),n(257),n(258),n(259),n(260),n(261),n(262),n(263),n(264),n(265),n(266),n(267),n(268),n(269),n(270),n(271),n(272),n(273),n(274),t.exports=n(9)},function(t,e,n){"use strict";function r(t){var e=K[t]=P(V[B]);return e._k=t,e}function i(t,e){T(t);for(var n,r=_(e=N(e)),i=0,o=r.length;i<o;)et(t,n=r[i++],e[n]);return t}function o(t){var e=z.call(this,t=A(t,!0));return!(this===X&&h(K,t)&&!h($,t))&&(!(e||!h(this,t)||!h(K,t)||h(this,G)&&this[G][t])||e)}function s(t,e){if(t=N(t),e=A(e,!0),t!==X||!h(K,e)||h($,e)){var n=L(t,e);return!n||!h(K,e)||h(t,G)&&t[G][e]||(n.enumerable=!0),n}}function a(t){for(var e,n=F(N(t)),r=[],i=0;n.length>i;)h(K,e=n[i++])||e==G||e==d||r.push(e);return r}function u(t){for(var e,n=t===X,r=F(n?$:N(t)),i=[],o=0;r.length>o;)!h(K,e=r[o++])||n&&!h(X,e)||i.push(K[e]);return i}var c=n(2),h=n(15),f=n(10),l=n(0),p=n(13),d=n(29).KEY,v=n(3),y=n(50),g=n(40),m=n(31),b=n(7),w=n(64),E=n(95),_=n(135),I=n(53),T=n(4),S=n(5),O=n(12),N=n(17),A=n(28),k=n(30),P=n(35),x=n(98),R=n(22),D=n(52),j=n(11),C=n(33),L=R.f,M=j.f,F=x.f,V=c.Symbol,U=c.JSON,q=U&&U.stringify,B="prototype",G=b("_hidden"),W=b("toPrimitive"),z={}.propertyIsEnumerable,H=y("symbol-registry"),K=y("symbols"),$=y("op-symbols"),X=Object[B],Y="function"==typeof V&&!!D.f,J=c.QObject,Q=!J||!J[B]||!J[B].findChild,Z=f&&v(function(){return 7!=P(M({},"a",{get:function(){return M(this,"a",{value:7}).a}})).a})?function(t,e,n){var r=L(X,e);r&&delete X[e],M(t,e,n),r&&t!==X&&M(X,e,r)}:M,tt=Y&&"symbol"==typeof V.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof V},et=function(t,e,n){return t===X&&et($,e,n),T(t),e=A(e,!0),T(n),h(K,e)?(n.enumerable?(h(t,G)&&t[G][e]&&(t[G][e]=!1),n=P(n,{enumerable:k(0,!1)})):(h(t,G)||M(t,G,k(1,{})),t[G][e]=!0),Z(t,e,n)):M(t,e,n)};Y||(p((V=function(t){if(this instanceof V)throw TypeError("Symbol is not a constructor!");var e=m(0<arguments.length?t:void 0),n=function(t){this===X&&n.call($,t),h(this,G)&&h(this[G],e)&&(this[G][e]=!1),Z(this,e,k(1,t))};return f&&Q&&Z(X,e,{configurable:!0,set:n}),r(e)})[B],"toString",function(){return this._k}),R.f=s,j.f=et,n(36).f=x.f=a,n(47).f=o,D.f=u,f&&!n(32)&&p(X,"propertyIsEnumerable",o,!0),w.f=function(t){return r(b(t))}),l(l.G+l.W+l.F*!Y,{Symbol:V});for(var nt="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),rt=0;nt.length>rt;)b(nt[rt++]);for(var it=C(b.store),ot=0;it.length>ot;)E(it[ot++]);l(l.S+l.F*!Y,"Symbol",{for:function(t){return h(H,t+="")?H[t]:H[t]=V(t)},keyFor:function(t){if(!tt(t))throw TypeError(t+" is not a symbol!");for(var e in H)if(H[e]===t)return e},useSetter:function(){Q=!0},useSimple:function(){Q=!1}}),l(l.S+l.F*!Y,"Object",{create:function(t,e){return void 0===e?P(t):i(P(t),e)},defineProperty:et,defineProperties:i,getOwnPropertyDescriptor:s,getOwnPropertyNames:a,getOwnPropertySymbols:u});var st=v(function(){D.f(1)});l(l.S+l.F*st,"Object",{getOwnPropertySymbols:function(t){return D.f(O(t))}}),U&&l(l.S+l.F*(!Y||v(function(){var t=V();return"[null]"!=q([t])||"{}"!=q({a:t})||"{}"!=q(Object(t))})),"JSON",{stringify:function(t){for(var e,n,r=[t],i=1;i<arguments.length;)r.push(arguments[i++]);if(n=e=r[1],(S(e)||void 0!==t)&&!tt(t))return I(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!tt(e))return e}),r[1]=e,q.apply(U,r)}}),V[B][W]||n(16)(V[B],W,V[B].valueOf),g(V,"Symbol"),g(Math,"Math",!0),g(c.JSON,"JSON",!0)},function(t,e,n){t.exports=n(50)("native-function-to-string",Function.toString)},function(t,e,n){var a=n(33),u=n(52),c=n(47);t.exports=function(t){var e=a(t),n=u.f;if(n)for(var r,i=n(t),o=c.f,s=0;i.length>s;)o.call(t,r=i[s++])&&e.push(r);return e}},function(t,e,n){var r=n(0);r(r.S,"Object",{create:n(35)})},function(t,e,n){var r=n(0);r(r.S+r.F*!n(10),"Object",{defineProperty:n(11).f})},function(t,e,n){var r=n(0);r(r.S+r.F*!n(10),"Object",{defineProperties:n(97)})},function(t,e,n){var r=n(17),i=n(22).f;n(23)("getOwnPropertyDescriptor",function(){return function(t,e){return i(r(t),e)}})},function(t,e,n){var r=n(12),i=n(37);n(23)("getPrototypeOf",function(){return function(t){return i(r(t))}})},function(t,e,n){var r=n(12),i=n(33);n(23)("keys",function(){return function(t){return i(r(t))}})},function(t,e,n){n(23)("getOwnPropertyNames",function(){return n(98).f})},function(t,e,n){var r=n(5),i=n(29).onFreeze;n(23)("freeze",function(e){return function(t){return e&&r(t)?e(i(t)):t}})},function(t,e,n){var r=n(5),i=n(29).onFreeze;n(23)("seal",function(e){return function(t){return e&&r(t)?e(i(t)):t}})},function(t,e,n){var r=n(5),i=n(29).onFreeze;n(23)("preventExtensions",function(e){return function(t){return e&&r(t)?e(i(t)):t}})},function(t,e,n){var r=n(5);n(23)("isFrozen",function(e){return function(t){return!r(t)||!!e&&e(t)}})},function(t,e,n){var r=n(5);n(23)("isSealed",function(e){return function(t){return!r(t)||!!e&&e(t)}})},function(t,e,n){var r=n(5);n(23)("isExtensible",function(e){return function(t){return!!r(t)&&(!e||e(t))}})},function(t,e,n){var r=n(0);r(r.S+r.F,"Object",{assign:n(99)})},function(t,e,n){var r=n(0);r(r.S,"Object",{is:n(100)})},function(t,e,n){var r=n(0);r(r.S,"Object",{setPrototypeOf:n(68).set})},function(t,e,n){"use strict";var r=n(48),i={};i[n(7)("toStringTag")]="z",i+""!="[object z]"&&n(13)(Object.prototype,"toString",function(){return"[object "+r(this)+"]"},!0)},function(t,e,n){var r=n(0);r(r.P,"Function",{bind:n(101)})},function(t,e,n){var r=n(11).f,i=Function.prototype,o=/^\s*function ([^ (]*)/;"name"in i||n(10)&&r(i,"name",{configurable:!0,get:function(){try{return(""+this).match(o)[1]}catch(t){return""}}})},function(t,e,n){"use strict";var r=n(5),i=n(37),o=n(7)("hasInstance"),s=Function.prototype;o in s||n(11).f(s,o,{value:function(t){if("function"!=typeof this||!r(t))return!1;if(!r(this.prototype))return t instanceof this;for(;t=i(t);)if(this.prototype===t)return!0;return!1}})},function(t,e,n){var r=n(0),i=n(103);r(r.G+r.F*(parseInt!=i),{parseInt:i})},function(t,e,n){var r=n(0),i=n(104);r(r.G+r.F*(parseFloat!=i),{parseFloat:i})},function(t,e,n){"use strict";function r(t){var e=h(t,!1);if("string"==typeof e&&2<e.length){var n,r,i,o=(e=b?e.trim():p(e,3)).charCodeAt(0);if(43===o||45===o){if(88===(n=e.charCodeAt(2))||120===n)return NaN}else if(48===o){switch(e.charCodeAt(1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+e}for(var s,a=e.slice(2),u=0,c=a.length;u<c;u++)if((s=a.charCodeAt(u))<48||i<s)return NaN;return parseInt(a,r)}}return+e}var i=n(2),o=n(15),s=n(25),a=n(70),h=n(28),u=n(3),c=n(36).f,f=n(22).f,l=n(11).f,p=n(41).trim,d="Number",v=i[d],y=v,g=v.prototype,m=s(n(35)(g))==d,b="trim"in String.prototype;if(!v(" 0o1")||!v("0b1")||v("+0x1")){v=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof v&&(m?u(function(){g.valueOf.call(n)}):s(n)!=d)?a(new y(r(e)),n,v):r(e)};for(var w,E=n(10)?c(y):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),_=0;E.length>_;_++)o(y,w=E[_])&&!o(v,w)&&l(v,w,f(y,w));(v.prototype=g).constructor=v,n(13)(i,d,v)}},function(t,e,n){"use strict";function c(t,e){for(var n=-1,r=e;++n<6;)r+=t*s[n],s[n]=r%1e7,r=o(r/1e7)}function h(t){for(var e=6,n=0;0<=--e;)n+=s[e],s[e]=o(n/t),n=n%t*1e7}function f(){for(var t,e=6,n="";0<=--e;){""===n&&0!==e&&0===s[e]||(t=String(s[e]),n=""===n?t:n+d.call("0",7-t.length)+t)}return n}var r=n(0),l=n(21),p=n(105),d=n(71),i=1..toFixed,o=Math.floor,s=[0,0,0,0,0,0],v="Number.toFixed: incorrect invocation!",y=function(t,e,n){return 0===e?n:e%2==1?y(t,e-1,n*t):y(t*t,e/2,n)};r(r.P+r.F*(!!i&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!n(3)(function(){i.call({})})),"Number",{toFixed:function(t){var e,n,r,i,o=p(this,v),s=l(t),a="",u="0";if(s<0||20<s)throw RangeError(v);if(o!=o)return"NaN";if(o<=-1e21||1e21<=o)return String(o);if(o<0&&(a="-",o=-o),1e-21<o)if(n=(e=function(t){for(var e=0,n=t;4096<=n;)e+=12,n/=4096;for(;2<=n;)e+=1,n/=2;return e}(o*y(2,69,1))-69)<0?o*y(2,-e,1):o/y(2,e,1),n*=4503599627370496,0<(e=52-e)){for(c(0,n),r=s;7<=r;)c(1e7,0),r-=7;for(c(y(10,r,1),0),r=e-1;23<=r;)h(1<<23),r-=23;h(1<<r),c(1,1),h(2),u=f()}else c(0,n),c(1<<-e,0),u=f()+d.call("0",s);return u=0<s?a+((i=u.length)<=s?"0."+d.call("0",s-i)+u:u.slice(0,i-s)+"."+u.slice(i-s)):a+u}})},function(t,e,n){"use strict";var r=n(0),i=n(3),o=n(105),s=1..toPrecision;r(r.P+r.F*(i(function(){return"1"!==s.call(1,void 0)})||!i(function(){s.call({})})),"Number",{toPrecision:function(t){var e=o(this,"Number#toPrecision: incorrect invocation!");return void 0===t?s.call(e):s.call(e,t)}})},function(t,e,n){var r=n(0);r(r.S,"Number",{EPSILON:Math.pow(2,-52)})},function(t,e,n){var r=n(0),i=n(2).isFinite;r(r.S,"Number",{isFinite:function(t){return"number"==typeof t&&i(t)}})},function(t,e,n){var r=n(0);r(r.S,"Number",{isInteger:n(106)})},function(t,e,n){var r=n(0);r(r.S,"Number",{isNaN:function(t){return t!=t}})},function(t,e,n){var r=n(0),i=n(106),o=Math.abs;r(r.S,"Number",{isSafeInteger:function(t){return i(t)&&o(t)<=9007199254740991}})},function(t,e,n){var r=n(0);r(r.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},function(t,e,n){var r=n(0);r(r.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},function(t,e,n){var r=n(0),i=n(104);r(r.S+r.F*(Number.parseFloat!=i),"Number",{parseFloat:i})},function(t,e,n){var r=n(0),i=n(103);r(r.S+r.F*(Number.parseInt!=i),"Number",{parseInt:i})},function(t,e,n){var r=n(0),i=n(107),o=Math.sqrt,s=Math.acosh;r(r.S+r.F*!(s&&710==Math.floor(s(Number.MAX_VALUE))&&s(1/0)==1/0),"Math",{acosh:function(t){return(t=+t)<1?NaN:94906265.62425156<t?Math.log(t)+Math.LN2:i(t-1+o(t-1)*o(t+1))}})},function(t,e,n){var r=n(0),i=Math.asinh;r(r.S+r.F*!(i&&0<1/i(0)),"Math",{asinh:function t(e){return isFinite(e=+e)&&0!=e?e<0?-t(-e):Math.log(e+Math.sqrt(e*e+1)):e}})},function(t,e,n){var r=n(0),i=Math.atanh;r(r.S+r.F*!(i&&1/i(-0)<0),"Math",{atanh:function(t){return 0==(t=+t)?t:Math.log((1+t)/(1-t))/2}})},function(t,e,n){var r=n(0),i=n(72);r(r.S,"Math",{cbrt:function(t){return i(t=+t)*Math.pow(Math.abs(t),1/3)}})},function(t,e,n){var r=n(0);r(r.S,"Math",{clz32:function(t){return(t>>>=0)?31-Math.floor(Math.log(t+.5)*Math.LOG2E):32}})},function(t,e,n){var r=n(0),i=Math.exp;r(r.S,"Math",{cosh:function(t){return(i(t=+t)+i(-t))/2}})},function(t,e,n){var r=n(0),i=n(73);r(r.S+r.F*(i!=Math.expm1),"Math",{expm1:i})},function(t,e,n){var r=n(0);r(r.S,"Math",{fround:n(178)})},function(t,e,n){var o=n(72),r=Math.pow,s=r(2,-52),a=r(2,-23),u=r(2,127)*(2-a),c=r(2,-126);t.exports=Math.fround||function(t){var e,n,r=Math.abs(t),i=o(t);return r<c?i*(r/c/a+1/s-1/s)*c*a:u<(n=(e=(1+a/s)*r)-(e-r))||n!=n?i*(1/0):i*n}},function(t,e,n){var r=n(0),u=Math.abs;r(r.S,"Math",{hypot:function(t,e){for(var n,r,i=0,o=0,s=arguments.length,a=0;o<s;)a<(n=u(arguments[o++]))?(i=i*(r=a/n)*r+1,a=n):i+=0<n?(r=n/a)*r:n;return a===1/0?1/0:a*Math.sqrt(i)}})},function(t,e,n){var r=n(0),i=Math.imul;r(r.S+r.F*n(3)(function(){return-5!=i(4294967295,5)||2!=i.length}),"Math",{imul:function(t,e){var n=65535,r=+t,i=+e,o=n&r,s=n&i;return 0|o*s+((n&r>>>16)*s+o*(n&i>>>16)<<16>>>0)}})},function(t,e,n){var r=n(0);r(r.S,"Math",{log10:function(t){return Math.log(t)*Math.LOG10E}})},function(t,e,n){var r=n(0);r(r.S,"Math",{log1p:n(107)})},function(t,e,n){var r=n(0);r(r.S,"Math",{log2:function(t){return Math.log(t)/Math.LN2}})},function(t,e,n){var r=n(0);r(r.S,"Math",{sign:n(72)})},function(t,e,n){var r=n(0),i=n(73),o=Math.exp;r(r.S+r.F*n(3)(function(){return-2e-17!=!Math.sinh(-2e-17)}),"Math",{sinh:function(t){return Math.abs(t=+t)<1?(i(t)-i(-t))/2:(o(t-1)-o(-t-1))*(Math.E/2)}})},function(t,e,n){var r=n(0),i=n(73),o=Math.exp;r(r.S,"Math",{tanh:function(t){var e=i(t=+t),n=i(-t);return e==1/0?1:n==1/0?-1:(e-n)/(o(t)+o(-t))}})},function(t,e,n){var r=n(0);r(r.S,"Math",{trunc:function(t){return(0<t?Math.floor:Math.ceil)(t)}})},function(t,e,n){var r=n(0),o=n(34),s=String.fromCharCode,i=String.fromCodePoint;r(r.S+r.F*(!!i&&1!=i.length),"String",{fromCodePoint:function(t){for(var e,n=[],r=arguments.length,i=0;i<r;){if(e=+arguments[i++],o(e,1114111)!==e)throw RangeError(e+" is not a valid code point");n.push(e<65536?s(e):s(55296+((e-=65536)>>10),e%1024+56320))}return n.join("")}})},function(t,e,n){var r=n(0),s=n(17),a=n(8);r(r.S,"String",{raw:function(t){for(var e=s(t.raw),n=a(e.length),r=arguments.length,i=[],o=0;o<n;)i.push(String(e[o++])),o<r&&i.push(String(arguments[o]));return i.join("")}})},function(t,e,n){"use strict";n(41)("trim",function(t){return function(){return t(this,3)}})},function(t,e,n){"use strict";var r=n(74)(!0);n(75)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=r(e,n),this._i+=t.length,{value:t,done:!1})})},function(t,e,n){"use strict";var r=n(0),i=n(74)(!1);r(r.P,"String",{codePointAt:function(t){return i(this,t)}})},function(t,e,n){"use strict";var r=n(0),a=n(8),u=n(76),c="endsWith",h=""[c];r(r.P+r.F*n(78)(c),"String",{endsWith:function(t,e){var n=u(this,t,c),r=1<arguments.length?e:void 0,i=a(n.length),o=void 0===r?i:Math.min(a(r),i),s=String(t);return h?h.call(n,s,o):n.slice(o-s.length,o)===s}})},function(t,e,n){"use strict";var r=n(0),i=n(76),o="includes";r(r.P+r.F*n(78)(o),"String",{includes:function(t,e){return!!~i(this,t,o).indexOf(t,1<arguments.length?e:void 0)}})},function(t,e,n){var r=n(0);r(r.P,"String",{repeat:n(71)})},function(t,e,n){"use strict";var r=n(0),o=n(8),s=n(76),a="startsWith",u=""[a];r(r.P+r.F*n(78)(a),"String",{startsWith:function(t,e){var n=s(this,t,a),r=o(Math.min(1<arguments.length?e:void 0,n.length)),i=String(t);return u?u.call(n,i,r):n.slice(r,r+i.length)===i}})},function(t,e,n){"use strict";n(14)("anchor",function(e){return function(t){return e(this,"a","name",t)}})},function(t,e,n){"use strict";n(14)("big",function(t){return function(){return t(this,"big","","")}})},function(t,e,n){"use strict";n(14)("blink",function(t){return function(){return t(this,"blink","","")}})},function(t,e,n){"use strict";n(14)("bold",function(t){return function(){return t(this,"b","","")}})},function(t,e,n){"use strict";n(14)("fixed",function(t){return function(){return t(this,"tt","","")}})},function(t,e,n){"use strict";n(14)("fontcolor",function(e){return function(t){return e(this,"font","color",t)}})},function(t,e,n){"use strict";n(14)("fontsize",function(e){return function(t){return e(this,"font","size",t)}})},function(t,e,n){"use strict";n(14)("italics",function(t){return function(){return t(this,"i","","")}})},function(t,e,n){"use strict";n(14)("link",function(e){return function(t){return e(this,"a","href",t)}})},function(t,e,n){"use strict";n(14)("small",function(t){return function(){return t(this,"small","","")}})},function(t,e,n){"use strict";n(14)("strike",function(t){return function(){return t(this,"strike","","")}})},function(t,e,n){"use strict";n(14)("sub",function(t){return function(){return t(this,"sub","","")}})},function(t,e,n){"use strict";n(14)("sup",function(t){return function(){return t(this,"sup","","")}})},function(t,e,n){var r=n(0);r(r.S,"Date",{now:function(){return(new Date).getTime()}})},function(t,e,n){"use strict";var r=n(0),i=n(12),o=n(28);r(r.P+r.F*n(3)(function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}),"Date",{toJSON:function(){var t=i(this),e=o(t);return"number"!=typeof e||isFinite(e)?t.toISOString():null}})},function(t,e,n){var r=n(0),i=n(213);r(r.P+r.F*(Date.prototype.toISOString!==i),"Date",{toISOString:i})},function(t,e,n){"use strict";function i(t){return 9<t?t:"0"+t}var r=n(3),o=Date.prototype.getTime,s=Date.prototype.toISOString;t.exports=r(function(){return"0385-07-25T07:06:39.999Z"!=s.call(new Date(-5e13-1))})||!r(function(){s.call(new Date(NaN))})?function(){if(!isFinite(o.call(this)))throw RangeError("Invalid time value");var t=this,e=t.getUTCFullYear(),n=t.getUTCMilliseconds(),r=e<0?"-":9999<e?"+":"";return r+("00000"+Math.abs(e)).slice(r?-6:-4)+"-"+i(t.getUTCMonth()+1)+"-"+i(t.getUTCDate())+"T"+i(t.getUTCHours())+":"+i(t.getUTCMinutes())+":"+i(t.getUTCSeconds())+"."+(99<n?n:"0"+i(n))+"Z"}:s},function(t,e,n){var r=Date.prototype,i="Invalid Date",o="toString",s=r[o],a=r.getTime;new Date(NaN)+""!=i&&n(13)(r,o,function(){var t=a.call(this);return t==t?s.call(this):i})},function(t,e,n){var r=n(7)("toPrimitive"),i=Date.prototype;r in i||n(16)(i,r,n(216))},function(t,e,n){"use strict";var r=n(4),i=n(28);t.exports=function(t){if("string"!==t&&"number"!==t&&"default"!==t)throw TypeError("Incorrect hint");return i(r(this),"number"!=t)}},function(t,e,n){var r=n(0);r(r.S,"Array",{isArray:n(53)})},function(t,e,n){"use strict";var d=n(19),r=n(0),v=n(12),y=n(109),g=n(79),m=n(8),b=n(80),w=n(81);r(r.S+r.F*!n(54)(function(t){Array.from(t)}),"Array",{from:function(t,e,n){var r,i,o,s,a=v(t),u="function"==typeof this?this:Array,c=arguments.length,h=1<c?e:void 0,f=void 0!==h,l=0,p=w(a);if(f&&(h=d(h,2<c?n:void 0,2)),null==p||u==Array&&g(p))for(i=new u(r=m(a.length));l<r;l++)b(i,l,f?h(a[l],l):a[l]);else for(s=p.call(a),i=new u;!(o=s.next()).done;l++)b(i,l,f?y(s,h,[o.value,l],!0):o.value);return i.length=l,i}})},function(t,e,n){"use strict";var r=n(0),i=n(80);r(r.S+r.F*n(3)(function(){function t(){}return!(Array.of.call(t)instanceof t)}),"Array",{of:function(){for(var t=0,e=arguments.length,n=new("function"==typeof this?this:Array)(e);t<e;)i(n,t,arguments[t++]);return n.length=e,n}})},function(t,e,n){"use strict";var r=n(0),i=n(17),o=[].join;r(r.P+r.F*(n(46)!=Object||!n(18)(o)),"Array",{join:function(t){return o.call(i(this),void 0===t?",":t)}})},function(t,e,n){"use strict";var r=n(0),i=n(67),c=n(25),h=n(34),f=n(8),l=[].slice;r(r.P+r.F*n(3)(function(){i&&l.call(i)}),"Array",{slice:function(t,e){var n=f(this.length),r=c(this);if(e=void 0===e?n:e,"Array"==r)return l.call(this,t,e);for(var i=h(t,n),o=h(e,n),s=f(o-i),a=new Array(s),u=0;u<s;u++)a[u]="String"==r?this.charAt(i+u):this[i+u];return a}})},function(t,e,n){"use strict";var r=n(0),i=n(20),o=n(12),s=n(3),a=[].sort,u=[1,2,3];r(r.P+r.F*(s(function(){u.sort(void 0)})||!s(function(){u.sort(null)})||!n(18)(a)),"Array",{sort:function(t){return void 0===t?a.call(o(this)):a.call(o(this),i(t))}})},function(t,e,n){"use strict";var r=n(0),i=n(24)(0),o=n(18)([].forEach,!0);r(r.P+r.F*!o,"Array",{forEach:function(t,e){return i(this,t,e)}})},function(t,e,n){var r=n(5),i=n(53),o=n(7)("species");t.exports=function(t){var e;return i(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!i(e.prototype)||(e=void 0),r(e)&&null===(e=e[o])&&(e=void 0)),void 0===e?Array:e}},function(t,e,n){"use strict";var r=n(0),i=n(24)(1);r(r.P+r.F*!n(18)([].map,!0),"Array",{map:function(t,e){return i(this,t,e)}})},function(t,e,n){"use strict";var r=n(0),i=n(24)(2);r(r.P+r.F*!n(18)([].filter,!0),"Array",{filter:function(t,e){return i(this,t,e)}})},function(t,e,n){"use strict";var r=n(0),i=n(24)(3);r(r.P+r.F*!n(18)([].some,!0),"Array",{some:function(t,e){return i(this,t,e)}})},function(t,e,n){"use strict";var r=n(0),i=n(24)(4);r(r.P+r.F*!n(18)([].every,!0),"Array",{every:function(t,e){return i(this,t,e)}})},function(t,e,n){"use strict";var r=n(0),i=n(111);r(r.P+r.F*!n(18)([].reduce,!0),"Array",{reduce:function(t,e){return i(this,t,arguments.length,e,!1)}})},function(t,e,n){"use strict";var r=n(0),i=n(111);r(r.P+r.F*!n(18)([].reduceRight,!0),"Array",{reduceRight:function(t,e){return i(this,t,arguments.length,e,!0)}})},function(t,e,n){"use strict";var r=n(0),i=n(51)(!1),o=[].indexOf,s=!!o&&1/[1].indexOf(1,-0)<0;r(r.P+r.F*(s||!n(18)(o)),"Array",{indexOf:function(t,e){return s?o.apply(this,arguments)||0:i(this,t,e)}})},function(t,e,n){"use strict";var r=n(0),o=n(17),s=n(21),a=n(8),u=[].lastIndexOf,c=!!u&&1/[1].lastIndexOf(1,-0)<0;r(r.P+r.F*(c||!n(18)(u)),"Array",{lastIndexOf:function(t,e){if(c)return u.apply(this,arguments)||0;var n=o(this),r=a(n.length),i=r-1;for(1<arguments.length&&(i=Math.min(i,s(e))),i<0&&(i=r+i);0<=i;i--)if(i in n&&n[i]===t)return i||0;return-1}})},function(t,e,n){var r=n(0);r(r.P,"Array",{copyWithin:n(112)}),n(38)("copyWithin")},function(t,e,n){var r=n(0);r(r.P,"Array",{fill:n(82)}),n(38)("fill")},function(t,e,n){"use strict";var r=n(0),i=n(24)(5),o=!0;"find"in[]&&Array(1).find(function(){o=!1}),r(r.P+r.F*o,"Array",{find:function(t,e){return i(this,t,1<arguments.length?e:void 0)}}),n(38)("find")},function(t,e,n){"use strict";var r=n(0),i=n(24)(6),o="findIndex",s=!0;o in[]&&Array(1)[o](function(){s=!1}),r(r.P+r.F*s,"Array",{findIndex:function(t,e){return i(this,t,1<arguments.length?e:void 0)}}),n(38)(o)},function(t,e,n){n(43)("Array")},function(t,e,n){var r=n(2),o=n(70),i=n(11).f,s=n(36).f,a=n(77),u=n(55),c=r.RegExp,h=c,f=c.prototype,l=/a/g,p=/a/g,d=new c(l)!==l;if(n(10)&&(!d||n(3)(function(){return p[n(7)("match")]=!1,c(l)!=l||c(p)==p||"/a/i"!=c(l,"i")}))){c=function(t,e){var n=this instanceof c,r=a(t),i=void 0===e;return!n&&r&&t.constructor===c&&i?t:o(d?new h(r&&!i?t.source:t,e):h((r=t instanceof c)?t.source:t,r&&i?u.call(t):e),n?this:f,c)};for(var v=s(h),y=0;v.length>y;)!function(e){e in c||i(c,e,{configurable:!0,get:function(){return h[e]},set:function(t){h[e]=t}})}(v[y++]);(f.constructor=c).prototype=f,n(13)(r,"RegExp",c)}n(43)("RegExp")},function(t,e,n){"use strict";n(115);function r(t){n(13)(RegExp.prototype,a,t,!0)}var i=n(4),o=n(55),s=n(10),a="toString",u=/./[a];n(3)(function(){return"/a/b"!=u.call({source:"a",flags:"b"})})?r(function(){var t=i(this);return"/".concat(t.source,"/","flags"in t?t.flags:!s&&t instanceof RegExp?o.call(t):void 0)}):u.name!=a&&r(function(){return u.call(this)})},function(t,e,n){"use strict";var f=n(4),l=n(8),p=n(85),d=n(56);n(57)("match",1,function(r,i,c,h){return[function(t){var e=r(this),n=null==t?void 0:t[i];return void 0!==n?n.call(t,e):new RegExp(t)[i](String(e))},function(t){var e=h(c,t,this);if(e.done)return e.value;var n=f(t),r=String(this);if(!n.global)return d(n,r);for(var i,o=n.unicode,s=[],a=n.lastIndex=0;null!==(i=d(n,r));){var u=String(i[0]);""===(s[a]=u)&&(n.lastIndex=p(r,l(n.lastIndex),o)),a++}return 0===a?null:s}]})},function(t,e,n){"use strict";var I=n(4),T=n(12),S=n(8),O=n(21),N=n(85),A=n(56),k=Math.max,P=Math.min,x=Math.floor,R=/\$([$&`']|\d\d?|<[^>]*>)/g,D=/\$([$&`']|\d\d?)/g;n(57)("replace",2,function(i,o,E,_){return[function(t,e){var n=i(this),r=null==t?void 0:t[o];return void 0!==r?r.call(t,n,e):E.call(String(n),t,e)},function(t,e){var n=_(E,t,this,e);if(n.done)return n.value;var r=I(t),i=String(this),o="function"==typeof e;o||(e=String(e));var s,a=r.global;a&&(s=r.unicode,r.lastIndex=0);for(var u=[];;){var c=A(r,i);if(null===c)break;if(u.push(c),!a)break;""===String(c[0])&&(r.lastIndex=N(i,S(r.lastIndex),s))}for(var h,f="",l=0,p=0;p<u.length;p++){c=u[p];for(var d=String(c[0]),v=k(P(O(c.index),i.length),0),y=[],g=1;g<c.length;g++)y.push(void 0===(h=c[g])?h:String(h));var m,b=c.groups,w=o?(m=[d].concat(y,v,i),void 0!==b&&m.push(b),String(e.apply(void 0,m))):function(o,s,a,u,c,t){var h=a+o.length,f=u.length,e=D;void 0!==c&&(c=T(c),e=R);return E.call(t,e,function(t,e){var n;switch(e.charAt(0)){case"$":return"$";case"&":return o;case"`":return s.slice(0,a);case"'":return s.slice(h);case"<":n=c[e.slice(1,-1)];break;default:var r=+e;if(0==r)return t;if(f<r){var i=x(r/10);return 0===i?t:i<=f?void 0===u[i-1]?e.charAt(1):u[i-1]+e.charAt(1):t}n=u[r-1]}return void 0===n?"":n})}(d,i,v,y,b,e);l<=v&&(f+=i.slice(l,v)+w,l=v+d.length)}return f+i.slice(l)}]})},function(t,e,n){"use strict";var u=n(4),c=n(100),h=n(56);n(57)("search",1,function(r,i,s,a){return[function(t){var e=r(this),n=null==t?void 0:t[i];return void 0!==n?n.call(t,e):new RegExp(t)[i](String(e))},function(t){var e=a(s,t,this);if(e.done)return e.value;var n=u(t),r=String(this),i=n.lastIndex;c(i,0)||(n.lastIndex=0);var o=h(n,r);return c(n.lastIndex,i)||(n.lastIndex=i),null===o?-1:o.index}]})},function(t,e,n){"use strict";var f=n(77),b=n(4),w=n(49),E=n(85),_=n(8),I=n(56),l=n(84),r=n(3),T=Math.min,p=[].push,s="split",d="length",v="lastIndex",S=4294967295,O=!r(function(){RegExp(S,"y")});n(57)("split",2,function(i,o,y,g){var m="c"=="abbc"[s](/(b)*/)[1]||4!="test"[s](/(?:)/,-1)[d]||2!="ab"[s](/(?:ab)*/)[d]||4!="."[s](/(.?)(.?)/)[d]||1<"."[s](/()()/)[d]||""[s](/.?/)[d]?function(t,e){var n=String(this);if(void 0===t&&0===e)return[];if(!f(t))return y.call(n,t,e);for(var r,i,o,s=[],a=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),u=0,c=void 0===e?S:e>>>0,h=new RegExp(t.source,a+"g");(r=l.call(h,n))&&!(u<(i=h[v])&&(s.push(n.slice(u,r.index)),1<r[d]&&r.index<n[d]&&p.apply(s,r.slice(1)),o=r[0][d],u=i,s[d]>=c));)h[v]===r.index&&h[v]++;return u===n[d]?!o&&h.test("")||s.push(""):s.push(n.slice(u)),s[d]>c?s.slice(0,c):s}:"0"[s](void 0,0)[d]?function(t,e){return void 0===t&&0===e?[]:y.call(this,t,e)}:y;return[function(t,e){var n=i(this),r=null==t?void 0:t[o];return void 0!==r?r.call(t,n,e):m.call(String(n),t,e)},function(t,e){var n=g(m,t,this,e,m!==y);if(n.done)return n.value;var r=b(t),i=String(this),o=w(r,RegExp),s=r.unicode,a=(r.ignoreCase?"i":"")+(r.multiline?"m":"")+(r.unicode?"u":"")+(O?"y":"g"),u=new o(O?r:"^(?:"+r.source+")",a),c=void 0===e?S:e>>>0;if(0==c)return[];if(0===i.length)return null===I(u,i)?[i]:[];for(var h=0,f=0,l=[];f<i.length;){u.lastIndex=O?f:0;var p,d=I(u,O?i:i.slice(f));if(null===d||(p=T(_(u.lastIndex+(O?0:f)),i.length))===h)f=E(i,f,s);else{if(l.push(i.slice(h,f)),l.length===c)return l;for(var v=1;v<=d.length-1;v++)if(l.push(d[v]),l.length===c)return l;f=h=p}}return l.push(i.slice(h)),l}]})},function(t,e,n){var a=n(2),u=n(86).set,c=a.MutationObserver||a.WebKitMutationObserver,h=a.process,f=a.Promise,l="process"==n(25)(h);t.exports=function(){function t(){var t,e;for(l&&(t=h.domain)&&t.exit();n;){e=n.fn,n=n.next;try{e()}catch(t){throw n?i():r=void 0,t}}r=void 0,t&&t.enter()}var n,r,e,i,o,s;return i=l?function(){h.nextTick(t)}:!c||a.navigator&&a.navigator.standalone?f&&f.resolve?(e=f.resolve(void 0),function(){e.then(t)}):function(){u.call(a,t)}:(o=!0,s=document.createTextNode(""),new c(t).observe(s,{characterData:!0}),function(){s.data=o=!o}),function(t){var e={fn:t,next:void 0};r&&(r.next=e),n||(n=e,i()),r=e}}},function(t,e){t.exports=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}},function(t,e,n){"use strict";var r=n(119),i=n(39);t.exports=n(60)("Map",function(e){return function(t){return e(this,0<arguments.length?t:void 0)}},{get:function(t){var e=r.getEntry(i(this,"Map"),t);return e&&e.v},set:function(t,e){return r.def(i(this,"Map"),0===t?0:t,e)}},r,!0)},function(t,e,n){"use strict";var r=n(119),i=n(39);t.exports=n(60)("Set",function(e){return function(t){return e(this,0<arguments.length?t:void 0)}},{add:function(t){return r.def(i(this,"Set"),t=0===t?0:t,t)}},r)},function(t,e,n){"use strict";function r(e){return function(t){return e(this,0<arguments.length?t:void 0)}}var o,i=n(2),s=n(24)(0),a=n(13),u=n(29),c=n(99),h=n(120),f=n(5),l=n(39),p=n(39),d=!i.ActiveXObject&&"ActiveXObject"in i,v="WeakMap",y=u.getWeak,g=Object.isExtensible,m=h.ufstore,b={get:function(t){if(f(t)){var e=y(t);return!0===e?m(l(this,v)).get(t):e?e[this._i]:void 0}},set:function(t,e){return h.def(l(this,v),t,e)}},w=t.exports=n(60)(v,r,b,h,!0,!0);p&&d&&(c((o=h.getConstructor(r,v)).prototype,b),u.NEED=!0,s(["delete","has","get","set"],function(r){var t=w.prototype,i=t[r];a(t,r,function(t,e){if(!f(t)||g(t))return i.call(this,t,e);this._f||(this._f=new o);var n=this._f[r](t,e);return"set"==r?this:n})}))},function(t,e,n){"use strict";var r=n(120),i=n(39);n(60)("WeakSet",function(e){return function(t){return e(this,0<arguments.length?t:void 0)}},{add:function(t){return r.def(i(this,"WeakSet"),t,!0)}},r,!1,!0)},function(t,e,n){"use strict";var r=n(0),i=n(61),o=n(87),c=n(4),h=n(34),f=n(8),s=n(5),a=n(2).ArrayBuffer,l=n(49),p=o.ArrayBuffer,d=o.DataView,u=i.ABV&&a.isView,v=p.prototype.slice,y=i.VIEW,g="ArrayBuffer";r(r.G+r.W+r.F*(a!==p),{ArrayBuffer:p}),r(r.S+r.F*!i.CONSTR,g,{isView:function(t){return u&&u(t)||s(t)&&y in t}}),r(r.P+r.U+r.F*n(3)(function(){return!new p(2).slice(1,void 0).byteLength}),g,{slice:function(t,e){if(void 0!==v&&void 0===e)return v.call(c(this),t);for(var n=c(this).byteLength,r=h(t,n),i=h(void 0===e?n:e,n),o=new(l(this,p))(f(i-r)),s=new d(this),a=new d(o),u=0;r<i;)a.setUint8(u++,s.getUint8(r++));return o}}),n(43)(g)},function(t,e,n){var r=n(0);r(r.G+r.W+r.F*!n(61).ABV,{DataView:n(87).DataView})},function(t,e,n){n(27)("Int8",1,function(r){return function(t,e,n){return r(this,t,e,n)}})},function(t,e,n){n(27)("Uint8",1,function(r){return function(t,e,n){return r(this,t,e,n)}})},function(t,e,n){n(27)("Uint8",1,function(r){return function(t,e,n){return r(this,t,e,n)}},!0)},function(t,e,n){n(27)("Int16",2,function(r){return function(t,e,n){return r(this,t,e,n)}})},function(t,e,n){n(27)("Uint16",2,function(r){return function(t,e,n){return r(this,t,e,n)}})},function(t,e,n){n(27)("Int32",4,function(r){return function(t,e,n){return r(this,t,e,n)}})},function(t,e,n){n(27)("Uint32",4,function(r){return function(t,e,n){return r(this,t,e,n)}})},function(t,e,n){n(27)("Float32",4,function(r){return function(t,e,n){return r(this,t,e,n)}})},function(t,e,n){n(27)("Float64",8,function(r){return function(t,e,n){return r(this,t,e,n)}})},function(t,e,n){var r=n(0),o=n(20),s=n(4),a=(n(2).Reflect||{}).apply,u=Function.apply;r(r.S+r.F*!n(3)(function(){a(function(){})}),"Reflect",{apply:function(t,e,n){var r=o(t),i=s(n);return a?a(r,e,i):u.call(r,e,i)}})},function(t,e,n){var r=n(0),u=n(35),c=n(20),h=n(4),f=n(5),i=n(3),l=n(101),p=(n(2).Reflect||{}).construct,d=i(function(){function t(){}return!(p(function(){},[],t)instanceof t)}),v=!i(function(){p(function(){})});r(r.S+r.F*(d||v),"Reflect",{construct:function(t,e,n){c(t),h(e);var r=arguments.length<3?t:c(n);if(v&&!d)return p(t,e,r);if(t==r){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var i=[null];return i.push.apply(i,e),new(l.apply(t,i))}var o=r.prototype,s=u(f(o)?o:Object.prototype),a=Function.apply.call(t,s,e);return f(a)?a:s}})},function(t,e,n){var r=n(11),i=n(0),o=n(4),s=n(28);i(i.S+i.F*n(3)(function(){Reflect.defineProperty(r.f({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function(t,e,n){o(t),e=s(e,!0),o(n);try{return r.f(t,e,n),!0}catch(t){return!1}}})},function(t,e,n){var r=n(0),i=n(22).f,o=n(4);r(r.S,"Reflect",{deleteProperty:function(t,e){var n=i(o(t),e);return!(n&&!n.configurable)&&delete t[e]}})},function(t,e,n){"use strict";function r(t){this._t=o(t),this._i=0;var e,n=this._k=[];for(e in t)n.push(e)}var i=n(0),o=n(4);n(108)(r,"Object",function(){var t,e=this._k;do{if(this._i>=e.length)return{value:void 0,done:!0}}while(!((t=e[this._i++])in this._t));return{value:t,done:!1}}),i(i.S,"Reflect",{enumerate:function(t){return new r(t)}})},function(t,e,n){var s=n(22),a=n(37),u=n(15),r=n(0),c=n(5),h=n(4);r(r.S,"Reflect",{get:function t(e,n){var r,i,o=arguments.length<3?e:arguments[2];return h(e)===o?e[n]:(r=s.f(e,n))?u(r,"value")?r.value:void 0!==r.get?r.get.call(o):void 0:c(i=a(e))?t(i,n,o):void 0}})},function(t,e,n){var r=n(22),i=n(0),o=n(4);i(i.S,"Reflect",{getOwnPropertyDescriptor:function(t,e){return r.f(o(t),e)}})},function(t,e,n){var r=n(0),i=n(37),o=n(4);r(r.S,"Reflect",{getPrototypeOf:function(t){return i(o(t))}})},function(t,e,n){var r=n(0);r(r.S,"Reflect",{has:function(t,e){return e in t}})},function(t,e,n){var r=n(0),i=n(4),o=Object.isExtensible;r(r.S,"Reflect",{isExtensible:function(t){return i(t),!o||o(t)}})},function(t,e,n){var r=n(0);r(r.S,"Reflect",{ownKeys:n(122)})},function(t,e,n){var r=n(0),i=n(4),o=Object.preventExtensions;r(r.S,"Reflect",{preventExtensions:function(t){i(t);try{return o&&o(t),!0}catch(t){return!1}}})},function(t,e,n){var u=n(11),c=n(22),h=n(37),f=n(15),r=n(0),l=n(30),p=n(4),d=n(5);r(r.S,"Reflect",{set:function t(e,n,r){var i,o,s=arguments.length<4?e:arguments[3],a=c.f(p(e),n);if(!a){if(d(o=h(e)))return t(o,n,r,s);a=l(0)}if(f(a,"value")){if(!1===a.writable||!d(s))return!1;if(i=c.f(s,n)){if(i.get||i.set||!1===i.writable)return!1;i.value=r,u.f(s,n,i)}else u.f(s,n,l(0,r));return!0}return void 0!==a.set&&(a.set.call(s,r),!0)}})},function(t,e,n){var r=n(0),i=n(68);i&&r(r.S,"Reflect",{setPrototypeOf:function(t,e){i.check(t,e);try{return i.set(t,e),!0}catch(t){return!1}}})},function(t,e,n){n(276),t.exports=n(9).Array.includes},function(t,e,n){"use strict";var r=n(0),i=n(51)(!0);r(r.P,"Array",{includes:function(t,e){return i(this,t,1<arguments.length?e:void 0)}}),n(38)("includes")},function(t,e,n){n(278),t.exports=n(9).Array.flatMap},function(t,e,n){"use strict";var r=n(0),o=n(279),s=n(12),a=n(8),u=n(20),c=n(110);r(r.P,"Array",{flatMap:function(t,e){var n,r,i=s(this);return u(t),n=a(i.length),r=c(i,0),o(r,i,i,n,0,1,t,e),r}}),n(38)("flatMap")},function(t,e,n){"use strict";var d=n(53),v=n(5),y=n(8),g=n(19),m=n(7)("isConcatSpreadable");t.exports=function t(e,n,r,i,o,s,a,u){for(var c,h,f=o,l=0,p=!!a&&g(a,u,3);l<i;){if(l in r){if(c=p?p(r[l],l,n):r[l],h=!1,v(c)&&(h=void 0!==(h=c[m])?!!h:d(c)),h&&0<s)f=t(e,n,c,y(c.length),f,s-1)-1;else{if(9007199254740991<=f)throw TypeError();e[f]=c}f++}l++}return f}},function(t,e,n){n(281),t.exports=n(9).String.padStart},function(t,e,n){"use strict";var r=n(0),i=n(123),o=n(59),s=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(o);r(r.P+r.F*s,"String",{padStart:function(t,e){return i(this,t,1<arguments.length?e:void 0,!0)}})},function(t,e,n){n(283),t.exports=n(9).String.padEnd},function(t,e,n){"use strict";var r=n(0),i=n(123),o=n(59),s=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(o);r(r.P+r.F*s,"String",{padEnd:function(t,e){return i(this,t,1<arguments.length?e:void 0,!1)}})},function(t,e,n){n(285),t.exports=n(9).String.trimLeft},function(t,e,n){"use strict";n(41)("trimLeft",function(t){return function(){return t(this,1)}},"trimStart")},function(t,e,n){n(287),t.exports=n(9).String.trimRight},function(t,e,n){"use strict";n(41)("trimRight",function(t){return function(){return t(this,2)}},"trimEnd")},function(t,e,n){n(289),t.exports=n(64).f("asyncIterator")},function(t,e,n){n(95)("asyncIterator")},function(t,e,n){n(291),t.exports=n(9).Object.getOwnPropertyDescriptors},function(t,e,n){var r=n(0),u=n(122),c=n(17),h=n(22),f=n(80);r(r.S,"Object",{getOwnPropertyDescriptors:function(t){for(var e,n,r=c(t),i=h.f,o=u(r),s={},a=0;o.length>a;)void 0!==(n=i(r,e=o[a++]))&&f(s,e,n);return s}})},function(t,e,n){n(293),t.exports=n(9).Object.values},function(t,e,n){var r=n(0),i=n(124)(!1);r(r.S,"Object",{values:function(t){return i(t)}})},function(t,e,n){n(295),t.exports=n(9).Object.entries},function(t,e,n){var r=n(0),i=n(124)(!0);r(r.S,"Object",{entries:function(t){return i(t)}})},function(t,e,n){"use strict";n(116),n(297),t.exports=n(9).Promise.finally},function(t,e,n){"use strict";var r=n(0),i=n(9),o=n(2),s=n(49),a=n(118);r(r.P+r.R,"Promise",{finally:function(e){var n=s(this,i.Promise||o.Promise),t="function"==typeof e;return this.then(t?function(t){return a(n,e()).then(function(){return t})}:e,t?function(t){return a(n,e()).then(function(){throw t})}:e)}})},function(t,e,n){n(299),n(300),n(301),t.exports=n(9)},function(t,e,n){function r(i){return function(t,e){var n=2<arguments.length,r=n&&a.call(arguments,2);return i(n?function(){("function"==typeof t?t:Function(t)).apply(this,r)}:t,e)}}var i=n(2),o=n(0),s=n(59),a=[].slice,u=/MSIE .\./.test(s);o(o.G+o.B+o.F*u,{setTimeout:r(i.setTimeout),setInterval:r(i.setInterval)})},function(t,e,n){var r=n(0),i=n(86);r(r.G+r.B,{setImmediate:i.set,clearImmediate:i.clear})},function(t,e,n){for(var r=n(83),i=n(33),o=n(13),s=n(2),a=n(16),u=n(42),c=n(7),h=c("iterator"),f=c("toStringTag"),l=u.Array,p={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},d=i(p),v=0;v<d.length;v++){var y,g=d[v],m=p[g],b=s[g],w=b&&b.prototype;if(w&&(w[h]||a(w,h,l),w[f]||a(w,f,g),u[g]=l,m))for(y in r)w[y]||o(w,y,r[y],!0)}},function(t,e,n){var r=function(s){"use strict";var f,t=Object.prototype,h=t.hasOwnProperty,e="function"==typeof Symbol?Symbol:{},i=e.iterator||"@@iterator",n=e.asyncIterator||"@@asyncIterator",r=e.toStringTag||"@@toStringTag";function a(t,e,n,r){var o,s,a,u,i=e&&e.prototype instanceof m?e:m,c=Object.create(i.prototype),h=new O(r||[]);return c._invoke=(o=t,s=n,a=h,u=p,function(t,e){if(u===v)throw new Error("Generator is already running");if(u===y){if("throw"===t)throw e;return A()}for(a.method=t,a.arg=e;;){var n=a.delegate;if(n){var r=function t(e,n){var r=e.iterator[n.method];if(r===f){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=f,t(e,n),"throw"===n.method))return g;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return g}var i=l(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,g;var o=i.arg;return o?o.done?(n[e.resultName]=o.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=f),n.delegate=null,g):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}(n,a);if(r){if(r===g)continue;return r}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(u===p)throw u=y,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);u=v;var i=l(o,s,a);if("normal"===i.type){if(u=a.done?y:d,i.arg===g)continue;return{value:i.arg,done:a.done}}"throw"===i.type&&(u=y,a.method="throw",a.arg=i.arg)}}),c}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}s.wrap=a;var p="suspendedStart",d="suspendedYield",v="executing",y="completed",g={};function m(){}function o(){}function u(){}var c={};c[i]=function(){return this};var b=Object.getPrototypeOf,w=b&&b(b(N([])));w&&w!==t&&h.call(w,i)&&(c=w);var E=u.prototype=m.prototype=Object.create(c);function _(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function I(u,c){var e;this._invoke=function(n,r){function t(){return new c(function(t,e){!function e(t,n,r,i){var o=l(u[t],u,n);if("throw"!==o.type){var s=o.arg,a=s.value;return a&&"object"==typeof a&&h.call(a,"__await")?c.resolve(a.__await).then(function(t){e("next",t,r,i)},function(t){e("throw",t,r,i)}):c.resolve(a).then(function(t){s.value=t,r(s)},function(t){return e("throw",t,r,i)})}i(o.arg)}(n,r,t,e)})}return e=e?e.then(t,t):t()}}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function S(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function N(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(h.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=f,t.done=!0,t};return r.next=r}}return{next:A}}function A(){return{value:f,done:!0}}return(o.prototype=E.constructor=u).constructor=o,u[r]=o.displayName="GeneratorFunction",s.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===o||"GeneratorFunction"===(e.displayName||e.name))},s.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,u):(t.__proto__=u,r in t||(t[r]="GeneratorFunction")),t.prototype=Object.create(E),t},s.awrap=function(t){return{__await:t}},_(I.prototype),I.prototype[n]=function(){return this},s.AsyncIterator=I,s.async=function(t,e,n,r,i){void 0===i&&(i=Promise);var o=new I(a(t,e,n,r),i);return s.isGeneratorFunction(e)?o:o.next().then(function(t){return t.done?t.value:o.next()})},_(E),E[r]="Generator",E[i]=function(){return this},E.toString=function(){return"[object Generator]"},s.keys=function(n){var r=[];for(var t in n)r.push(t);return r.reverse(),function t(){for(;r.length;){var e=r.pop();if(e in n)return t.value=e,t.done=!1,t}return t.done=!0,t}},s.values=N,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=f,this.done=!1,this.delegate=null,this.method="next",this.arg=f,this.tryEntries.forEach(S),!t)for(var e in this)"t"===e.charAt(0)&&h.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=f)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var r=this;function t(t,e){return o.type="throw",o.arg=n,r.next=t,e&&(r.method="next",r.arg=f),!!e}for(var e=this.tryEntries.length-1;0<=e;--e){var i=this.tryEntries[e],o=i.completion;if("root"===i.tryLoc)return t("end");if(i.tryLoc<=this.prev){var s=h.call(i,"catchLoc"),a=h.call(i,"finallyLoc");if(s&&a){if(this.prev<i.catchLoc)return t(i.catchLoc,!0);if(this.prev<i.finallyLoc)return t(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return t(i.catchLoc,!0)}else{if(!a)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return t(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;0<=n;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&h.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=t,o.arg=e,i?(this.method="next",this.next=i.finallyLoc,g):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),S(n),g}},catch:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r,i=n.completion;return"throw"===i.type&&(r=i.arg,S(n)),r}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:N(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=f),g}},s}(t.exports);try{regeneratorRuntime=r}catch(t){Function("r","regeneratorRuntime = r")(r)}},function(t,e,n){n(304),t.exports=n(125).global},function(t,e,n){var r=n(305);r(r.G,{global:n(88)})},function(t,e,n){var v=n(88),y=n(125),g=n(306),m=n(308),b=n(315),w="prototype",E=function(t,e,n){var r,i,o,s=t&E.F,a=t&E.G,u=t&E.S,c=t&E.P,h=t&E.B,f=t&E.W,l=a?y:y[e]||(y[e]={}),p=l[w],d=a?v:u?v[e]:(v[e]||{})[w];for(r in a&&(n=e),n)(i=!s&&d&&void 0!==d[r])&&b(l,r)||(o=i?d[r]:n[r],l[r]=a&&"function"!=typeof d[r]?n[r]:h&&i?g(o,v):f&&d[r]==o?function(r){function t(t,e,n){if(this instanceof r){switch(arguments.length){case 0:return new r;case 1:return new r(t);case 2:return new r(t,e)}return new r(t,e,n)}return r.apply(this,arguments)}return t[w]=r[w],t}(o):c&&"function"==typeof o?g(Function.call,o):o,c&&((l.virtual||(l.virtual={}))[r]=o,t&E.R&&p&&!p[r]&&m(p,r,o)))};E.F=1,E.G=2,E.S=4,E.P=8,E.B=16,E.W=32,E.U=64,E.R=128,t.exports=E},function(t,e,n){var o=n(307);t.exports=function(r,i,t){if(o(r),void 0===i)return r;switch(t){case 1:return function(t){return r.call(i,t)};case 2:return function(t,e){return r.call(i,t,e)};case 3:return function(t,e,n){return r.call(i,t,e,n)}}return function(){return r.apply(i,arguments)}}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,n){var r=n(309),i=n(314);t.exports=n(90)?function(t,e,n){return r.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var r=n(310),i=n(311),o=n(313),s=Object.defineProperty;e.f=n(90)?Object.defineProperty:function(t,e,n){if(r(t),e=o(e,!0),r(n),i)try{return s(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){var r=n(89);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},function(t,e,n){t.exports=!n(90)&&!n(126)(function(){return 7!=Object.defineProperty(n(312)("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){var r=n(89),i=n(88).document,o=r(i)&&r(i.createElement);t.exports=function(t){return o?i.createElement(t):{}}},function(t,e,n){var i=n(89);t.exports=function(t,e){if(!i(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!i(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){},function(t,e,n){"use strict";(function($f){var t=n(1),Xf=n.n(t);(function(){var t,o="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)};var u=function(t){t=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof $f&&$f,t];for(var e=0;e<t.length;++e){var n=t[e];if(n&&n.Math==Math)return n}return globalThis}(this);function c(t){var e,n,r="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return r?r.call(t):{next:(e=t,n=0,function(){return n<e.length?{done:!1,value:e[n++]}:{done:!0}})}}!function(t,e){if(e){var n=u;t=t.split(".");for(var r=0;r<t.length-1;r++){var i=t[r];i in n||(n[i]={}),n=n[i]}(e=e(r=n[t=t[t.length-1]]))!=r&&null!=e&&o(n,t,{configurable:!0,writable:!0,value:e})}}("Promise",function(t){function s(t){this.b=0,this.c=void 0,this.a=[];var e=this.f();try{t(e.resolve,e.reject)}catch(t){e.reject(t)}}function e(){this.a=null}function a(e){return e instanceof s?e:new s(function(t){t(e)})}if(t)return t;e.prototype.b=function(t){var e;null==this.a&&(this.a=[],(e=this).c(function(){e.g()})),this.a.push(t)};var n=u.setTimeout;e.prototype.c=function(t){n(t,0)},e.prototype.g=function(){for(;this.a&&this.a.length;){var t=this.a;this.a=[];for(var e=0;e<t.length;++e){var n=t[e];t[e]=null;try{n()}catch(t){this.f(t)}}}this.a=null},e.prototype.f=function(t){this.c(function(){throw t})},s.prototype.f=function(){function t(e){return function(t){r||(r=!0,e.call(n,t))}}var n=this,r=!1;return{resolve:t(this.m),reject:t(this.g)}},s.prototype.m=function(t){if(t===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(t instanceof s)this.s(t);else{t:switch(typeof t){case"object":var e=null!=t;break t;case"function":e=!0;break t;default:e=!1}e?this.u(t):this.h(t)}},s.prototype.u=function(t){var e=void 0;try{e=t.then}catch(t){return void this.g(t)}"function"==typeof e?this.w(e,t):this.h(t)},s.prototype.g=function(t){this.i(2,t)},s.prototype.h=function(t){this.i(1,t)},s.prototype.i=function(t,e){if(0!=this.b)throw Error("Cannot settle("+t+", "+e+"): Promise already settled in state"+this.b);this.b=t,this.c=e,this.l()},s.prototype.l=function(){if(null!=this.a){for(var t=0;t<this.a.length;++t)i.b(this.a[t]);this.a=null}};var i=new e;return s.prototype.s=function(t){var e=this.f();t.Oa(e.resolve,e.reject)},s.prototype.w=function(t,e){var n=this.f();try{t.call(e,n.resolve,n.reject)}catch(t){n.reject(t)}},s.prototype.then=function(t,e){function n(e,t){return"function"==typeof e?function(t){try{r(e(t))}catch(t){i(t)}}:t}var r,i,o=new s(function(t,e){r=t,i=e});return this.Oa(n(t,r),n(e,i)),o},s.prototype.catch=function(t){return this.then(void 0,t)},s.prototype.Oa=function(t,e){function n(){switch(r.b){case 1:t(r.c);break;case 2:e(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?i.b(n):this.a.push(n)},s.resolve=a,s.reject=function(n){return new s(function(t,e){e(n)})},s.race=function(i){return new s(function(t,e){for(var n=c(i),r=n.next();!r.done;r=n.next())a(r.value).Oa(t,e)})},s.all=function(t){var e=c(t),o=e.next();return o.done?a([]):new s(function(n,t){for(var r=[],i=0;r.push(void 0),i++,a(o.value).Oa(function(e){return function(t){r[e]=t,0==--i&&n(r)}}(r.length-1),t),!(o=e.next()).done;);})},s});var h=h||{},p=this||self,d=/^[\w+/_-]+[=]{0,2}$/,v=null;function s(){}function n(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&void 0!==t.splice&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==t.call&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&void 0===t.call)return"object";return e}function f(t){var e=n(t);return"array"==e||"object"==e&&"number"==typeof t.length}function l(t){return"function"==n(t)}function y(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}function r(t){return Object.prototype.hasOwnProperty.call(t,e)&&t[e]||(t[e]=++i)}var e="closure_uid_"+(1e9*Math.random()>>>0),i=0;function a(t,e,n){return t.call.apply(t.bind,arguments)}function g(e,n,t){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var t=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(t,r),e.apply(n,t)}}return function(){return e.apply(n,arguments)}}function m(t,e,n){return(m=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?a:g).apply(null,arguments)}function b(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}var w=Date.now||function(){return+new Date};function E(t,e){function n(){}n.prototype=e.prototype,t.Za=e.prototype,t.prototype=new n,t.prototype.constructor=t}function _(t,e,n){this.code=S+t,this.message=e||O[t]||"",this.a=n||null}function I(t){var e=t&&t.code;return e?new _(e.substring(S.length),t.message,t.serverResponse):null}E(_,Error),_.prototype.v=function(){var t={code:this.code,message:this.message};return this.a&&(t.serverResponse=this.a),t},_.prototype.toJSON=function(){return this.v()};var T,S="auth/",O={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},N={hd:{Ra:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Xa:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},pd:{Ra:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",Xa:"https://securetoken.googleapis.com/v1/token",Ua:"https://identitytoolkit.googleapis.com/v2/",id:"p"},rd:{Ra:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Xa:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},sd:{Ra:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",Xa:"https://test-securetoken.sandbox.googleapis.com/v1/token",Ua:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function A(t){for(var e in N)if(N[e].id===t)return{firebaseEndpoint:(t=N[e]).Ra,secureTokenEndpoint:t.Xa,identityPlatformEndpoint:t.Ua};return null}function k(t){if(t)try{return t.$goog_Thenable}catch(t){return}}function P(t){var e;Error.captureStackTrace?Error.captureStackTrace(this,P):(e=Error().stack)&&(this.stack=e),t&&(this.message=String(t))}function x(t,e){for(var n="",r=(t=t.split("%s")).length-1,i=0;i<r;i++)n+=t[i]+(i<e.length?e[i]:"%s");P.call(this,n+t[r])}function R(t,e){throw new x("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function D(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function j(t,e){t.f(e),t.b<100&&(t.b++,e.next=t.a,t.a=e)}function C(){this.b=this.a=null}T=A("__EID__")?"__EID__":void 0,E(P,Error),P.prototype.name="CustomError",E(x,P),x.prototype.name="AssertionError",D.prototype.get=function(){var t;return 0<this.b?(this.b--,t=this.a,this.a=t.next,t.next=null):t=this.c(),t};var L=new D(function(){return new M},function(t){t.reset()});function M(){this.next=this.b=this.a=null}C.prototype.add=function(t,e){var n=L.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},M.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},M.prototype.reset=function(){this.next=this.b=this.a=null};var F=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},V=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};var U=Array.prototype.filter?function(t,e){return Array.prototype.filter.call(t,e,void 0)}:function(t,e){for(var n,r=t.length,i=[],o=0,s="string"==typeof t?t.split(""):t,a=0;a<r;a++){a in s&&(n=s[a],e.call(void 0,n,a,t)&&(i[o++]=n))}return i},q=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=Array(n),i="string"==typeof t?t.split(""):t,o=0;o<n;o++)o in i&&(r[o]=e.call(void 0,i[o],o,t));return r},B=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(t,e){for(var n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t))return!0;return!1};function G(t,e){return 0<=F(t,e)}function W(t,e){var n;return(n=0<=(e=F(t,e)))&&Array.prototype.splice.call(t,e,1),n}function z(n,r){!function(t,e){for(var n="string"==typeof t?t.split(""):t,r=t.length-1;0<=r;--r)r in n&&e.call(void 0,n[r],r,t)}(n,function(t,e){r.call(void 0,t,e,n)&&1==Array.prototype.splice.call(n,e,1).length&&0})}function H(t){return Array.prototype.concat.apply([],arguments)}function K(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}var $,X=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]},Y=/&/g,J=/</g,Q=/>/g,Z=/"/g,tt=/'/g,et=/\x00/g,nt=/[\x00&<>"']/;function rt(t,e){return-1!=t.indexOf(e)}function it(t,e){return t<e?-1:e<t?1:0}t:{var ot=p.navigator;if(ot){var st=ot.userAgent;if(st){$=st;break t}}$=""}function at(t){return rt($,t)}function ut(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function ct(t){for(var e in t)return;return 1}function ht(t){var e,n={};for(e in t)n[e]=t[e];return n}var ft="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function lt(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<ft.length;o++)n=ft[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function pt(t,e){t:{try{var n=t&&t.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if((r=r||p).Element&&r.Location){var i=r;break t}}catch(t){}i=null}if(i&&void 0!==i[e]&&(!t||!(t instanceof i[e])&&(t instanceof i.Location||t instanceof i.Element))){if(y(t))try{var o=t.constructor.displayName||t.constructor.name||Object.prototype.toString.call(t)}catch(t){o="<object could not be stringified>"}else o=void 0===t?"undefined":null===t?"null":typeof t;R("Argument is not a %s (or a non-Element, non-Location mock); got: %s",e,o)}}function dt(t,e){this.a=t===gt&&e||"",this.b=yt}function vt(t){return t instanceof dt&&t.constructor===dt&&t.b===yt?t.a:(R("expected object of type Const, got '"+t+"'"),"type_error:Const")}dt.prototype.ra=!0,dt.prototype.qa=function(){return this.a},dt.prototype.toString=function(){return"Const{"+this.a+"}"};var yt={},gt={},mt=new dt(gt,"");function bt(t,e){this.a=t===St&&e||"",this.b=Tt}function wt(t){return t instanceof bt&&t.constructor===bt&&t.b===Tt?t.a:(R("expected object of type TrustedResourceUrl, got '"+t+"' of type "+n(t)),"type_error:TrustedResourceUrl")}function Et(t,n){var r=vt(t);if(!It.test(r))throw Error("Invalid TrustedResourceUrl format: "+r);return t=r.replace(_t,function(t,e){if(!Object.prototype.hasOwnProperty.call(n,e))throw Error('Found marker, "'+e+'", in format string, "'+r+'", but no valid label mapping found in args: '+JSON.stringify(n));return(t=n[e])instanceof dt?vt(t):encodeURIComponent(String(t))}),new bt(St,t)}bt.prototype.ra=!0,bt.prototype.qa=function(){return this.a.toString()},bt.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var _t=/%{(\w+)}/g,It=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,Tt={},St={};function Ot(t,e){this.a=t===xt&&e||"",this.b=Pt}function Nt(t){return t instanceof Ot&&t.constructor===Ot&&t.b===Pt?t.a:(R("expected object of type SafeUrl, got '"+t+"' of type "+n(t)),"type_error:SafeUrl")}Ot.prototype.ra=!0,Ot.prototype.qa=function(){return this.a.toString()},Ot.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var At=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function kt(t){return t instanceof Ot?t:(t="object"==typeof t&&t.ra?t.qa():String(t),At.test(t)||(t="about:invalid#zClosurez"),new Ot(xt,t))}var Pt={},xt={};function Rt(){this.a="",this.b=jt}function Dt(t){return t instanceof Rt&&t.constructor===Rt&&t.b===jt?t.a:(R("expected object of type SafeHtml, got '"+t+"' of type "+n(t)),"type_error:SafeHtml")}Rt.prototype.ra=!0,Rt.prototype.qa=function(){return this.a.toString()},Rt.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var jt={};function Ct(t){var e=new Rt;return e.a=t,e}Ct("<!DOCTYPE html>");var Lt=Ct("");function Mt(t,e){for(var n=t.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function Ft(t){return nt.test(t)&&(-1!=t.indexOf("&")&&(t=t.replace(Y,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(J,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(Q,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(Z,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(tt,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(et,"&#0;"))),t}function Vt(t){return Vt[" "](t),t}Ct("<br>"),Vt[" "]=s;var Ut,qt,Bt=at("Opera"),Gt=at("Trident")||at("MSIE"),Wt=at("Edge"),zt=Wt||Gt,Ht=at("Gecko")&&!(rt($.toLowerCase(),"webkit")&&!at("Edge"))&&!(at("Trident")||at("MSIE"))&&!at("Edge"),Kt=rt($.toLowerCase(),"webkit")&&!at("Edge");function $t(){var t=p.document;return t?t.documentMode:void 0}t:{var Xt="",Yt=(qt=$,Ht?/rv:([^\);]+)(\)|;)/.exec(qt):Wt?/Edge\/([\d\.]+)/.exec(qt):Gt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(qt):Kt?/WebKit\/(\S+)/.exec(qt):Bt?/(?:Version)[ \/]?(\S+)/.exec(qt):void 0);if(Yt&&(Xt=Yt?Yt[1]:""),Gt){var Jt=$t();if(null!=Jt&&Jt>parseFloat(Xt)){Ut=String(Jt);break t}}Ut=Xt}var Qt,Zt={};function te(a){return t=a,e=function(){for(var t=0,e=X(String(Ut)).split("."),n=X(String(a)).split("."),r=Math.max(e.length,n.length),i=0;0==t&&i<r;i++){var o=e[i]||"",s=n[i]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==o[0].length&&0==s[0].length)break;t=it(0==o[1].length?0:parseInt(o[1],10),0==s[1].length?0:parseInt(s[1],10))||it(0==o[2].length,0==s[2].length)||it(o[2],s[2]),o=o[3],s=s[3]}while(0==t)}return 0<=t},n=Zt,Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t);var t,e,n}Qt=p.document&&Gt?$t():void 0;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(t){}var ee=!Gt||9<=Number(Qt);function ne(t){var e=document;return"string"==typeof t?e.getElementById(t):t}function re(n,t){ut(t,function(t,e){t&&"object"==typeof t&&t.ra&&(t=t.qa()),"style"==e?n.style.cssText=t:"class"==e?n.className=t:"for"==e?n.htmlFor=t:se.hasOwnProperty(e)?n.setAttribute(se[e],t):0==e.lastIndexOf("aria-",0)||0==e.lastIndexOf("data-",0)?n.setAttribute(e,t):n[e]=t})}var ie,oe,se={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function ae(t,e,n){var r,i=arguments,o=document,s=String(i[0]),a=i[1];return!ee&&a&&(a.name||a.type)&&(s=["<",s],a.name&&s.push(' name="',Ft(a.name),'"'),a.type&&(s.push(' type="',Ft(a.type),'"'),lt(r={},a),delete r.type,a=r),s.push(">"),s=s.join("")),s=ue(o,s),a&&("string"==typeof a?s.className=a:Array.isArray(a)?s.className=a.join(" "):re(s,a)),2<i.length&&function(e,n,t){function r(t){t&&n.appendChild("string"==typeof t?e.createTextNode(t):t)}for(var i=2;i<t.length;i++){var o=t[i];!f(o)||y(o)&&0<o.nodeType?r(o):V(function(t){if(t&&"number"==typeof t.length){if(y(t))return"function"==typeof t.item||"string"==typeof t.item;if(l(t))return"function"==typeof t.item}return!1}(o)?K(o):o,r)}}(o,s,i),s}function ue(t,e){return e=String(e),"application/xhtml+xml"===t.contentType&&(e=e.toLowerCase()),t.createElement(e)}function ce(t){p.setTimeout(function(){throw t},0)}function he(){var t=p.MessageChannel;if(void 0===t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!at("Presto")&&(t=function(){var t,e,n=ue(document,"IFRAME");n.style.display="none",t=n,e=new bt(St,vt(mt)),pt(t,"HTMLIFrameElement"),t.src=wt(e).toString(),document.documentElement.appendChild(n);var r=n.contentWindow;(n=r.document).open(),n.write(Dt(Lt)),n.close();var i="callImmediate"+Math.random(),o="file:"==r.location.protocol?"*":r.location.protocol+"//"+r.location.host;n=m(function(t){"*"!=o&&t.origin!=o||t.data!=i||this.port1.onmessage()},this),r.addEventListener("message",n,!1),this.port1={},this.port2={postMessage:function(){r.postMessage(i,o)}}}),void 0===t||at("Trident")||at("MSIE"))return function(t){p.setTimeout(t,0)};var e=new t,n={},r=n;return e.port1.onmessage=function(){var t;void 0!==n.next&&(t=(n=n.next).Db,n.Db=null,t())},function(t){r.next={Db:t},r=r.next,e.port2.postMessage(0)}}function fe(t,e){oe||function(){{var t;oe=p.Promise&&p.Promise.resolve?(t=p.Promise.resolve(void 0),function(){t.then(de)}):function(){var t=de;!l(p.setImmediate)||p.Window&&p.Window.prototype&&!at("Edge")&&p.Window.prototype.setImmediate==p.setImmediate?(ie=ie||he())(t):p.setImmediate(t)}}}(),le||(oe(),le=!0),pe.add(t,e)}var le=!1,pe=new C;function de(){for(var t,e,n;n=e=void 0,n=null,(e=pe).a&&(n=e.a,e.a=e.a.next,e.a||(e.b=null),n.next=null),t=n;){try{t.a.call(t.b)}catch(t){ce(t)}j(L,t)}le=!1}function ve(t,e){if(this.a=ye,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,t!=s)try{var n=this;t.call(e,function(t){Ae(n,ge,t)},function(t){if(!(t instanceof Ce))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(t){}Ae(n,me,t)})}catch(t){Ae(this,me,t)}}var ye=0,ge=2,me=3;function be(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}be.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var we=new D(function(){return new be},function(t){t.reset()});function Ee(t,e,n){var r=we.get();return r.g=t,r.b=e,r.f=n,r}function _e(t){if(t instanceof ve)return t;var e=new ve(s);return Ae(e,ge,t),e}function Ie(n){return new ve(function(t,e){e(n)})}function Te(t,e,n){ke(t,e,n,null)||fe(b(e,t))}function Se(n){return new ve(function(r){var i=n.length,o=[];if(i)for(var t=function(t,e,n){i--,o[t]=e?{Mb:!0,value:n}:{Mb:!1,reason:n},0==i&&r(o)},e=0;e<n.length;e++)Te(n[e],b(t,e,!0),b(t,e,!1));else r(o)})}function Oe(t,e){t.b||t.a!=ge&&t.a!=me||Pe(t),t.f?t.f.next=e:t.b=e,t.f=e}function Ne(t,i,o,s){var e=Ee(null,null,null);return e.a=new ve(function(n,r){e.g=i?function(t){try{var e=i.call(s,t);n(e)}catch(t){r(t)}}:n,e.b=o?function(t){try{var e=o.call(s,t);void 0===e&&t instanceof Ce?r(t):n(e)}catch(t){r(t)}}:r}),Oe(e.a.c=t,e),e.a}function Ae(t,e,n){var r,i;t.a==ye&&(t===n&&(e=me,n=new TypeError("Promise cannot resolve to itself")),t.a=1,ke(n,t.Yc,t.Zc,t)||(t.i=n,t.a=e,t.c=null,Pe(t),e!=me||n instanceof Ce||(i=n,(r=t).g=!0,fe(function(){r.g&&je.call(null,i)}))))}function ke(t,e,n,r){if(t instanceof ve)return Oe(t,Ee(e||s,n||null,r)),1;if(k(t))return t.then(e,n,r),1;if(y(t))try{var i=t.then;if(l(i))return function(t,e,n,r,i){function o(t){s||(s=!0,r.call(i,t))}var s=!1;try{e.call(t,function(t){s||(s=!0,n.call(i,t))},o)}catch(t){o(t)}}(t,i,e,n,r),1}catch(t){return n.call(r,t),1}}function Pe(t){t.h||(t.h=!0,fe(t.ec,t))}function xe(t){var e=null;return t.b&&(e=t.b,t.b=e.next,e.next=null),t.b||(t.f=null),e}function Re(t,e,n,r){if(n==me&&e.b&&!e.c)for(;t&&t.g;t=t.c)t.g=!1;if(e.a)e.a.c=null,De(e,n,r);else try{e.c?e.g.call(e.f):De(e,n,r)}catch(t){je.call(null,t)}j(we,e)}function De(t,e,n){e==ge?t.g.call(t.f,n):t.b&&t.b.call(t.f,n)}ve.prototype.then=function(t,e,n){return Ne(this,l(t)?t:null,l(e)?e:null,n)},ve.prototype.$goog_Thenable=!0,(t=ve.prototype).ma=function(t,e){return(t=Ee(t,t,e)).c=!0,Oe(this,t),this},t.o=function(t,e){return Ne(this,null,t,e)},t.cancel=function(t){var e;this.a==ye&&(e=new Ce(t),fe(function(){!function t(e,n){if(e.a==ye)if(e.c){var r=e.c;if(r.b){for(var i=0,o=null,s=null,a=r.b;a&&(a.c||(i++,a.a==e&&(o=a),!(o&&1<i)));a=a.next)o||(s=a);o&&(r.a==ye&&1==i?t(r,n):(s?((i=s).next==r.f&&(r.f=i),i.next=i.next.next):xe(r),Re(r,o,me,n)))}e.c=null}else Ae(e,me,n)}(this,e)},this))},t.Yc=function(t){this.a=ye,Ae(this,ge,t)},t.Zc=function(t){this.a=ye,Ae(this,me,t)},t.ec=function(){for(var t;t=xe(this);)Re(this,t,this.a,this.i);this.h=!1};var je=ce;function Ce(t){P.call(this,t)}function Le(){0!=Me&&(Fe[r(this)]=this),this.wa=this.wa,this.na=this.na}E(Ce,P);var Me=0,Fe={};function Ve(t){if(!t.wa&&(t.wa=!0,t.Ba(),0!=Me)){var e=r(t);if(0!=Me&&t.na&&0<t.na.length)throw Error(t+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete Fe[e]}}Le.prototype.wa=!(Ce.prototype.name="cancel"),Le.prototype.Ba=function(){if(this.na)for(;this.na.length;)this.na.shift()()};var Ue=Object.freeze||function(t){return t},qe=!Gt||9<=Number(Qt),Be=Gt&&!te("9"),Ge=function(){if(!p.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{p.addEventListener("test",s,e),p.removeEventListener("test",s,e)}catch(t){}return t}();function We(t,e){this.type=t,this.b=this.target=e,this.defaultPrevented=!1}function ze(t,e){if(We.call(this,t?t.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.b=e,e=t.relatedTarget){if(Ht){t:{try{Vt(e.nodeName);var i=!0;break t}catch(t){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:He[t.pointerType]||"",(this.a=t).defaultPrevented&&this.preventDefault()}}We.prototype.preventDefault=function(){this.defaultPrevented=!0},E(ze,We);var He=Ue({2:"touch",3:"pen",4:"mouse"});ze.prototype.preventDefault=function(){ze.Za.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Be)try{(t.ctrlKey||112<=t.keyCode&&t.keyCode<=123)&&(t.keyCode=-1)}catch(t){}},ze.prototype.f=function(){return this.a};var Ke="closure_listenable_"+(1e6*Math.random()|0),$e=0;function Xe(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.Ta=i,this.key=++$e,this.ua=this.Na=!1}function Ye(t){t.ua=!0,t.listener=null,t.proxy=null,t.src=null,t.Ta=null}function Je(t){this.src=t,this.a={},this.b=0}function Qe(t,e){var n=e.type;n in t.a&&W(t.a[n],e)&&(Ye(e),0==t.a[n].length&&(delete t.a[n],t.b--))}function Ze(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.ua&&o.listener==e&&o.capture==!!n&&o.Ta==r)return i}return-1}Je.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=Ze(t,e,r,i);return-1<s?(e=t[s],n||(e.Na=!1)):((e=new Xe(e,this.src,o,!!r,i)).Na=n,t.push(e)),e};var tn="closure_lm_"+(1e6*Math.random()|0),en={};function nn(t,e,n,r,i){if(r&&r.once)on(t,e,n,r,i);else if(Array.isArray(e))for(var o=0;o<e.length;o++)nn(t,e[o],n,r,i);else n=dn(n),t&&t[Ke]?yn(t,e,n,y(r)?!!r.capture:!!r,i):rn(t,e,n,!1,r,i)}function rn(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s,a,u=y(i)?!!i.capture:!!i,c=ln(t);if(c||(t[tn]=c=new Je(t)),!(n=c.add(e,n,r,u,o)).proxy){if(s=fn,r=a=qe?function(t){return s.call(a.src,a.listener,t)}:function(t){if(!(t=s.call(a.src,a.listener,t)))return t},(n.proxy=r).src=t,r.listener=n,t.addEventListener)Ge||(i=u),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(un(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}0}}function on(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)on(t,e[o],n,r,i);else n=dn(n),t&&t[Ke]?gn(t,e,n,y(r)?!!r.capture:!!r,i):rn(t,e,n,!0,r,i)}function sn(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)sn(t,e[o],n,r,i);else r=y(r)?!!r.capture:!!r,n=dn(n),t&&t[Ke]?(t=t.u,(e=String(e).toString())in t.a&&(-1<(n=Ze(o=t.a[e],n,r,i))&&(Ye(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--)))):(t=t&&ln(t))&&(e=t.a[e.toString()],t=-1,e&&(t=Ze(e,n,r,i)),(n=-1<t?e[t]:null)&&an(n))}function an(t){var e,n,r;"number"!=typeof t&&t&&!t.ua&&((e=t.src)&&e[Ke]?Qe(e.u,t):(n=t.type,r=t.proxy,e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(un(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=ln(e))?(Qe(n,t),0==n.b&&(n.src=null,e[tn]=null)):Ye(t)))}function un(t){return t in en?en[t]:en[t]="on"+t}function cn(t,e,n,r){var i=!0;if((t=ln(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.ua&&(o=hn(o,r),i=i&&!1!==o)}return i}function hn(t,e){var n=t.listener,r=t.Ta||t.src;return t.Na&&an(t),n.call(r,e)}function fn(t,e){if(t.ua)return!0;if(qe)return hn(t,new ze(e,this));if(!e)t:{e=["window","event"];for(var n=p,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}if(e=new ze(r=e,this),n=!0,!(r.keyCode<0||null!=r.returnValue)){t:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break t}catch(t){i=!0}!i&&null!=r.returnValue||(r.returnValue=!0)}for(r=[],i=e.b;i;i=i.parentNode)r.push(i);for(t=t.type,i=r.length-1;0<=i;i--){e.b=r[i];var o=cn(r[i],t,!0,e),n=n&&o}for(i=0;i<r.length;i++)e.b=r[i],o=cn(r[i],t,!1,e),n=n&&o}return n}function ln(t){return(t=t[tn])instanceof Je?t:null}var pn="__closure_events_fn_"+(1e9*Math.random()>>>0);function dn(e){return l(e)?e:(e[pn]||(e[pn]=function(t){return e.handleEvent(t)}),e[pn])}function vn(){Le.call(this),this.u=new Je(this),(this.Yb=this).eb=null}function yn(t,e,n,r,i){t.u.add(String(e),n,!1,r,i)}function gn(t,e,n,r,i){t.u.add(String(e),n,!0,r,i)}function mn(t,e,n,r){if(!(e=t.u.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s,a,u=e[o];u&&!u.ua&&u.capture==n&&(s=u.listener,a=u.Ta||u.src,u.Na&&Qe(t.u,u),i=!1!==s.call(a,r)&&i)}return i&&!r.defaultPrevented}function bn(t,e,n){if(l(t))n&&(t=m(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=m(t.handleEvent,t)}return 2147483647<Number(e)?-1:p.setTimeout(t,e||0)}function wn(n){var r=null;return new ve(function(t,e){-1==(r=bn(function(){t(void 0)},n))&&e(Error("Failed to schedule timer."))}).o(function(t){throw p.clearTimeout(r),t})}function En(t){if(t.V&&"function"==typeof t.V)return t.V();if("string"==typeof t)return t.split("");if(f(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}function _n(t){if(t.X&&"function"==typeof t.X)return t.X();if(!t.V||"function"!=typeof t.V){if(f(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}for(var r in e=[],n=0,t)e[n++]=r;return e}}function In(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof In)for(n=t.X(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Tn(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Sn(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){for(var i={},n=e=0;e<t.a.length;)Sn(i,r=t.a[e])||(i[t.a[n++]=r]=1),e++;t.a.length=n}}function Sn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}E(vn,Le),vn.prototype[Ke]=!0,vn.prototype.addEventListener=function(t,e,n,r){nn(this,t,e,n,r)},vn.prototype.removeEventListener=function(t,e,n,r){sn(this,t,e,n,r)},vn.prototype.dispatchEvent=function(t){var e,n=this.eb;if(n)for(e=[];n;n=n.eb)e.push(n);n=this.Yb;var r=t.type||t;if("string"==typeof t?t=new We(t,n):t instanceof We?t.target=t.target||n:(s=t,lt(t=new We(r,n),s)),s=!0,e)for(var i=e.length-1;0<=i;i--)var o=t.b=e[i],s=mn(o,r,!0,t)&&s;if(s=mn(o=t.b=n,r,!0,t)&&s,s=mn(o,r,!1,t)&&s,e)for(i=0;i<e.length;i++)s=mn(o=t.b=e[i],r,!1,t)&&s;return s},vn.prototype.Ba=function(){if(vn.Za.Ba.call(this),this.u){var t,e=this.u;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)Ye(n[r]);delete e.a[t],e.b--}}this.eb=null},(t=In.prototype).V=function(){Tn(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},t.X=function(){return Tn(this),this.a.concat()},t.clear=function(){this.b={},this.c=this.a.length=0},t.get=function(t,e){return Sn(this.b,t)?this.b[t]:e},t.set=function(t,e){Sn(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},t.forEach=function(t,e){for(var n=this.X(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var On=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/\\#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Nn(t,e){var n;this.b=this.i=this.f="",this.l=null,this.g=this.c="",this.h=!1,t instanceof Nn?(this.h=void 0!==e?e:t.h,An(this,t.f),this.i=t.i,this.b=t.b,kn(this,t.l),this.c=t.c,Pn(this,Xn(t.a)),this.g=t.g):t&&(n=String(t).match(On))?(this.h=!!e,An(this,n[1]||"",!0),this.i=Cn(n[2]||""),this.b=Cn(n[3]||"",!0),kn(this,n[4]),this.c=Cn(n[5]||"",!0),Pn(this,n[6]||"",!0),this.g=Cn(n[7]||"")):(this.h=!!e,this.a=new Gn(null,this.h))}function An(t,e,n){t.f=n?Cn(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function kn(t,e){if(e){if(e=Number(e),isNaN(e)||e<0)throw Error("Bad port number "+e);t.l=e}else t.l=null}function Pn(t,e,n){var r,i;e instanceof Gn?(t.a=e,r=t.a,(i=t.h)&&!r.f&&(Wn(r),r.c=null,r.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(Hn(this,e),$n(this,n,t))},r)),r.f=i):(n||(e=Ln(e,qn)),t.a=new Gn(e,t.h))}function xn(t,e,n){t.a.set(e,n)}function Rn(t,e){return t.a.get(e)}function Dn(t){return t instanceof Nn?new Nn(t):new Nn(t,void 0)}function jn(t,e){var n=new Nn(null,void 0);return An(n,"https"),t&&(n.b=t),e&&(n.c=e),n}function Cn(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Ln(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Mn),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Mn(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Nn.prototype.toString=function(){var t=[],e=this.f;e&&t.push(Ln(e,Fn,!0),":");var n=this.b;return!n&&"file"!=e||(t.push("//"),(e=this.i)&&t.push(Ln(e,Fn,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.l)&&t.push(":",String(n))),(n=this.c)&&(this.b&&"/"!=n.charAt(0)&&t.push("/"),t.push(Ln(n,"/"==n.charAt(0)?Un:Vn,!0))),(n=this.a.toString())&&t.push("?",n),(n=this.g)&&t.push("#",Ln(n,Bn)),t.join("")},Nn.prototype.resolve=function(t){var e=new Nn(this),n=!!t.f;n?An(e,t.f):n=!!t.i,n?e.i=t.i:n=!!t.b,n?e.b=t.b:n=null!=t.l;var r,i=t.c;if(n)kn(e,t.l);else if(n=!!t.c){if("/"!=i.charAt(0)&&(this.b&&!this.c?i="/"+i:-1!=(r=e.c.lastIndexOf("/"))&&(i=e.c.substr(0,r+1)+i)),".."==(r=i)||"."==r)i="";else if(rt(r,"./")||rt(r,"/.")){i=0==r.lastIndexOf("/",0),r=r.split("/");for(var o=[],s=0;s<r.length;){var a=r[s++];"."==a?i&&s==r.length&&o.push(""):".."==a?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),i&&s==r.length&&o.push("")):(o.push(a),i=!0)}i=o.join("/")}else i=r}return n?e.c=i:n=""!==t.a.toString(),n?Pn(e,Xn(t.a)):n=!!t.g,n&&(e.g=t.g),e};var Fn=/[#\/\?@]/g,Vn=/[#\?:]/g,Un=/[#\?]/g,qn=/[#\?@]/g,Bn=/#/g;function Gn(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Wn(n){n.a||(n.a=new In,n.b=0,n.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r,i=t[n].indexOf("="),o=null;0<=i?(r=t[n].substring(0,i),o=t[n].substring(i+1)):r=t[n],e(r,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(n.c,function(t,e){n.add(decodeURIComponent(t.replace(/\+/g," ")),e)}))}function zn(t){var e=_n(t);if(void 0===e)throw Error("Keys are undefined");var n=new Gn(null,void 0);t=En(t);for(var r=0;r<e.length;r++){var i=e[r],o=t[r];Array.isArray(o)?$n(n,i,o):n.add(i,o)}return n}function Hn(t,e){Wn(t),e=Yn(t,e),Sn(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Sn((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Tn(t)))}function Kn(t,e){return Wn(t),e=Yn(t,e),Sn(t.a.b,e)}function $n(t,e,n){Hn(t,e),0<n.length&&(t.c=null,t.a.set(Yn(t,e),K(n)),t.b+=n.length)}function Xn(t){var e=new Gn;return e.c=t.c,t.a&&(e.a=new In(t.a),e.b=t.b),e}function Yn(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function Jn(t){var e=[];return function t(e,n,r){if(null==n)r.push("null");else{if("object"==typeof n){if(Array.isArray(n)){var i=n;n=i.length,r.push("[");for(var o="",s=0;s<n;s++)r.push(o),t(e,i[s],r),o=",";return void r.push("]")}if(!(n instanceof String||n instanceof Number||n instanceof Boolean)){for(i in r.push("{"),o="",n)Object.prototype.hasOwnProperty.call(n,i)&&("function"!=typeof(s=n[i])&&(r.push(o),er(i,r),r.push(":"),t(e,s,r),o=","));return void r.push("}")}n=n.valueOf()}switch(typeof n){case"string":er(n,r);break;case"number":r.push(isFinite(n)&&!isNaN(n)?String(n):"null");break;case"boolean":r.push(String(n));break;case"function":r.push("null");break;default:throw Error("Unknown type: "+typeof n)}}}(new Qn,t,e),e.join("")}function Qn(){}(t=Gn.prototype).add=function(t,e){Wn(this),this.c=null,t=Yn(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},t.clear=function(){this.a=this.c=null,this.b=0},t.forEach=function(n,r){Wn(this),this.a.forEach(function(t,e){V(t,function(t){n.call(r,t,e,this)},this)},this)},t.X=function(){Wn(this);for(var t=this.a.V(),e=this.a.X(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},t.V=function(t){Wn(this);var e=[];if("string"==typeof t)Kn(this,t)&&(e=H(e,this.a.get(Yn(this,t))));else{t=this.a.V();for(var n=0;n<t.length;n++)e=H(e,t[n])}return e},t.set=function(t,e){return Wn(this),this.c=null,Kn(this,t=Yn(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},t.get=function(t,e){return t&&0<(t=this.V(t)).length?String(t[0]):e},t.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.X(),n=0;n<e.length;n++)for(var r=e[n],i=encodeURIComponent(String(r)),r=this.V(r),o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}return this.c=t.join("&")};var Zn={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},tr=/\uffff/.test("￿")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function er(t,e){e.push('"',t.replace(tr,function(t){var e=Zn[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),Zn[t]=e),e}),'"')}function nr(){var t=Er();return Gt&&Qt&&11==Qt||/Edge\/\d+/.test(t)}function rr(){return p.window&&p.window.location.href||self&&self.location&&self.location.href||""}function ir(t,e){e=e||p.window;var n="about:blank";t&&(n=Nt(kt(t))),e.location.href=n}function or(t){return!!((t=(t||Er()).toLowerCase()).match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))}function sr(t){t=t||p.window;try{t.close()}catch(t){}}function ar(t,e,n){var r=Math.floor(1e9*Math.random()).toString();e=e||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-e)/2;for(s in e={width:e,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=Er().toLowerCase(),r&&(e.target=r,rt(n,"crios/")&&(e.target="_blank")),mr(Er())==yr&&(t=t||"http://localhost",e.scrollbars=!0),n=t||"",(t=e)||(t={}),r=window,e=n instanceof Ot?n:kt(void 0!==n.href?n.href:String(n)),n=t.target||n.target,i=[],t)switch(s){case"width":case"height":case"top":case"left":i.push(s+"="+t[s]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(s+"="+(t[s]?1:0))}var s=i.join(",");if((at("iPhone")&&!at("iPod")&&!at("iPad")||at("iPad")||at("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(pt(s=ue(document,"A"),"HTMLAnchorElement"),e instanceof Ot||e instanceof Ot||(e="object"==typeof e&&e.ra?e.qa():String(e),At.test(e)||(e="about:invalid#zClosurez"),e=new Ot(xt,e)),s.href=Nt(e),s.setAttribute("target",n),t.noreferrer&&s.setAttribute("rel","noreferrer"),(t=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),s.dispatchEvent(t),s={}):t.noreferrer?(s=r.open("",n,s),t=Nt(e),s&&(zt&&rt(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),s.opener=null,t=Ct('<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Ft(t)+'">'),r=s.document)&&(r.write(Dt(t)),r.close())):(s=r.open(Nt(e),n,s))&&t.noopener&&(s.opener=null),s)try{s.focus()}catch(t){}return s}var ur=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,cr=/^[^@]+@[^@]+$/;function hr(){var e=null;return new ve(function(t){"complete"==p.document.readyState?t():(e=function(){t()},on(window,"load",e))}).o(function(t){throw sn(window,"load",e),t})}function fr(t){return t=t||Er(),!("file:"!==Or()&&"ionic:"!==Or()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function lr(){var t=p.window;try{return t&&t!=t.top}catch(t){return}}function pr(){return void 0!==p.WorkerGlobalScope&&"function"==typeof p.importScripts}function dr(){return Xf.a.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":Xf.a.INTERNAL.hasOwnProperty("node")?"Node":pr()?"Worker":"Browser"}function vr(){var t=dr();return"ReactNative"===t||"Node"===t}var yr="Firefox",gr="Chrome";function mr(t){var e=t.toLowerCase();return rt(e,"opera/")||rt(e,"opr/")||rt(e,"opios/")?"Opera":rt(e,"iemobile")?"IEMobile":rt(e,"msie")||rt(e,"trident/")?"IE":rt(e,"edge/")?"Edge":rt(e,"firefox/")?yr:rt(e,"silk/")?"Silk":rt(e,"blackberry")?"Blackberry":rt(e,"webos")?"Webos":!rt(e,"safari/")||rt(e,"chrome/")||rt(e,"crios/")||rt(e,"android")?!rt(e,"chrome/")&&!rt(e,"crios/")||rt(e,"edge/")?rt(e,"android")?"Android":(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":gr:"Safari"}var br={jd:"FirebaseCore-web",ld:"FirebaseUI-web"};function wr(t,e){e=e||[];var n,r=[],i={};for(n in br)i[br[n]]=!0;for(n=0;n<e.length;n++)void 0!==i[e[n]]&&(delete i[e[n]],r.push(e[n]));return r.sort(),(e=r).length||(e=["FirebaseCore-web"]),"Browser"===(r=dr())?r=mr(i=Er()):"Worker"===r&&(r=mr(i=Er())+"-"+r),r+"/JsCore/"+t+"/"+e.join(",")}function Er(){return p.navigator&&p.navigator.userAgent||""}function _r(t,e){t=t.split("."),e=e||p;for(var n=0;n<t.length&&"object"==typeof e&&null!=e;n++)e=e[t[n]];return n!=t.length&&(e=void 0),e}function Ir(){try{var t=p.localStorage,e=xr();if(t)return t.setItem(e,"1"),t.removeItem(e),!nr()||!!p.indexedDB}catch(t){return pr()&&!!p.indexedDB}return!1}function Tr(){return(Sr()||"chrome-extension:"===Or()||fr())&&!vr()&&Ir()&&!pr()}function Sr(){return"http:"===Or()||"https:"===Or()}function Or(){return p.location&&p.location.protocol||null}function Nr(t){return!or(t=t||Er())&&mr(t)!=yr}function Ar(t){return void 0===t?null:Jn(t)}function kr(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&null!==t[e]&&void 0!==t[e]&&(n[e]=t[e]);return n}function Pr(t){if(null!==t)return JSON.parse(t)}function xr(t){return t||Math.floor(1e9*Math.random()).toString()}function Rr(t){return"Safari"!=mr(t=t||Er())&&!t.toLowerCase().match(/iphone|ipad|ipod/)}function Dr(){var t=p.___jsl;if(t&&t.H)for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var n=0;n<t.CP.length;n++)t.CP[n]=null}function jr(t,e){if(e<t)throw Error("Short delay should be less than long delay!");this.a=t,this.c=e,t=Er(),e=dr(),this.b=or(t)||"ReactNative"===e}function Cr(){var t=p.document;return!t||void 0===t.visibilityState||"visible"==t.visibilityState}function Lr(t){try{var e=new Date(parseInt(t,10));if(!isNaN(e.getTime())&&!/[^0-9]/.test(t))return e.toUTCString()}catch(t){}return null}function Mr(){return _r("fireauth.oauthhelper",p)||_r("fireauth.iframe",p)}jr.prototype.get=function(){var t=p.navigator;return!t||"boolean"!=typeof t.onLine||!Sr()&&"chrome-extension:"!==Or()&&void 0===t.connection||t.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var Fr,Vr={};function Ur(t){Vr[t]||(Vr[t]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(t))}try{var qr={};Object.defineProperty(qr,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(qr,"abcd",{configurable:!0,enumerable:!0,value:2}),Fr=2==qr.abcd}catch(t){Fr=!1}function Br(t,e,n){Fr?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}):t[e]=n}function Gr(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&Br(t,n,e[n])}function Wr(t){var e={};return Gr(e,t),e}function zr(t){var e=t;if("object"==typeof t&&null!=t)for(var n in e="length"in t?[]:{},t)Br(e,n,zr(t[n]));return e}function Hr(t){var e=t&&(t[Jr]?"phone":null);if(!(e&&t&&t[Yr]))throw new _("internal-error","Internal assert: invalid MultiFactorInfo object");Br(this,"uid",t[Yr]),Br(this,"displayName",t[$r]||null);var n=null;t[Xr]&&(n=new Date(t[Xr]).toUTCString()),Br(this,"enrollmentTime",n),Br(this,"factorId",e)}function Kr(t){try{var e=new Qr(t)}catch(t){e=null}return e}Hr.prototype.v=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var $r="displayName",Xr="enrolledAt",Yr="mfaEnrollmentId",Jr="phoneInfo";function Qr(t){Hr.call(this,t),Br(this,"phoneNumber",t[Jr])}function Zr(t){var e={},n=t[ri],r=t[oi],i=t[si];if(t=Kr(t[ii]),!i||i!=ei&&i!=ni&&!n||i==ni&&!r||i==ti&&!t)throw Error("Invalid checkActionCode response!");i==ni?(e[ui]=n||null,e[hi]=n||null,e[ai]=r):(e[ui]=r||null,e[hi]=r||null,e[ai]=n||null),e[ci]=t||null,Br(this,li,i),Br(this,fi,zr(e))}E(Qr,Hr),Qr.prototype.v=function(){var t=Qr.Za.v.call(this);return t.phoneNumber=this.phoneNumber,t};var ti="REVERT_SECOND_FACTOR_ADDITION",ei="EMAIL_SIGNIN",ni="VERIFY_AND_CHANGE_EMAIL",ri="email",ii="mfaInfo",oi="newEmail",si="requestType",ai="email",ui="fromEmail",ci="multiFactorInfo",hi="previousEmail",fi="data",li="operation";function pi(t){var e=Rn(t=Dn(t),di)||null,n=Rn(t,vi)||null,r=(r=Rn(t,mi)||null)&&wi[r]||null;if(!e||!n||!r)throw new _("argument-error",di+", "+vi+"and "+mi+" are required in a valid action code URL.");Gr(this,{apiKey:e,operation:r,code:n,continueUrl:Rn(t,yi)||null,languageCode:Rn(t,gi)||null,tenantId:Rn(t,bi)||null})}var di="apiKey",vi="oobCode",yi="continueUrl",gi="languageCode",mi="mode",bi="tenantId",wi={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:ti,signIn:ei,verifyAndChangeEmail:ni,verifyEmail:"VERIFY_EMAIL"};function Ei(t){try{return new pi(t)}catch(t){return null}}function _i(t){var e=t[Ni];if(void 0===e)throw new _("missing-continue-uri");if("string"!=typeof e||"string"==typeof e&&!e.length)throw new _("invalid-continue-uri");if(this.h=e,this.b=this.a=null,this.g=!1,(r=t[Ii])&&"object"==typeof r){e=r[Pi];var n=r[Ai],r=r[ki];if("string"==typeof e&&e.length){if(this.a=e,void 0!==n&&"boolean"!=typeof n)throw new _("argument-error",Ai+" property must be a boolean when specified.");if(this.g=!!n,void 0!==r&&("string"!=typeof r||"string"==typeof r&&!r.length))throw new _("argument-error",ki+" property must be a non empty string when specified.");this.b=r||null}else{if(void 0!==e)throw new _("argument-error",Pi+" property must be a non empty string when specified.");if(void 0!==n||void 0!==r)throw new _("missing-android-pkg-name")}}else if(void 0!==r)throw new _("argument-error",Ii+" property must be a non null object when specified.");if(this.f=null,(e=t[Oi])&&"object"==typeof e){if("string"==typeof(e=e[xi])&&e.length)this.f=e;else if(void 0!==e)throw new _("argument-error",xi+" property must be a non empty string when specified.")}else if(void 0!==e)throw new _("argument-error",Oi+" property must be a non null object when specified.");if(void 0!==(e=t[Si])&&"boolean"!=typeof e)throw new _("argument-error",Si+" property must be a boolean when specified.");if(this.c=!!e,void 0!==(t=t[Ti])&&("string"!=typeof t||"string"==typeof t&&!t.length))throw new _("argument-error",Ti+" property must be a non empty string when specified.");this.i=t||null}var Ii="android",Ti="dynamicLinkDomain",Si="handleCodeInApp",Oi="iOS",Ni="url",Ai="installApp",ki="minimumVersion",Pi="packageName",xi="bundleId";function Ri(t){var e={};for(var n in e.continueUrl=t.h,e.canHandleCodeInApp=t.c,(e.androidPackageName=t.a)&&(e.androidMinimumVersion=t.b,e.androidInstallApp=t.g),e.iOSBundleId=t.f,e.dynamicLinkDomain=t.i,e)null===e[n]&&delete e[n];return e}var Di=null;function ji(t){var e="";return function(r,t){function e(t){for(;i<r.length;){var e=r.charAt(i++),n=Di[e];if(null!=n)return n;if(!/^[\s\xa0]*$/.test(e))throw Error("Unknown base64 encoding at char: "+e)}return t}!function(){if(!Di){Di={};for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),e=["+/=","+/","-_=","-_.","-_"],n=0;n<5;n++)for(var r=t.concat(e[n].split("")),i=0;i<r.length;i++){var o=r[i];void 0===Di[o]&&(Di[o]=i)}}}();for(var i=0;;){var n=e(-1),o=e(0),s=e(64),a=e(64);if(64===a&&-1===n)break;t(n<<2|o>>4),64!=s&&(t(o<<4&240|s>>2),64!=a&&t(s<<6&192|a))}}(t,function(t){e+=String.fromCharCode(t)}),e}function Ci(t){var e=Mi(t);if(!(e&&e.sub&&e.iss&&e.aud&&e.exp))throw Error("Invalid JWT");this.g=t,this.c=e.exp,this.h=e.sub,w(),this.a=e.provider_id||e.firebase&&e.firebase.sign_in_provider||null,this.f=e.firebase&&e.firebase.tenant||null,this.b=!!e.is_anonymous||"anonymous"==this.a}function Li(t){try{return new Ci(t)}catch(t){return null}}function Mi(t){if(!t)return null;if(3!=(t=t.split(".")).length)return null;for(var e=(4-(t=t[1]).length%4)%4,n=0;n<e;n++)t+=".";try{return JSON.parse(ji(t))}catch(t){}return null}Ci.prototype.S=function(){return this.f},Ci.prototype.i=function(){return this.b},Ci.prototype.toString=function(){return this.g};var Fi="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Vi=["client_id","response_type","scope","redirect_uri","state"],Ui={kd:{Ha:"locale",ta:700,sa:600,ea:"facebook.com",Va:Vi},md:{Ha:null,ta:500,sa:750,ea:"github.com",Va:Vi},nd:{Ha:"hl",ta:515,sa:680,ea:"google.com",Va:Vi},td:{Ha:"lang",ta:485,sa:705,ea:"twitter.com",Va:Fi},gd:{Ha:"locale",ta:640,sa:600,ea:"apple.com",Va:[]}};function qi(t){for(var e in Ui)if(Ui[e].ea==t)return Ui[e];return null}function Bi(t){var e={};e["facebook.com"]=Ki,e["google.com"]=Xi,e["github.com"]=$i,e["twitter.com"]=Yi;var n=t&&t[Wi];try{if(n)return e[n]?new e[n](t):new Hi(t);if(void 0!==t[Gi])return new zi(t)}catch(t){}return null}var Gi="idToken",Wi="providerId";function zi(t){var e,n=t[Wi];if(n||!t[Gi]||(e=Li(t[Gi]))&&e.a&&(n=e.a),!n)throw Error("Invalid additional user info!");"anonymous"!=n&&"custom"!=n||(n=null),e=!1,void 0!==t.isNewUser?e=!!t.isNewUser:"identitytoolkit#SignupNewUserResponse"===t.kind&&(e=!0),Br(this,"providerId",n),Br(this,"isNewUser",e)}function Hi(t){zi.call(this,t),Br(this,"profile",zr((t=Pr(t.rawUserInfo||"{}"))||{}))}function Ki(t){if(Hi.call(this,t),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function $i(t){if(Hi.call(this,t),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Br(this,"username",this.profile&&this.profile.login||null)}function Xi(t){if(Hi.call(this,t),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function Yi(t){if(Hi.call(this,t),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Br(this,"username",t.screenName||null)}function Ji(t){var e=Rn(r=Dn(t),"link"),n=Rn(Dn(e),"link"),r=Rn(r,"deep_link_id");return Rn(Dn(r),"link")||r||n||e||t}function Qi(t,e){if(!t&&!e)throw new _("internal-error","Internal assert: no raw session string available");if(t&&e)throw new _("internal-error","Internal assert: unable to determine the session type");this.a=t||null,this.b=e||null,this.type=this.a?Zi:to}E(Hi,zi),E(Ki,Hi),E($i,Hi),E(Xi,Hi),E(Yi,Hi);var Zi="enroll",to="signin";function eo(){}function no(t,n){return t.then(function(t){if(t[zs]){var e=Li(t[zs]);if(!e||n!=e.h)throw new _("user-mismatch");return t}throw new _("user-mismatch")}).o(function(t){throw t&&t.code&&t.code==S+"user-not-found"?new _("user-mismatch"):t})}function ro(t,e){if(!e)throw new _("internal-error","failed to construct a credential");this.a=e,Br(this,"providerId",t),Br(this,"signInMethod",t)}function io(t){return{pendingToken:t.a,requestUri:"http://localhost"}}function oo(t){if(t&&t.providerId&&t.signInMethod&&0==t.providerId.indexOf("saml.")&&t.pendingToken)try{return new ro(t.providerId,t.pendingToken)}catch(t){}return null}function so(t,e,n){if(this.a=null,e.idToken||e.accessToken)e.idToken&&Br(this,"idToken",e.idToken),e.accessToken&&Br(this,"accessToken",e.accessToken),e.nonce&&!e.pendingToken&&Br(this,"nonce",e.nonce),e.pendingToken&&(this.a=e.pendingToken);else{if(!e.oauthToken||!e.oauthTokenSecret)throw new _("internal-error","failed to construct a credential");Br(this,"accessToken",e.oauthToken),Br(this,"secret",e.oauthTokenSecret)}Br(this,"providerId",t),Br(this,"signInMethod",n)}function ao(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.providerId,t.nonce&&!t.a&&(e.nonce=t.nonce),e={postBody:zn(e).toString(),requestUri:"http://localhost"},t.a&&(delete e.postBody,e.pendingToken=t.a),e}function uo(t){if(t&&t.providerId&&t.signInMethod){var e={idToken:t.oauthIdToken,accessToken:t.oauthTokenSecret?null:t.oauthAccessToken,oauthTokenSecret:t.oauthTokenSecret,oauthToken:t.oauthTokenSecret&&t.oauthAccessToken,nonce:t.nonce,pendingToken:t.pendingToken};try{return new so(t.providerId,e,t.signInMethod)}catch(t){}}return null}function co(t,e){this.Oc=e||[],Gr(this,{providerId:t,isOAuthProvider:!0}),this.Fb={},this.lb=(qi(t)||{}).Ha||null,this.kb=null}function ho(t){if("string"!=typeof t||0!=t.indexOf("saml."))throw new _("argument-error",'SAML provider IDs must be prefixed with "saml."');co.call(this,t,[])}function fo(t){co.call(this,t,Vi),this.a=[]}function lo(){fo.call(this,"facebook.com")}function po(t){if(!t)throw new _("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return y(t)&&(e=t.accessToken),(new lo).credential({accessToken:e})}function vo(){fo.call(this,"github.com")}function yo(t){if(!t)throw new _("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return y(t)&&(e=t.accessToken),(new vo).credential({accessToken:e})}function go(){fo.call(this,"google.com"),this.Aa("profile")}function mo(t,e){var n=t;return y(t)&&(n=t.idToken,e=t.accessToken),(new go).credential({idToken:n,accessToken:e})}function bo(){co.call(this,"twitter.com",Fi)}function wo(t,e){var n=t;if(y(n)||(n={oauthToken:t,oauthTokenSecret:e}),!n.oauthToken||!n.oauthTokenSecret)throw new _("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new so("twitter.com",n,"twitter.com")}function Eo(t,e,n){this.a=t,this.f=e,Br(this,"providerId","password"),Br(this,"signInMethod",n===Io.EMAIL_LINK_SIGN_IN_METHOD?Io.EMAIL_LINK_SIGN_IN_METHOD:Io.EMAIL_PASSWORD_SIGN_IN_METHOD)}function _o(t){return t&&t.email&&t.password?new Eo(t.email,t.password,t.signInMethod):null}function Io(){Gr(this,{providerId:"password",isOAuthProvider:!1})}function To(t,e){if(!(e=So(e)))throw new _("argument-error","Invalid email link!");return new Eo(t,e.code,Io.EMAIL_LINK_SIGN_IN_METHOD)}function So(t){return(t=Ei(t=Ji(t)))&&t.operation===ei?t:null}function Oo(t){if(!(t.bb&&t.ab||t.Ja&&t.da))throw new _("internal-error");this.a=t,Br(this,"providerId","phone"),this.ea="phone",Br(this,"signInMethod","phone")}function No(e){if(e&&"phone"===e.providerId&&(e.verificationId&&e.verificationCode||e.temporaryProof&&e.phoneNumber)){var n={};return V(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(t){e[t]&&(n[t]=e[t])}),new Oo(n)}return null}function Ao(t){return t.a.Ja&&t.a.da?{temporaryProof:t.a.Ja,phoneNumber:t.a.da}:{sessionInfo:t.a.bb,code:t.a.ab}}function ko(t){try{this.a=t||Xf.a.auth()}catch(t){throw new _("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Gr(this,{providerId:"phone",isOAuthProvider:!1})}function Po(t,e){if(!t)throw new _("missing-verification-id");if(!e)throw new _("missing-verification-code");return new Oo({bb:t,ab:e})}function xo(t){if(t.temporaryProof&&t.phoneNumber)return new Oo({Ja:t.temporaryProof,da:t.phoneNumber});var e=t&&t.providerId;if(!e||"password"===e)return null;var n=t&&t.oauthAccessToken,r=t&&t.oauthTokenSecret,i=t&&t.nonce,o=t&&t.oauthIdToken,s=t&&t.pendingToken;try{switch(e){case"google.com":return mo(o,n);case"facebook.com":return po(n);case"github.com":return yo(n);case"twitter.com":return wo(n,r);default:return n||r||o||s?s?0==e.indexOf("saml.")?new ro(e,s):new so(e,{pendingToken:s,idToken:t.oauthIdToken,accessToken:t.oauthAccessToken},e):new fo(e).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(t){return null}}function Ro(t){if(!t.isOAuthProvider)throw new _("invalid-oauth-provider")}function Do(t,e,n,r,i,o,s){if(this.c=t,this.b=e||null,this.g=n||null,this.f=r||null,this.i=o||null,this.h=s||null,this.a=i||null,!this.g&&!this.a)throw new _("invalid-auth-event");if(this.g&&this.a)throw new _("invalid-auth-event");if(this.g&&!this.f)throw new _("invalid-auth-event")}function jo(t){return(t=t||{}).type?new Do(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&I(t.error),t.postBody,t.tenantId):null}function Co(){this.b=null,this.a=[]}Qi.prototype.Fa=function(){return this.a?_e(this.a):_e(this.b)},Qi.prototype.v=function(){return this.type==Zi?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},eo.prototype.ia=function(){},eo.prototype.b=function(){},eo.prototype.c=function(){},eo.prototype.v=function(){},ro.prototype.ia=function(t){return fa(t,io(this))},ro.prototype.b=function(t,e){var n=io(this);return n.idToken=e,la(t,n)},ro.prototype.c=function(t,e){return no(pa(t,io(this)),e)},ro.prototype.v=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},so.prototype.ia=function(t){return fa(t,ao(this))},so.prototype.b=function(t,e){var n=ao(this);return n.idToken=e,la(t,n)},so.prototype.c=function(t,e){return no(pa(t,ao(this)),e)},so.prototype.v=function(){var t={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),this.nonce&&(t.nonce=this.nonce),this.a&&(t.pendingToken=this.a),t},co.prototype.Ia=function(t){return this.Fb=ht(t),this},E(ho,co),E(fo,co),fo.prototype.Aa=function(t){return G(this.a,t)||this.a.push(t),this},fo.prototype.Nb=function(){return K(this.a)},fo.prototype.credential=function(t,e){var n=y(t)?{idToken:t.idToken||null,accessToken:t.accessToken||null,nonce:t.rawNonce||null}:{idToken:t||null,accessToken:e||null};if(!n.idToken&&!n.accessToken)throw new _("argument-error","credential failed: must provide the ID token and/or the access token.");return new so(this.providerId,n,this.providerId)},E(lo,fo),Br(lo,"PROVIDER_ID","facebook.com"),Br(lo,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),E(vo,fo),Br(vo,"PROVIDER_ID","github.com"),Br(vo,"GITHUB_SIGN_IN_METHOD","github.com"),E(go,fo),Br(go,"PROVIDER_ID","google.com"),Br(go,"GOOGLE_SIGN_IN_METHOD","google.com"),E(bo,co),Br(bo,"PROVIDER_ID","twitter.com"),Br(bo,"TWITTER_SIGN_IN_METHOD","twitter.com"),Eo.prototype.ia=function(t){return this.signInMethod==Io.EMAIL_LINK_SIGN_IN_METHOD?$a(t,Ea,{email:this.a,oobCode:this.f}):$a(t,Ga,{email:this.a,password:this.f})},Eo.prototype.b=function(t,e){return this.signInMethod==Io.EMAIL_LINK_SIGN_IN_METHOD?$a(t,_a,{idToken:e,email:this.a,oobCode:this.f}):$a(t,Ca,{idToken:e,email:this.a,password:this.f})},Eo.prototype.c=function(t,e){return no(this.ia(t),e)},Eo.prototype.v=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},Gr(Io,{PROVIDER_ID:"password"}),Gr(Io,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Gr(Io,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),Oo.prototype.ia=function(t){return t.cb(Ao(this))},Oo.prototype.b=function(t,e){var n=Ao(this);return n.idToken=e,$a(t,za,n)},Oo.prototype.c=function(t,e){var n=Ao(this);return n.operation="REAUTH",no(t=$a(t,Ha,n),e)},Oo.prototype.v=function(){var t={providerId:"phone"};return this.a.bb&&(t.verificationId=this.a.bb),this.a.ab&&(t.verificationCode=this.a.ab),this.a.Ja&&(t.temporaryProof=this.a.Ja),this.a.da&&(t.phoneNumber=this.a.da),t},ko.prototype.cb=function(i,o){var s=this.a.b;return _e(o.verify()).then(function(r){if("string"!=typeof r)throw new _("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(o.type){case"recaptcha":var t=y(i)?i.session:null,e=y(i)?i.phoneNumber:i,n=t&&t.type==Zi?t.Fa().then(function(t){return $a(s,Ma,{idToken:t,phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:r}}).then(function(t){return t.phoneSessionInfo.sessionInfo})}):t&&t.type==to?t.Fa().then(function(t){return e=s,n={mfaPendingCredential:t,mfaEnrollmentId:i.multiFactorHint&&i.multiFactorHint.uid||i.multiFactorUid,phoneSignInInfo:{recaptchaToken:r}},$a(e,Fa,n).then(function(t){return t.phoneResponseInfo.sessionInfo});var e,n}):$a(s,Da,{phoneNumber:e,recaptchaToken:r});return n.then(function(t){return"function"==typeof o.reset&&o.reset(),t},function(t){throw"function"==typeof o.reset&&o.reset(),t});default:throw new _("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})},Gr(ko,{PROVIDER_ID:"phone"}),Gr(ko,{PHONE_SIGN_IN_METHOD:"phone"}),Do.prototype.getUid=function(){var t=[];return t.push(this.c),this.b&&t.push(this.b),this.f&&t.push(this.f),this.h&&t.push(this.h),t.join("-")},Do.prototype.S=function(){return this.h},Do.prototype.v=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.v()}};var Lo,Mo=null;function Fo(t){var e="unauthorized-domain",n=void 0,r=Dn(t);t=r.b,"chrome-extension"==(r=r.f)?n=Mt("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):"http"==r||"https"==r?n=Mt("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):e="operation-not-supported-in-this-environment",_.call(this,e,n)}function Vo(t,e,n){_.call(this,t,n),(t=e||{}).Gb&&Br(this,"email",t.Gb),t.da&&Br(this,"phoneNumber",t.da),t.credential&&Br(this,"credential",t.credential),t.Wb&&Br(this,"tenantId",t.Wb)}function Uo(t){if(t.code){var e=t.code||"";0==e.indexOf(S)&&(e=e.substring(S.length));var n={credential:xo(t),Wb:t.tenantId};if(t.email)n.Gb=t.email;else if(t.phoneNumber)n.da=t.phoneNumber;else if(!n.credential)return new _(e,t.message||void 0);return new Vo(e,n,t.message)}return null}function qo(){}function Bo(t){return t.c||(t.c=t.b())}function Go(){}function Wo(t){if(t.f||"undefined"!=typeof XMLHttpRequest||"undefined"==typeof ActiveXObject)return t.f;for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var r=e[n];try{return new ActiveXObject(r),t.f=r}catch(t){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}function zo(){}function Ho(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=m(this.oc,this),this.a.onerror=m(this.Pb,this),this.a.onprogress=m(this.pc,this),this.a.ontimeout=m(this.tc,this)}function Ko(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()}function $o(t,e,n){this.reset(t,e,n,void 0,void 0)}E(Fo,_),E(Vo,_),Vo.prototype.v=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email),this.phoneNumber&&(t.phoneNumber=this.phoneNumber),this.tenantId&&(t.tenantId=this.tenantId);var e=this.credential&&this.credential.v();return e&&lt(t,e),t},Vo.prototype.toJSON=function(){return this.v()},qo.prototype.c=null,E(Go,qo),Go.prototype.a=function(){var t=Wo(this);return t?new ActiveXObject(t):new XMLHttpRequest},Go.prototype.b=function(){var t={};return Wo(this)&&(t[0]=!0,t[1]=!0),t},Lo=new Go,E(zo,qo),zo.prototype.a=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new Ho;throw Error("Unsupported browser")},zo.prototype.b=function(){return{}},(t=Ho.prototype).open=function(t,e,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(t,e)},t.send=function(t){if(t){if("string"!=typeof t)throw Error("Only string data is supported");this.a.send(t)}else this.a.send()},t.abort=function(){this.a.abort()},t.setRequestHeader=function(){},t.getResponseHeader=function(t){return"content-type"==t.toLowerCase()?this.a.contentType:""},t.oc=function(){this.status=200,this.response=this.responseText=this.a.responseText,Ko(this,4)},t.Pb=function(){this.status=500,this.response=this.responseText="",Ko(this,4)},t.tc=function(){this.Pb()},t.pc=function(){this.status=200,Ko(this,1)},t.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},$o.prototype.a=null;function Xo(t){this.f=t,this.b=this.c=this.a=null}function Yo(t,e){this.name=t,this.value=e}$o.prototype.reset=function(t,e,n,r,i){"number"==typeof i||0,r||w(),delete this.a},Yo.prototype.toString=function(){return this.name};var Jo=new Yo("SEVERE",1e3),Qo=new Yo("WARNING",900),Zo=new Yo("CONFIG",700),ts=new Yo("FINE",500);Xo.prototype.log=function(t,e,n){if(t.value>=function t(e){return e.c?e.c:e.a?t(e.a):(R("Root logger has no level set."),null)}(this).value)for(l(e)&&(e=e()),t=new $o(t,String(e),this.f),n&&(t.a=n),n=this;n;)n=n.a};var es,ns={},rs=null;function is(t){var e,n,r;return rs||(rs=new Xo(""),(ns[""]=rs).c=Zo),(e=ns[t])||(e=new Xo(t),r=t.lastIndexOf("."),n=t.substr(r+1),(r=is(t.substr(0,r))).b||(r.b={}),(r.b[n]=e).a=r,ns[t]=e),e}function os(t,e){t&&t.log(ts,e,void 0)}function ss(t){this.f=t}function as(t){vn.call(this),this.s=t,this.readyState=us,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.i=new Headers,this.b=null,this.m="GET",this.g="",this.a=!1,this.h=is("goog.net.FetchXmlHttp"),this.l=this.c=this.f=null}E(ss,qo),ss.prototype.a=function(){return new as(this.f)},ss.prototype.b=(es={},function(){return es}),E(as,vn);var us=0;function cs(t){t.c.read().then(t.nc.bind(t)).catch(t.Sa.bind(t))}function hs(t,e){e&&t.f&&(t.status=t.f.status,t.statusText=t.f.statusText),t.readyState=4,t.f=null,t.c=null,t.l=null,fs(t)}function fs(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function ls(t){vn.call(this),this.headers=new In,this.D=t||null,this.c=!1,this.B=this.a=null,this.h=this.P=this.l="",this.f=this.O=this.i=this.N=!1,this.g=0,this.s=null,this.m=ps,this.w=this.R=!1}(t=as.prototype).open=function(t,e){if(this.readyState!=us)throw this.abort(),Error("Error reopening a connection");this.m=t,this.g=e,this.readyState=1,fs(this)},t.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.i,method:this.m,credentials:void 0,cache:void 0};t&&(e.body=t),this.s.fetch(new Request(this.g,e)).then(this.sc.bind(this),this.Sa.bind(this))},t.abort=function(){this.response=this.responseText="",this.i=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,hs(this,!1)),this.readyState=us},t.sc=function(t){this.a&&(this.f=t,this.b||(this.b=t.headers,this.readyState=2,fs(this)),this.a&&(this.readyState=3,fs(this),this.a&&("arraybuffer"===this.responseType?t.arrayBuffer().then(this.qc.bind(this),this.Sa.bind(this)):void 0!==p.ReadableStream&&"body"in t?(this.response=this.responseText="",this.c=t.body.getReader(),this.l=new TextDecoder,cs(this)):t.text().then(this.rc.bind(this),this.Sa.bind(this)))))},t.nc=function(t){var e;this.a&&((e=this.l.decode(t.value?t.value:new Uint8Array(0),{stream:!t.done}))&&(this.response=this.responseText+=e),t.done?hs(this,!0):fs(this),3==this.readyState&&cs(this))},t.rc=function(t){this.a&&(this.response=this.responseText=t,hs(this,!0))},t.qc=function(t){this.a&&(this.response=t,hs(this,!0))},t.Sa=function(t){var e=this.h;e&&e.log(Qo,"Failed to fetch url "+this.g,t instanceof Error?t:Error(t)),this.a&&hs(this,!0)},t.setRequestHeader=function(t,e){this.i.append(t,e)},t.getResponseHeader=function(t){return this.b?this.b.get(t.toLowerCase())||"":((t=this.h)&&t.log(Qo,"Attempting to get response header but no headers have been received for url: "+this.g,void 0),"")},t.getAllResponseHeaders=function(){if(!this.b){var t=this.h;return t&&t.log(Qo,"Attempting to get all response headers but no headers have been received for url: "+this.g,void 0),""}t=[];for(var e=this.b.entries(),n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join("\r\n")},E(ls,vn);var ps="";ls.prototype.b=is("goog.net.XhrIo");var ds=/^https?$/i,vs=["POST","PUT"];function ys(e,t,n,r,i){if(e.a)throw Error("[goog.net.XhrIo] Object is active with another request="+e.l+"; newUri="+t);n=n?n.toUpperCase():"GET",e.l=t,e.h="",e.P=n,e.N=!1,e.c=!0,e.a=e.D?e.D.a():Lo.a(),e.B=e.D?Bo(e.D):Bo(Lo),e.a.onreadystatechange=m(e.Sb,e);try{os(e.b,Ss(e,"Opening Xhr")),e.O=!0,e.a.open(n,String(t),!0),e.O=!1}catch(t){return os(e.b,Ss(e,"Error opening Xhr: "+t.message)),void ms(e,t)}t=r||"";var o,s=new In(e.headers);i&&function(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(f(t)||"string"==typeof t)V(t,e,void 0);else for(var n=_n(t),r=En(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}(i,function(t,e){s.set(e,t)}),i=function(t){t:{for(var e=gs,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return e<0?null:"string"==typeof t?t.charAt(e):t[e]}(s.X()),r=p.FormData&&t instanceof p.FormData,!G(vs,n)||i||r||s.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),s.forEach(function(t,e){this.a.setRequestHeader(e,t)},e),e.m&&(e.a.responseType=e.m),"withCredentials"in e.a&&e.a.withCredentials!==e.R&&(e.a.withCredentials=e.R);try{_s(e),0<e.g&&(e.w=(o=e.a,Gt&&te(9)&&"number"==typeof o.timeout&&void 0!==o.ontimeout),os(e.b,Ss(e,"Will abort after "+e.g+"ms if incomplete, xhr2 "+e.w)),e.w?(e.a.timeout=e.g,e.a.ontimeout=m(e.Ka,e)):e.s=bn(e.Ka,e.g,e)),os(e.b,Ss(e,"Sending request")),e.i=!0,e.a.send(t),e.i=!1}catch(t){os(e.b,Ss(e,"Send error: "+t.message)),ms(e,t)}}function gs(t){return"content-type"==t.toLowerCase()}function ms(t,e){t.c=!1,t.a&&(t.f=!0,t.a.abort(),t.f=!1),t.h=e,bs(t),Es(t)}function bs(t){t.N||(t.N=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function ws(e){if(e.c&&void 0!==h)if(e.B[1]&&4==Is(e)&&2==Ts(e))os(e.b,Ss(e,"Local request error detected and ignored"));else if(e.i&&4==Is(e))bn(e.Sb,0,e);else if(e.dispatchEvent("readystatechange"),4==Is(e)){os(e.b,Ss(e,"Request complete")),e.c=!1;try{var t,n,r,i,o=Ts(e);t:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var s=!0;break t;default:s=!1}if((t=s)||((n=0===o)&&(!(i=String(e.l).match(On)[1]||null)&&p.self&&p.self.location&&(i=(r=p.self.location.protocol).substr(0,r.length-1)),n=!ds.test(i?i.toLowerCase():"")),t=n),t)e.dispatchEvent("complete"),e.dispatchEvent("success");else{try{var a=2<Is(e)?e.a.statusText:""}catch(t){os(e.b,"Can not get status: "+t.message),a=""}e.h=a+" ["+Ts(e)+"]",bs(e)}}finally{Es(e)}}}function Es(e,t){if(e.a){_s(e);var n=e.a,r=e.B[0]?s:null;e.a=null,e.B=null,t||e.dispatchEvent("ready");try{n.onreadystatechange=r}catch(t){(e=e.b)&&e.log(Jo,"Problem encountered resetting onreadystatechange: "+t.message,void 0)}}}function _s(t){t.a&&t.w&&(t.a.ontimeout=null),t.s&&(p.clearTimeout(t.s),t.s=null)}function Is(t){return t.a?t.a.readyState:0}function Ts(t){try{return 2<Is(t)?t.a.status:-1}catch(t){return-1}}function Ss(t,e){return e+" ["+t.P+" "+t.l+" "+Ts(t)+"]"}function Os(t){var e=Ms;this.g=[],this.w=e,this.s=t||null,this.f=this.a=!1,this.c=void 0,this.u=this.B=this.i=!1,this.h=0,this.b=null,this.l=0}function Ns(t,e,n){t.a=!0,t.c=n,t.f=!e,xs(t)}function As(t){if(t.a){if(!t.u)throw new Rs;t.u=!1}}function ks(t,e,n,r){t.g.push([e,n,r]),t.a&&xs(t)}function Ps(t){return B(t.g,function(t){return l(t[1])})}function xs(e){var n,r;e.h&&e.a&&Ps(e)&&(n=e.h,(r=Cs[n])&&(p.clearTimeout(r.a),delete Cs[n]),e.h=0),e.b&&(e.b.l--,delete e.b),n=e.c;for(var t=r=!1;e.g.length&&!e.i;){var i=(s=e.g.shift())[0],o=s[1],s=s[2];if(i=e.f?o:i)try{var a=i.call(s||e.s,n);void 0!==a&&(e.f=e.f&&(a==n||a instanceof Error),e.c=n=a),(k(n)||"function"==typeof p.Promise&&n instanceof p.Promise)&&(t=!0,e.i=!0)}catch(t){n=t,e.f=!0,Ps(e)||(r=!0)}}e.c=n,t&&(a=m(e.m,e,!0),t=m(e.m,e,!1),n instanceof Os?(ks(n,a,t),n.B=!0):n.then(a,t)),r&&(n=new js(n),Cs[n.a]=n,e.h=n.a)}function Rs(){P.call(this)}function Ds(){P.call(this)}function js(t){this.a=p.setTimeout(m(this.c,this),0),this.b=t}(t=ls.prototype).Ka=function(){void 0!==h&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",os(this.b,Ss(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},t.abort=function(){this.a&&this.c&&(os(this.b,Ss(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Es(this))},t.Ba=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),Es(this,!0)),ls.Za.Ba.call(this)},t.Sb=function(){this.wa||(this.O||this.i||this.f?ws(this):this.Hc())},t.Hc=function(){ws(this)},t.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case ps:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var t=this.b;return t&&t.log(Jo,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(t){return os(this.b,"Can not get response: "+t.message),null}},Os.prototype.cancel=function(t){var e;this.a?this.c instanceof Os&&this.c.cancel():(this.b&&(e=this.b,delete this.b,t?e.cancel(t):(e.l--,e.l<=0&&e.cancel())),this.w?this.w.call(this.s,this):this.u=!0,this.a||(t=new Ds,As(this),Ns(this,!1,t)))},Os.prototype.m=function(t,e){this.i=!1,Ns(this,t,e)},Os.prototype.then=function(t,e,n){var r,i,o=new ve(function(t,e){r=t,i=e});return ks(this,r,function(t){t instanceof Ds?o.cancel():i(t)}),o.then(t,e,n)},Os.prototype.$goog_Thenable=!0,E(Rs,P),Rs.prototype.message="Deferred has already fired",Rs.prototype.name="AlreadyCalledError",E(Ds,P),Ds.prototype.message="Deferred was canceled",Ds.prototype.name="CanceledError",js.prototype.c=function(){throw delete Cs[this.a],this.b};var Cs={};function Ls(t){var e,n,r,i,o={},s=o.document||document,a=wt(t).toString(),u=ue(document,"SCRIPT"),c={Tb:u,Ka:void 0},h=new Os(c),f=null,l=null!=o.timeout?o.timeout:5e3;return 0<l&&(f=window.setTimeout(function(){Fs(u,!0);var t=new qs(Us,"Timeout reached for loading script "+a);As(h),Ns(h,!1,t)},l),c.Ka=f),u.onload=u.onreadystatechange=function(){u.readyState&&"loaded"!=u.readyState&&"complete"!=u.readyState||(Fs(u,o.ud||!1,f),As(h),Ns(h,!0,null))},u.onerror=function(){Fs(u,!0,f);var t=new qs(Vs,"Error while loading script "+a);As(h),Ns(h,!1,t)},lt(c=o.attributes||{},{type:"text/javascript",charset:"UTF-8"}),re(u,c),n=t,pt(e=u,"HTMLScriptElement"),e.src=wt(n),null===v&&(v=(n=(n=p.document).querySelector&&n.querySelector("script[nonce]"))&&(n=n.nonce||n.getAttribute("nonce"))&&d.test(n)?n:""),(n=v)&&e.setAttribute("nonce",n),((i=((r=s)||document).getElementsByTagName("HEAD"))&&0!=i.length?i[0]:r.documentElement).appendChild(u),h}function Ms(){var t;this&&this.Tb&&((t=this.Tb)&&"SCRIPT"==t.tagName&&Fs(t,!0,this.Ka))}function Fs(t,e,n){null!=n&&p.clearTimeout(n),t.onload=s,t.onerror=s,t.onreadystatechange=s,e&&window.setTimeout(function(){t&&t.parentNode&&t.parentNode.removeChild(t)},0)}var Vs=0,Us=1;function qs(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),P.call(this,n),this.code=t}function Bs(t){this.f=t}function Gs(t,e,n){if(this.c=t,t=e||{},this.u=t.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=t.secureTokenTimeout||Hs,this.g=ht(t.secureTokenHeaders||Ks),this.h=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.l=t.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.i=t.firebaseTimeout||$s,this.a=ht(t.firebaseHeaders||Xs),n&&(this.a["X-Client-Version"]=n,this.g["X-Client-Version"]=n),n="Node"==dr(),!(n=p.XMLHttpRequest||n&&Xf.a.INTERNAL.node&&Xf.a.INTERNAL.node.XMLHttpRequest)&&!pr())throw new _("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,pr()?this.f=new ss(self):vr()?this.f=new Bs(n):this.f=new zo,this.b=null}E(qs,P),E(Bs,qo),Bs.prototype.a=function(){return new this.f},Bs.prototype.b=function(){return{}};var Ws,zs="idToken",Hs=new jr(3e4,6e4),Ks={"Content-Type":"application/x-www-form-urlencoded"},$s=new jr(3e4,6e4),Xs={"Content-Type":"application/json"};function Ys(t,e){e?t.a["X-Firebase-Locale"]=e:delete t.a["X-Firebase-Locale"]}function Js(t,e){e?(t.a["X-Client-Version"]=e,t.g["X-Client-Version"]=e):(delete t.a["X-Client-Version"],delete t.g["X-Client-Version"])}function Qs(t,e,n,r,i,o,s){var a;(t=!((a=mr(a=Er())==gr&&(a=a.match(/\sChrome\/(\d+)/i))&&2==a.length?parseInt(a[1],10):null)&&a<30||Gt&&Qt&&!(9<Qt))||pr()?m(t.w,t):(Ws=Ws||new ve(function(t,e){!function(t,e){{((window.gapi||{}).client||{}).request?t():(p[ta]=function(){((window.gapi||{}).client||{}).request?t():e(Error("CORS_UNSUPPORTED"))},function(t,e){ks(t,null,e,void 0)}(Ls(Et(Zs,{onload:ta})),function(){e(Error("CORS_UNSUPPORTED"))}))}}(t,e)}),m(t.s,t)))(e,n,r,i,o,s)}Gs.prototype.S=function(){return this.b},Gs.prototype.w=function(t,n,e,r,i,o){if(pr()&&(void 0===p.fetch||void 0===p.Headers||void 0===p.Request))throw new _("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var s,a=new ls(this.f);o&&(a.g=Math.max(0,o),s=setTimeout(function(){a.dispatchEvent("timeout")},o)),yn(a,"complete",function(){s&&clearTimeout(s);var e=null;try{e=JSON.parse(function(e){try{return e.a?e.a.responseText:""}catch(t){return os(e.b,"Can not get responseText: "+t.message),""}}(this))||null}catch(t){e=null}n&&n(e)}),gn(a,"ready",function(){s&&clearTimeout(s),Ve(this)}),gn(a,"timeout",function(){s&&clearTimeout(s),Ve(this),n&&n(null)}),ys(a,t,e,r,i)};var Zs=new dt(gt,"https://apis.google.com/js/client.js?onload=%{onload}"),ta="__fcb"+Math.floor(1e6*Math.random()).toString();function ea(t,e,n,r,i,o,s){var a=Dn(e+n);xn(a,"key",t.c),s&&xn(a,"cb",w().toString());var u="GET"==r;if(u)for(var c in i)i.hasOwnProperty(c)&&xn(a,c,i[c]);return new ve(function(e,n){Qs(t,a.toString(),function(t){t?t.error?n(Ya(t,o||{})):e(t):n(new _("network-request-failed"))},r,u?void 0:Jn(kr(i)),t.a,t.i.get())})}function na(t){if("string"!=typeof(t=t.email)||!cr.test(t))throw new _("invalid-email")}function ra(t){"email"in t&&na(t)}function ia(t){if(!t[zs]){if(t.mfaPendingCredential)throw new _("multi-factor-auth-required",null,ht(t));throw new _("internal-error")}}function oa(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new _("internal-error")}else{if(!t.sessionInfo)throw new _("missing-verification-id");if(!t.code)throw new _("missing-verification-code")}}Gs.prototype.s=function(t,n,r,i,o){var s=this;Ws.then(function(){window.gapi.client.setApiKey(s.c);var e=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:r,body:i,headers:o,authType:"none",callback:function(t){window.gapi.auth.setToken(e),n&&n(t)}})}).o(function(t){n&&n({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})})},Gs.prototype.vb=function(){return $a(this,La,{})},Gs.prototype.xb=function(t,e){return $a(this,ja,{idToken:t,email:e})},Gs.prototype.yb=function(t,e){return $a(this,Ca,{idToken:t,password:e})};var sa={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function aa(t){if(!t.phoneVerificationInfo)throw new _("internal-error");if(!t.phoneVerificationInfo.sessionInfo)throw new _("missing-verification-id");if(!t.phoneVerificationInfo.code)throw new _("missing-verification-code")}function ua(t){if(!t.requestUri||!t.sessionId&&!t.postBody&&!t.pendingToken)throw new _("internal-error")}function ca(t,e){return e.oauthIdToken&&e.providerId&&0==e.providerId.indexOf("oidc.")&&!e.pendingToken&&(t.sessionId?e.nonce=t.sessionId:t.postBody&&(Kn(t=new Gn(t.postBody),"nonce")&&(e.nonce=t.get("nonce")))),e}function ha(t){var e=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",e=Uo(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",e=Uo(t)):"EMAIL_EXISTS"==t.errorMessage?(t.code="email-already-in-use",e=Uo(t)):t.errorMessage&&(e=Xa(t.errorMessage)),e)throw e;ia(t)}function fa(t,e){return e.returnIdpCredential=!0,$a(t,Va,e)}function la(t,e){return e.returnIdpCredential=!0,$a(t,qa,e)}function pa(t,e){return e.returnIdpCredential=!0,e.autoCreate=!1,$a(t,Ua,e)}function da(t){if(!t.oobCode)throw new _("invalid-action-code")}(t=Gs.prototype).zb=function(t,r){var i={idToken:t},o=[];return ut(sa,function(t,e){var n=r[e];null===n?o.push(t):e in r&&(i[e]=n)}),o.length&&(i.deleteAttribute=o),$a(this,ja,i)},t.rb=function(t,e){return lt(t={requestType:"PASSWORD_RESET",email:t},e),$a(this,ka,t)},t.sb=function(t,e){return lt(t={requestType:"EMAIL_SIGNIN",email:t},e),$a(this,Oa,t)},t.qb=function(t,e){return lt(t={requestType:"VERIFY_EMAIL",idToken:t},e),$a(this,Na,t)},t.Ab=function(t,e,n){return lt(t={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:t,newEmail:e},n),$a(this,Aa,t)},t.cb=function(t){return $a(this,Wa,t)},t.jb=function(t,e){return $a(this,Ra,{oobCode:t,newPassword:e})},t.Pa=function(t){return $a(this,ya,{oobCode:t})},t.fb=function(t){return $a(this,va,{oobCode:t})};var va={endpoint:"setAccountInfo",A:da,Y:"email",C:!0},ya={endpoint:"resetPassword",A:da,G:function(t){var e=t.requestType;if(!e||!t.email&&"EMAIL_SIGNIN"!=e&&"VERIFY_AND_CHANGE_EMAIL"!=e)throw new _("internal-error")},C:!0},ga={endpoint:"signupNewUser",A:function(t){if(na(t),!t.password)throw new _("weak-password")},G:ia,U:!0,C:!0},ma={endpoint:"createAuthUri",C:!0},ba={endpoint:"deleteAccount",M:["idToken"]},wa={endpoint:"setAccountInfo",M:["idToken","deleteProvider"],A:function(t){if("array"!=n(t.deleteProvider))throw new _("internal-error")}},Ea={endpoint:"emailLinkSignin",M:["email","oobCode"],A:na,G:ia,U:!0,C:!0},_a={endpoint:"emailLinkSignin",M:["idToken","email","oobCode"],A:na,G:ia,U:!0},Ia={endpoint:"accounts/mfaEnrollment:finalize",M:["idToken","phoneVerificationInfo"],A:aa,G:ia,C:!0,La:!0},Ta={endpoint:"accounts/mfaSignIn:finalize",M:["mfaPendingCredential","phoneVerificationInfo"],A:aa,G:ia,C:!0,La:!0},Sa={endpoint:"getAccountInfo"},Oa={endpoint:"getOobConfirmationCode",M:["requestType"],A:function(t){if("EMAIL_SIGNIN"!=t.requestType)throw new _("internal-error");na(t)},Y:"email",C:!0},Na={endpoint:"getOobConfirmationCode",M:["idToken","requestType"],A:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new _("internal-error")},Y:"email",C:!0},Aa={endpoint:"getOobConfirmationCode",M:["idToken","newEmail","requestType"],A:function(t){if("VERIFY_AND_CHANGE_EMAIL"!=t.requestType)throw new _("internal-error")},Y:"email",C:!0},ka={endpoint:"getOobConfirmationCode",M:["requestType"],A:function(t){if("PASSWORD_RESET"!=t.requestType)throw new _("internal-error");na(t)},Y:"email",C:!0},Pa={hb:!0,endpoint:"getProjectConfig",Rb:"GET"},xa={hb:!0,endpoint:"getRecaptchaParam",Rb:"GET",G:function(t){if(!t.recaptchaSiteKey)throw new _("internal-error")}},Ra={endpoint:"resetPassword",A:da,Y:"email",C:!0},Da={endpoint:"sendVerificationCode",M:["phoneNumber","recaptchaToken"],Y:"sessionInfo",C:!0},ja={endpoint:"setAccountInfo",M:["idToken"],A:ra,U:!0},Ca={endpoint:"setAccountInfo",M:["idToken"],A:function(t){if(ra(t),!t.password)throw new _("weak-password")},G:ia,U:!0},La={endpoint:"signupNewUser",G:ia,U:!0,C:!0},Ma={endpoint:"accounts/mfaEnrollment:start",M:["idToken","phoneEnrollmentInfo"],A:function(t){if(!t.phoneEnrollmentInfo)throw new _("internal-error");if(!t.phoneEnrollmentInfo.phoneNumber)throw new _("missing-phone-number");if(!t.phoneEnrollmentInfo.recaptchaToken)throw new _("missing-app-credential")},G:function(t){if(!t.phoneSessionInfo||!t.phoneSessionInfo.sessionInfo)throw new _("internal-error")},C:!0,La:!0},Fa={endpoint:"accounts/mfaSignIn:start",M:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(t){if(!t.phoneSignInInfo||!t.phoneSignInInfo.recaptchaToken)throw new _("missing-app-credential")},G:function(t){if(!t.phoneResponseInfo||!t.phoneResponseInfo.sessionInfo)throw new _("internal-error")},C:!0,La:!0},Va={endpoint:"verifyAssertion",A:ua,Wa:ca,G:ha,U:!0,C:!0},Ua={endpoint:"verifyAssertion",A:ua,Wa:ca,G:function(t){if(t.errorMessage&&"USER_NOT_FOUND"==t.errorMessage)throw new _("user-not-found");if(t.errorMessage)throw Xa(t.errorMessage);ia(t)},U:!0,C:!0},qa={endpoint:"verifyAssertion",A:function(t){if(ua(t),!t.idToken)throw new _("internal-error")},Wa:ca,G:ha,U:!0},Ba={endpoint:"verifyCustomToken",A:function(t){if(!t.token)throw new _("invalid-custom-token")},G:ia,U:!0,C:!0},Ga={endpoint:"verifyPassword",A:function(t){if(na(t),!t.password)throw new _("wrong-password")},G:ia,U:!0,C:!0},Wa={endpoint:"verifyPhoneNumber",A:oa,G:ia,C:!0},za={endpoint:"verifyPhoneNumber",A:function(t){if(!t.idToken)throw new _("internal-error");oa(t)},G:function(t){if(t.temporaryProof)throw t.code="credential-already-in-use",Uo(t);ia(t)}},Ha={Eb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:oa,G:ia,C:!0},Ka={endpoint:"accounts/mfaEnrollment:withdraw",M:["idToken","mfaEnrollmentId"],G:function(t){if(!!t[zs]^!!t.refreshToken)throw new _("internal-error")},C:!0,La:!0};function $a(t,e,n){if(!function(t,e){if(!e||!e.length)return 1;if(t){for(var n=0;n<e.length;n++){var r=t[e[n]];if(null==r||""===r)return}return 1}}(n,e.M))return Ie(new _("internal-error"));var r,i=!!e.La,o=e.Rb||"POST";return _e(n).then(e.A).then(function(){return e.U&&(n.returnSecureToken=!0),e.C&&t.b&&void 0===n.tenantId&&(n.tenantId=t.b),ea(t,i?t.l:t.h,e.endpoint,o,n,e.Eb,e.hb||!1)}).then(function(t){return r=t,e.Wa?e.Wa(n,r):r}).then(e.G).then(function(){if(!e.Y)return r;if(!(e.Y in r))throw new _("internal-error");return r[e.Y]})}function Xa(t){return Ya({error:{errors:[{message:t}],code:400,message:t}})}function Ya(t,e){var n=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new _(r[n]):null)return n;for(var i in n=t.error&&t.error.message||"",lt(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},e||{}),e=(e=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<e.length?e[1]:void 0,r)if(0===n.indexOf(i))return new _(r[i],e);return!e&&t&&(e=Ar(t)),new _("internal-error",e)}function Ja(t){var o;this.b=t,this.a=null,this.nb=(o=this,(eu=eu||new ve(function(t,e){function n(){Dr(),_r("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){Dr(),e(Error("Network Error"))},timeout:Za.get()})}var r;_r("gapi.iframes.Iframe")?t():_r("gapi.load")?n():(r="__iframefcb"+Math.floor(1e6*Math.random()).toString(),p[r]=function(){_r("gapi.load")?n():e(Error("Network Error"))},_e(Ls(r=Et(Qa,{onload:r}))).o(function(){e(Error("Network Error"))}))}).o(function(t){throw eu=null,t})).then(function(){return new ve(function(r,i){_r("gapi.iframes.getContext")().open({where:document.body,url:o.b,messageHandlersFilter:_r("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(t){function e(){clearTimeout(n),r()}o.a=t,o.a.restyle({setHideOnLeave:!1});var n=setTimeout(function(){i(Error("Network Error"))},tu.get());t.ping(e).then(e,function(){i(Error("Network Error"))})})})}))}var Qa=new dt(gt,"https://apis.google.com/js/api.js?onload=%{onload}"),Za=new jr(3e4,6e4),tu=new jr(5e3,15e3),eu=null;function nu(t,e,n){this.i=t,this.g=e,this.h=n,this.f=null,this.a=jn(this.i,"/__/auth/iframe"),xn(this.a,"apiKey",this.g),xn(this.a,"appName",this.h),this.b=null,this.c=[]}function ru(t,e,n,r,i){this.s=t,this.m=e,this.c=n,this.u=r,this.i=this.g=this.l=null,this.a=i,this.h=this.f=null}function iu(t){try{return Xf.a.app(t).auth().Ea()}catch(t){return[]}}function ou(t,e,n,r,i){this.u=t,this.f=e,this.b=n,this.c=r||null,this.h=i||null,this.m=this.s=this.w=null,this.g=[],this.l=this.a=null}function su(t){var a=rr();return $a(t,Pa,{}).then(function(t){return t.authorizedDomains||[]}).then(function(t){t:{for(var e=(n=Dn(a)).f,n=n.b,r=0;r<t.length;r++){var i=t[r],o=n,s=e;if(o=0==i.indexOf("chrome-extension://")?Dn(i).b==o&&"chrome-extension"==s:("http"==s||"https"==s)&&(ur.test(i)?o==i:(i=i.split(".").join("\\."),new RegExp("^(.+\\."+i+"|"+i+")$","i").test(o)))){t=!0;break t}}t=!1}if(!t)throw new Fo(rr())})}function au(i){return i.l||(i.l=hr().then(function(){var t,e,n,r;i.s||(t=i.c,e=i.h,n=iu(i.b),(r=new nu(i.u,i.f,i.b)).f=t,r.b=e,r.c=K(n||[]),i.s=r.toString()),i.i=new Ja(i.s),function(r){if(!r.i)throw Error("IfcHandler must be initialized!");!function(t,e){t.nb.then(function(){t.a.register("authEvent",e,_r("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}(r.i,function(t){var e={};if(t&&t.authEvent){var n=!1;for(t=jo(t.authEvent),e=0;e<r.g.length;e++)n=r.g[e](t)||n;return(e={}).status=n?"ACK":"ERROR",_e(e)}return e.status="ERROR",_e(e)})}(i)})),i.l}function uu(t){return t.m||(t.w=t.c?wr(t.c,iu(t.b)):null,t.m=new Gs(t.f,A(t.h),t.w)),t.m}function cu(t,e,n,r,i,o,s,a,u,c,h){return(t=new ru(t,e,n,r,i)).l=o,t.g=s,t.i=a,t.b=ht(u||null),t.f=c,t.ub(h).toString()}function hu(t){if(this.a=t||Xf.a.INTERNAL.reactNative&&Xf.a.INTERNAL.reactNative.AsyncStorage,!this.a)throw new _("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function fu(t){this.b=t,this.a={},this.f=m(this.c,this)}nu.prototype.toString=function(){return this.f?xn(this.a,"v",this.f):Hn(this.a.a,"v"),this.b?xn(this.a,"eid",this.b):Hn(this.a.a,"eid"),this.c.length?xn(this.a,"fw",this.c.join(",")):Hn(this.a.a,"fw"),this.a.toString()},ru.prototype.ub=function(t){return this.h=t,this},ru.prototype.toString=function(){var t=jn(this.s,"/__/auth/handler");if(xn(t,"apiKey",this.m),xn(t,"appName",this.c),xn(t,"authType",this.u),this.a.isOAuthProvider){var e=this.a;try{var n=Xf.a.app(this.c).auth().ja()}catch(t){n=null}for(var r in e.kb=n,xn(t,"providerId",this.a.providerId),n=kr((e=this.a).Fb))n[r]=n[r].toString();r=e.Oc,n=ht(n);for(var i=0;i<r.length;i++){var o=r[i];o in n&&delete n[o]}e.lb&&e.kb&&!n[e.lb]&&(n[e.lb]=e.kb),ct(n)||xn(t,"customParameters",Ar(n))}if("function"==typeof this.a.Nb&&((e=this.a.Nb()).length&&xn(t,"scopes",e.join(","))),this.l?xn(t,"redirectUrl",this.l):Hn(t.a,"redirectUrl"),this.g?xn(t,"eventId",this.g):Hn(t.a,"eventId"),this.i?xn(t,"v",this.i):Hn(t.a,"v"),this.b)for(var s in this.b)this.b.hasOwnProperty(s)&&!Rn(t,s)&&xn(t,s,this.b[s]);return this.h?xn(t,"tid",this.h):Hn(t.a,"tid"),this.f?xn(t,"eid",this.f):Hn(t.a,"eid"),(s=iu(this.c)).length&&xn(t,"fw",s.join(",")),t.toString()},(t=ou.prototype).Lb=function(e,n,t){var r=new _("popup-closed-by-user"),i=new _("web-storage-unsupported"),o=this,s=!1;return this.ka().then(function(){var t,r;r={type:"webStorageSupport"},au(t=o).then(function(){return e=t.i,n=r,e.nb.then(function(){return new ve(function(t){e.a.send(n.type,n,t,_r("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})});var e,n}).then(function(t){if(t&&t.length&&void 0!==t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()}).then(function(t){t||(e&&sr(e),n(i),s=!0)})}).o(function(){}).then(function(){if(!s)return n=e,new ve(function(e){return function t(){wn(2e3).then(function(){return n&&!n.closed?t():void e()})}()});var n}).then(function(){if(!s)return wn(t).then(function(){n(r)})})},t.Ub=function(){var t=Er();return!Nr(t)&&!Rr(t)},t.Qb=function(){return!1},t.Jb=function(e,t,n,r,i,o,s,a){if(!e)return Ie(new _("popup-blocked"));if(s&&!Nr())return this.ka().o(function(t){sr(e),i(t)}),r(),_e();this.a||(this.a=su(uu(this)));var u=this;return this.a.then(function(){var t=u.ka().o(function(t){throw sr(e),i(t),t});return r(),t}).then(function(){Ro(n),s||ir(cu(u.u,u.f,u.b,t,n,null,o,u.c,void 0,u.h,a),e)}).o(function(t){throw"auth/network-request-failed"==t.code&&(u.a=null),t})},t.Kb=function(t,e,n,r){this.a||(this.a=su(uu(this)));var i=this;return this.a.then(function(){Ro(e),ir(cu(i.u,i.f,i.b,t,e,rr(),n,i.c,void 0,i.h,r))}).o(function(t){throw"auth/network-request-failed"==t.code&&(i.a=null),t})},t.ka=function(){var t=this;return au(this).then(function(){return t.i.nb}).o(function(){throw t.a=null,new _("network-request-failed")})},t.Xb=function(){return!0},t.Ca=function(t){this.g.push(t)},t.Qa=function(e){z(this.g,function(t){return t==e})},(t=hu.prototype).get=function(t){return _e(this.a.getItem(t)).then(function(t){return t&&Pr(t)})},t.set=function(t,e){return _e(this.a.setItem(t,Ar(e)))},t.T=function(t){return _e(this.a.removeItem(t))},t.ba=function(){},t.ha=function(){};var lu,pu=[];function du(t,e,n){ct(t.a)&&t.b.addEventListener("message",t.f),void 0===t.a[e]&&(t.a[e]=[]),t.a[e].push(n)}function vu(t){this.a=t}function yu(t){this.c=t,this.b=!1,this.a=[]}function gu(r,t,e,n){var i,o,s,a,u=e||{},c=null;if(r.b)return Ie(Error("connection_unavailable"));var h=n?800:50,f="undefined"!=typeof MessageChannel?new MessageChannel:null;return new ve(function(e,n){f?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),f.port1.start(),s=setTimeout(function(){n(Error("unsupported_event"))},h),c={messageChannel:f,onMessage:o=function(t){t.data.eventId===i&&("ack"===t.data.status?(clearTimeout(s),a=setTimeout(function(){n(Error("timeout"))},3e3)):"done"===t.data.status?(clearTimeout(a),void 0!==t.data.response?e(t.data.response):n(Error("unknown_error"))):(clearTimeout(s),clearTimeout(a),n(Error("invalid_response"))))}},r.a.push(c),f.port1.addEventListener("message",o),r.c.postMessage({eventType:t,eventId:i,data:u},[f.port2])):n(Error("connection_unavailable"))}).then(function(t){return mu(r,c),t}).o(function(t){throw mu(r,c),t})}function mu(t,e){var n,r;e&&(n=e.messageChannel,r=e.onMessage,n&&(n.port1.removeEventListener("message",r),n.port1.close()),z(t.a,function(t){return t==e}))}function bu(){if(!_u())throw new _("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.u=p.indexedDB,this.type="indexedDB",this.g=this.l=this.f=this.i=null,this.s=!1,this.h=null;var t,e,n,r=this;pr()&&self?(this.l=(n=pr()?self:null,V(pu,function(t){t.b==n&&(e=t)}),e||(e=new fu(n),pu.push(e)),e),du(this.l,"keyChanged",function(t,n){return Nu(r).then(function(e){return 0<e.length&&V(r.a,function(t){t(e)}),{keyProcessed:G(e,n.key)}})}),du(this.l,"ping",function(){return _e(["keyChanged"])})):((t=p.navigator)&&t.serviceWorker?_e().then(function(){return t.serviceWorker.ready}).then(function(t){return t.active||null}).o(function(){return null}):_e(null)).then(function(t){(r.h=t)&&(r.g=new yu(new vu(t)),gu(r.g,"ping",null,!0).then(function(t){t[0].fulfilled&&G(t[0].value,"keyChanged")&&(r.s=!0)}).o(function(){}))})}function wu(i){return new ve(function(e,n){var t=i.u.open("firebaseLocalStorageDb",1);t.onerror=function(t){try{t.preventDefault()}catch(t){}n(Error(t.target.error))},t.onupgradeneeded=function(t){t=t.target.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(t){n(t)}},t.onsuccess=function(t){var r;(t=t.target.result).objectStoreNames.contains("firebaseLocalStorage")?e(t):(r=i,new ve(function(t,e){var n=r.u.deleteDatabase("firebaseLocalStorageDb");n.onsuccess=function(){t()},n.onerror=function(t){e(Error(t.target.error))}}).then(function(){return wu(i)}).then(function(t){e(t)}).o(function(t){n(t)}))}})}function Eu(t){return t.m||(t.m=wu(t)),t.m}function _u(){try{return p.indexedDB}catch(t){return}}function Iu(t){return t.objectStore("firebaseLocalStorage")}function Tu(t,e){return t.transaction(["firebaseLocalStorage"],e?"readwrite":"readonly")}function Su(t){return new ve(function(e,n){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()},t.onerror=function(t){n(t.target.error)}})}function Ou(t,e){return t.g&&t.h&&((n=p.navigator)&&n.serviceWorker&&n.serviceWorker.controller||null)===t.h?gu(t.g,"keyChanged",{key:e},t.s).then(function(){}).o(function(){}):_e();var n}function Nu(r){return Eu(r).then(function(t){var i=Iu(Tu(t,!1));return i.getAll?Su(i.getAll()):new ve(function(e,n){var r=[],t=i.openCursor();t.onsuccess=function(t){(t=t.target.result)?(r.push(t.value),t.continue()):e(r)},t.onerror=function(t){n(t.target.error)}})}).then(function(t){var e={},n=[];if(0==r.b){for(n=0;n<t.length;n++)e[t[n].fbase_key]=t[n].value;n=function t(e,n){var r,i=[];for(r in e)r in n&&typeof e[r]==typeof n[r]?"object"==typeof e[r]&&null!=e[r]&&null!=n[r]?0<t(e[r],n[r]).length&&i.push(r):e[r]!==n[r]&&i.push(r):i.push(r);for(r in n)r in e||i.push(r);return i}(r.c,e),r.c=e}return n})}function Au(t){t.i&&t.i.cancel("STOP_EVENT"),t.f&&(clearTimeout(t.f),t.f=null)}function ku(t){var r=this,i=null;this.a=[],this.type="indexedDB",this.c=t,this.b=_e().then(function(){if(_u()){var e=xr(),n="__sak"+e;return lu=lu||new bu,(i=lu).set(n,e).then(function(){return i.get(n)}).then(function(t){if(t!==e)throw Error("indexedDB not supported!");return i.T(n)}).then(function(){return i}).o(function(){return r.c})}return r.c}).then(function(t){return r.type=t.type,t.ba(function(e){V(r.a,function(t){t(e)})}),t})}function Pu(){this.a={},this.type="inMemory"}function xu(){if(!function(){var t="Node"==dr();if(!(t=Ru()||t&&Xf.a.INTERNAL.node&&Xf.a.INTERNAL.node.localStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==dr())throw new _("internal-error","The LocalStorage compatibility library was not found.");throw new _("web-storage-unsupported")}this.a=Ru()||Xf.a.INTERNAL.node.localStorage,this.type="localStorage"}function Ru(){try{var t=p.localStorage,e=xr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(t){return null}}function Du(){this.type="nullStorage"}function ju(){if(!function(){var t="Node"==dr();if(!(t=Cu()||t&&Xf.a.INTERNAL.node&&Xf.a.INTERNAL.node.sessionStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==dr())throw new _("internal-error","The SessionStorage compatibility library was not found.");throw new _("web-storage-unsupported")}this.a=Cu()||Xf.a.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Cu(){try{var t=p.sessionStorage,e=xr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(t){return null}}function Lu(){var t={};t.Browser=Vu,t.Node=Uu,t.ReactNative=qu,t.Worker=Bu,this.a=t[dr()]}fu.prototype.c=function(n){var e,r=n.data.eventType,i=n.data.eventId,t=this.a[r];t&&0<t.length&&(n.ports[0].postMessage({status:"ack",eventId:i,eventType:r,response:null}),e=[],V(t,function(t){e.push(_e().then(function(){return t(n.origin,n.data.data)}))}),Se(e).then(function(t){var e=[];V(t,function(t){e.push({fulfilled:t.Mb,value:t.value,reason:t.reason?t.reason.message:void 0})}),V(e,function(t){for(var e in t)void 0===t[e]&&delete t[e]}),n.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:e})}))},vu.prototype.postMessage=function(t,e){this.a.postMessage(t,e)},yu.prototype.close=function(){for(;0<this.a.length;)mu(this,this.a[0]);this.b=!0},(t=bu.prototype).set=function(n,r){var i,o=!1,s=this;return Eu(this).then(function(t){return Su((t=Iu(Tu(i=t,!0))).get(n))}).then(function(t){var e=Iu(Tu(i,!0));return t?(t.value=r,Su(e.put(t))):(s.b++,o=!0,(t={}).fbase_key=n,t.value=r,Su(e.add(t)))}).then(function(){return s.c[n]=r,Ou(s,n)}).ma(function(){o&&s.b--})},t.get=function(e){return Eu(this).then(function(t){return Su(Iu(Tu(t,!1)).get(e))}).then(function(t){return t&&t.value})},t.T=function(e){var n=!1,r=this;return Eu(this).then(function(t){return n=!0,r.b++,Su(Iu(Tu(t,!0)).delete(e))}).then(function(){return delete r.c[e],Ou(r,e)}).ma(function(){n&&r.b--})},t.ba=function(t){var n;0==this.a.length&&(Au(n=this),function e(){n.f=setTimeout(function(){n.i=Nu(n).then(function(e){0<e.length&&V(n.a,function(t){t(e)})}).then(function(){e()}).o(function(t){"STOP_EVENT"!=t.message&&e()})},800)}()),this.a.push(t)},t.ha=function(e){z(this.a,function(t){return t==e}),0==this.a.length&&Au(this)},(t=ku.prototype).get=function(e){return this.b.then(function(t){return t.get(e)})},t.set=function(e,n){return this.b.then(function(t){return t.set(e,n)})},t.T=function(e){return this.b.then(function(t){return t.T(e)})},t.ba=function(t){this.a.push(t)},t.ha=function(e){z(this.a,function(t){return t==e})},(t=Pu.prototype).get=function(t){return _e(this.a[t])},t.set=function(t,e){return this.a[t]=e,_e()},t.T=function(t){return delete this.a[t],_e()},t.ba=function(){},t.ha=function(){},(t=xu.prototype).get=function(t){var e=this;return _e().then(function(){return Pr(e.a.getItem(t))})},t.set=function(e,n){var r=this;return _e().then(function(){var t=Ar(n);null===t?r.T(e):r.a.setItem(e,t)})},t.T=function(t){var e=this;return _e().then(function(){e.a.removeItem(t)})},t.ba=function(t){p.window&&nn(p.window,"storage",t)},t.ha=function(t){p.window&&sn(p.window,"storage",t)},(t=Du.prototype).get=function(){return _e(null)},t.set=function(){return _e()},t.T=function(){return _e()},t.ba=function(){},t.ha=function(){},(t=ju.prototype).get=function(t){var e=this;return _e().then(function(){return Pr(e.a.getItem(t))})},t.set=function(e,n){var r=this;return _e().then(function(){var t=Ar(n);null===t?r.T(e):r.a.setItem(e,t)})},t.T=function(t){var e=this;return _e().then(function(){e.a.removeItem(t)})},t.ba=function(){},t.ha=function(){};var Mu,Fu,Vu={F:xu,$a:ju},Uu={F:xu,$a:ju},qu={F:hu,$a:Du},Bu={F:xu,$a:Du},Gu={od:"local",NONE:"none",qd:"session"};function Wu(){var t=!(Rr(Er())||!lr()),e=Nr(),n=Ir();this.m=t,this.h=e,this.l=n,this.a={},t=Mu=Mu||new Lu;try{this.g=!nr()&&Mr()||!p.indexedDB?new t.a.F:new ku(pr()?new Pu:new t.a.F)}catch(t){this.g=new Pu,this.h=!0}try{this.i=new t.a.$a}catch(t){this.i=new Pu}this.u=new Pu,this.f=m(this.Vb,this),this.b={}}function zu(){return Fu=Fu||new Wu}function Hu(t,e){switch(e){case"session":return t.i;case"none":return t.u;default:return t.g}}function Ku(t,e){return"firebase:"+t.name+(e?":"+e:"")}function $u(t,e,n){return n=Ku(e,n),"local"==e.F&&(t.b[n]=null),Hu(t,e.F).T(n)}function Xu(t){t.c&&(clearInterval(t.c),t.c=null)}function Yu(t){this.a=t,this.b=zu()}(t=Wu.prototype).get=function(t,e){return Hu(this,t.F).get(Ku(t,e))},t.set=function(e,t,n){var r=Ku(e,n),i=this,o=Hu(this,e.F);return o.set(r,t).then(function(){return o.get(r)}).then(function(t){"local"==e.F&&(i.b[r]=t)})},t.addListener=function(t,e,n){var r;t=Ku(t,e),this.l&&(this.b[t]=p.localStorage.getItem(t)),ct(this.a)&&(Hu(this,"local").ba(this.f),this.h||(nr()||!Mr())&&p.indexedDB||!this.l||(Xu(r=this),r.c=setInterval(function(){for(var t in r.a){var e=p.localStorage.getItem(t),n=r.b[t];e!=n&&(r.b[t]=e,e=new ze({type:"storage",key:t,target:window,oldValue:n,newValue:e,a:!0}),r.Vb(e))}},1e3))),this.a[t]||(this.a[t]=[]),this.a[t].push(n)},t.removeListener=function(t,e,n){t=Ku(t,e),this.a[t]&&(z(this.a[t],function(t){return t==n}),0==this.a[t].length&&delete this.a[t]),ct(this.a)&&(Hu(this,"local").ha(this.f),Xu(this))},t.Vb=function(t){if(t&&t.f){var e=t.a.key;if(null==e)for(var n in this.a){var r=this.b[n];void 0===r&&(r=null);var i=p.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.ib(n))}else if(0==e.indexOf("firebase:")&&this.a[e]){if(void 0!==t.a.a?Hu(this,"local").ha(this.f):Xu(this),this.m)if(n=p.localStorage.getItem(e),(r=t.a.newValue)!==n)null!==r?p.localStorage.setItem(e,r):p.localStorage.removeItem(e);else if(this.b[e]===r&&void 0===t.a.a)return;var o=this,n=function(){void 0===t.a.a&&o.b[e]===p.localStorage.getItem(e)||(o.b[e]=p.localStorage.getItem(e),o.ib(e))};Gt&&Qt&&10==Qt&&p.localStorage.getItem(e)!==t.a.newValue&&t.a.newValue!==t.a.oldValue?setTimeout(n,10):n()}}else V(t,m(this.ib,this))},t.ib=function(t){this.a[t]&&V(this.a[t],function(t){t()})};var Ju,Qu={name:"authEvent",F:"local"};function Zu(){this.a=zu()}function tc(t,e){this.b=ec,this.f=p.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=t,this.h=e,this.l=p.Int32Array?new Int32Array(64):Array(64),void 0===Ju&&(Ju=p.Int32Array?new Int32Array(uc):uc),this.reset()}E(tc,function(){this.b=-1});for(var ec=64,nc=ec-1,rc=[],ic=0;ic<nc;ic++)rc[ic]=0;var oc=H(128,rc);function sc(t){for(var e=t.f,n=t.l,r=0,i=0;i<e.length;)n[r++]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i=4*r;for(e=16;e<64;e++){i=0|n[e-15],r=0|n[e-2];var o=(0|n[e-16])+((i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,s=(0|n[e-7])+((r>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[e]=o+s|0}r=0|t.a[0],i=0|t.a[1];var a=0|t.a[2],u=0|t.a[3],c=0|t.a[4],h=0|t.a[5],f=0|t.a[6];for(o=0|t.a[7],e=0;e<64;e++){var l=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&a^i&a)|0;s=(o=o+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0)+((s=(s=c&h^~c&f)+(0|Ju[e])|0)+(0|n[e])|0)|0,o=f,f=h,h=c,c=u+s|0,u=a,a=i,i=r,r=s+l|0}t.a[0]=t.a[0]+r|0,t.a[1]=t.a[1]+i|0,t.a[2]=t.a[2]+a|0,t.a[3]=t.a[3]+u|0,t.a[4]=t.a[4]+c|0,t.a[5]=t.a[5]+h|0,t.a[6]=t.a[6]+f|0,t.a[7]=t.a[7]+o|0}function ac(t,e,n){void 0===n&&(n=e.length);var r=0,i=t.c;if("string"==typeof e)for(;r<n;)t.f[i++]=e.charCodeAt(r++),i==t.b&&(sc(t),i=0);else{if(!f(e))throw Error("message must be string or array");for(;r<n;){var o=e[r++];if(!("number"==typeof o&&0<=o&&o<=255&&o==(0|o)))throw Error("message must be a byte array");t.f[i++]=o,i==t.b&&(sc(t),i=0)}}t.c=i,t.g+=n}tc.prototype.reset=function(){this.g=this.c=0,this.a=p.Int32Array?new Int32Array(this.h):K(this.h)};var uc=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function cc(){tc.call(this,8,hc)}E(cc,tc);var hc=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function fc(t,e,n,r,i){this.u=t,this.i=e,this.l=n,this.m=r||null,this.s=i||null,this.h=e+":"+n,this.w=new Zu,this.g=new Yu(this.h),this.f=null,this.b=[],this.a=this.c=null}function lc(t){return new _("invalid-cordova-configuration",t)}function pc(t){var e=new cc;ac(e,t),t=[];var n=8*e.g;e.c<56?ac(e,oc,56-e.c):ac(e,oc,e.b-(e.c-56));for(var r=63;56<=r;r--)e.f[r]=255&n,n/=256;for(sc(e),r=n=0;r<e.i;r++)for(var i=24;0<=i;i-=8)t[n++]=e.a[r]>>i&255;return q(t,function(t){return 1<(t=t.toString(16)).length?t:"0"+t}).join("")}function dc(t,e){for(var n=0;n<t.b.length;n++)try{t.b[n](e)}catch(t){}}function vc(a){return a.f||(a.f=a.ka().then(function(){return new ve(function(n){function e(r){t=!0,s&&s.cancel(),yc(i).then(function(t){var e,n=o;t&&r&&r.url&&(e=null,-1!=(n=Ji(r.url)).indexOf("/__/auth/callback")&&(e=(e="object"==typeof(e=Pr(Rn(e=Dn(n),"firebaseError")||null))?I(e):null)?new Do(t.c,t.b,null,null,e,null,t.S()):new Do(t.c,t.b,n,t.f,null,null,t.S())),n=e||o),dc(i,n)})}var i,o,t,s,r;a.Ca(function t(e){return n(e),a.Qa(t),!1}),i=a,o=new Do("unknown",null,null,null,new _("no-auth-event")),t=!1,s=wn(500).then(function(){return yc(i).then(function(){t||dc(i,o)})}),r=p.handleOpenURL,p.handleOpenURL=function(t){if(0==t.toLowerCase().indexOf(_r("BuildInfo.packageName",p).toLowerCase()+"://")&&e({url:t}),"function"==typeof r)try{r(t)}catch(t){console.error(t)}},Mo=Mo||new Co,function(t){var n=Mo;n.a.push(t),n.b||(n.b=function(t){for(var e=0;e<n.a.length;e++)n.a[e](t)},"function"==typeof(t=_r("universalLinks.subscribe",p))&&t(null,n.b))}(e)})})),a.f}function yc(e){var t,n=null;return(t=e.g).b.get(Qu,t.a).then(jo).then(function(t){return n=t,$u((t=e.g).b,Qu,t.a)}).then(function(){return n})}function gc(t){this.a=t,this.b=zu()}(t=fc.prototype).ka=function(){return this.Ga?this.Ga:this.Ga=(fr(void 0)?hr().then(function(){return new ve(function(t,e){var n=p.document,r=setTimeout(function(){e(Error("Cordova framework is not ready."))},1e3);n.addEventListener("deviceready",function(){clearTimeout(r),t()},!1)})}):Ie(Error("Cordova must run in an Android or iOS file scheme."))).then(function(){if("function"!=typeof _r("universalLinks.subscribe",p))throw lc("cordova-universal-links-plugin-fix is not installed");if(void 0===_r("BuildInfo.packageName",p))throw lc("cordova-plugin-buildinfo is not installed");if("function"!=typeof _r("cordova.plugins.browsertab.openUrl",p))throw lc("cordova-plugin-browsertab is not installed");if("function"!=typeof _r("cordova.InAppBrowser.open",p))throw lc("cordova-plugin-inappbrowser is not installed")},function(){throw new _("cordova-not-ready")})},t.Lb=function(t,e){return e(new _("operation-not-supported-in-this-environment")),_e()},t.Jb=function(){return Ie(new _("operation-not-supported-in-this-environment"))},t.Xb=function(){return!1},t.Ub=function(){return!0},t.Qb=function(){return!0},t.Kb=function(t,e,n,r){if(this.c)return Ie(new _("redirect-operation-pending"));var i=this,o=p.document,s=null,a=null,u=null,c=null;return this.c=_e().then(function(){return Ro(e),vc(i)}).then(function(){return function(n,t,e,r,i){var o=function(){for(var t=20,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}(),s=new Do(t,r,null,o,new _("no-auth-event"),null,i),a=_r("BuildInfo.packageName",p);if("string"!=typeof a)throw new _("invalid-cordova-configuration");var u=_r("BuildInfo.displayName",p),c={};if(Er().toLowerCase().match(/iphone|ipad|ipod/))c.ibi=a;else{if(!Er().toLowerCase().match(/android/))return Ie(new _("operation-not-supported-in-this-environment"));c.apn=a}u&&(c.appDisplayName=u),o=pc(o),c.sessionId=o;var h=cu(n.u,n.i,n.l,t,e,null,r,n.m,c,n.s,i);return n.ka().then(function(){var t=n.h;return n.w.a.set(Qu,s.v(),t)}).then(function(){var t=_r("cordova.plugins.browsertab.isAvailable",p);if("function"!=typeof t)throw new _("invalid-cordova-configuration");var e=null;t(function(t){if(t){if("function"!=typeof(e=_r("cordova.plugins.browsertab.openUrl",p)))throw new _("invalid-cordova-configuration");e(h)}else{if("function"!=typeof(e=_r("cordova.InAppBrowser.open",p)))throw new _("invalid-cordova-configuration");t=Er(),n.a=e(h,t.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||t.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}})})}(i,t,e,n,r)}).then(function(){return new ve(function(e,t){a=function(){var t=_r("cordova.plugins.browsertab.close",p);return e(),"function"==typeof t&&t(),i.a&&"function"==typeof i.a.close&&(i.a.close(),i.a=null),!1},i.Ca(a),u=function(){s=s||wn(2e3).then(function(){t(new _("redirect-cancelled-by-user"))})},c=function(){Cr()&&u()},o.addEventListener("resume",u,!1),Er().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",c,!1)}).o(function(t){return yc(i).then(function(){throw t})})}).ma(function(){u&&o.removeEventListener("resume",u,!1),c&&o.removeEventListener("visibilitychange",c,!1),s&&s.cancel(),a&&i.Qa(a),i.c=null})},t.Ca=function(e){this.b.push(e),vc(this).o(function(t){"auth/invalid-cordova-configuration"===t.code&&(t=new Do("unknown",null,null,null,new _("no-auth-event")),e(t))})},t.Qa=function(e){z(this.b,function(t){return t==e})};var mc={name:"pendingRedirect",F:"session"};function bc(t){return $u(t.b,mc,t.a)}function wc(t,e,n){this.i={},this.w=0,this.D=t,this.u=e,this.m=n,this.h=[],this.f=!1,this.l=m(this.s,this),this.b=new jc,this.B=new Vc,this.g=new gc(this.u+":"+this.m),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.B,this.c.linkViaPopup=this.B,this.c.reauthViaPopup=this.B,this.a=Ec(this.D,this.u,this.m,T)}function Ec(t,e,n,r){var i=Xf.a.SDK_VERSION||null;return new(fr()?fc:ou)(t,e,n,i,r)}function _c(e){e.f||(e.f=!0,e.a.Ca(e.l));var n=e.a;return e.a.ka().o(function(t){throw e.a==n&&e.reset(),t})}function Ic(n){n.a.Ub()&&_c(n).o(function(t){var e=new Do("unknown",null,null,null,new _("operation-not-supported-in-this-environment"));kc(t)&&n.s(e)}),n.a.Qb()||Cc(n.b)}function Tc(n,t){var e;G(n.h,t)||n.h.push(t),n.f||(e=n.g).b.get(mc,e.a).then(function(t){return"pending"==t}).then(function(t){t?bc(n.g).then(function(){_c(n).o(function(t){var e=new Do("unknown",null,null,null,new _("operation-not-supported-in-this-environment"));kc(t)&&n.s(e)})}):Ic(n)}).o(function(){Ic(n)})}function Sc(t,e){z(t.h,function(t){return t==e})}wc.prototype.reset=function(){this.f=!1,this.a.Qa(this.l),this.a=Ec(this.D,this.u,this.m),this.i={}},wc.prototype.s=function(t){if(!t)throw new _("invalid-auth-event");if(6e5<=w()-this.w&&(this.i={},this.w=0),t&&t.getUid()&&this.i.hasOwnProperty(t.getUid()))return!1;for(var e=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.Cb(t.c,t.b)){(e=this.c[t.c])&&(e.h(t,r),t&&(t.f||t.b)&&(this.i[t.getUid()]=!0,this.w=w())),e=!0;break}}return Cc(this.b),e};var Oc=new jr(2e3,1e4),Nc=new jr(3e4,6e4);function Ac(t,e,n,r,i,o,s){return t.a.Jb(e,n,r,function(){t.f||(t.f=!0,t.a.Ca(t.l))},function(){t.reset()},i,o,s)}function kc(t){return!(!t||"auth/cordova-not-ready"!=t.code)}function Pc(e,t,n,r,i){var o,s;return(s=e.g).b.set(mc,"pending",s.a).then(function(){return e.a.Kb(t,n,r,i).o(function(t){if(kc(t))throw new _("operation-not-supported-in-this-environment");return o=t,bc(e.g).then(function(){throw o})}).then(function(){return e.a.Xb()?new ve(function(){}):bc(e.g).then(function(){return e.pa()}).then(function(){}).o(function(){})})})}function xc(t,e,n,r,i){return t.a.Lb(r,function(t){e.la(n,null,t,i)},Oc.get())}wc.prototype.pa=function(){return this.b.pa()};var Rc={};function Dc(t,e,n){var r=e+":"+n;return Rc[r]||(Rc[r]=new wc(t,e,n)),Rc[r]}function jc(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function Cc(t){t.g||(t.g=!0,Fc(t,!1,null,null))}function Lc(t){t.g&&!t.i&&Fc(t,!1,null,null)}function Mc(t,e){if(t.b=function(){return _e(e)},t.f.length)for(var n=0;n<t.f.length;n++)t.f[n](e)}function Fc(t,e,n,r){e?r?function(t,e){if(t.b=function(){return Ie(e)},t.c.length)for(var n=0;n<t.c.length;n++)t.c[n](e)}(t,r):Mc(t,n):Mc(t,{user:null}),t.f=[],t.c=[]}function Vc(){}function Uc(){this.Bb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.Bb},set:function(t){this.Bb=t},enumerable:!1})}function qc(t,e){this.a=e,Br(this,"verificationId",t)}function Bc(t,e,n,r){return new ko(t).cb(e,n).then(function(t){return new qc(t,r)})}function Gc(t){var e=Mi(t);if(!(e&&e.exp&&e.auth_time&&e.iat))throw new _("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Gr(this,{token:t,expirationTime:Lr(1e3*e.exp),authTime:Lr(1e3*e.auth_time),issuedAtTime:Lr(1e3*e.iat),signInProvider:e.firebase&&e.firebase.sign_in_provider?e.firebase.sign_in_provider:null,signInSecondFactor:e.firebase&&e.firebase.sign_in_second_factor?e.firebase.sign_in_second_factor:null,claims:e})}function Wc(t,e,n){var r=e&&e[Hc];if(!r)throw new _("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=t,this.f=ht(e),this.g=n,this.c=new Qi(null,r),this.b=[];var i=this;V(e[zc]||[],function(t){(t=Kr(t))&&i.b.push(t)}),Br(this,"auth",this.a),Br(this,"session",this.c),Br(this,"hints",this.b)}jc.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},jc.prototype.h=function(t,e){var n,r,i,o;t?(this.reset(),this.g=!0,n=t.c,r=t.b,i=t.a&&"auth/web-storage-unsupported"==t.a.code,o=t.a&&"auth/operation-not-supported-in-this-environment"==t.a.code,this.i=!(!i&&!o),"unknown"!=n||i||o?t.a?(Fc(this,!0,null,t.a),_e()):e.Da(n,r)?function(e,t,n){n=n.Da(t.c,t.b);var r=t.g,i=t.f,o=t.i,s=t.S(),a=!!t.c.match(/Redirect$/);n(r,i,s,o).then(function(t){Fc(e,a,t,null)}).o(function(t){Fc(e,a,null,t)})}(this,t,e):Ie(new _("invalid-auth-event")):(Fc(this,!1,null,null),_e())):Ie(new _("invalid-auth-event"))},jc.prototype.pa=function(){var i=this;return new ve(function(t,e){var n,r;i.b?i.b().then(t,e):(i.f.push(t),i.c.push(e),n=i,r=new _("timeout"),n.a&&n.a.cancel(),n.a=wn(Nc.get()).then(function(){n.b||(n.g=!0,Fc(n,!0,null,r))}))})},Vc.prototype.h=function(t,e){var n,r,i,o,s,a;t?(n=t.c,r=t.b,t.a?(e.la(t.c,null,t.a,t.b),_e()):e.Da(n,r)?(o=e,s=(i=t).b,a=i.c,o.Da(a,s)(i.g,i.f,i.S(),i.i).then(function(t){o.la(a,t,null,s)}).o(function(t){o.la(a,null,t,s)})):Ie(new _("invalid-auth-event"))):Ie(new _("invalid-auth-event"))},qc.prototype.confirm=function(t){return t=Po(this.verificationId,t),this.a(t)};var zc="mfaInfo",Hc="mfaPendingCredential";function Kc(t,e,n,r){_.call(this,"multi-factor-auth-required",r,e),this.b=new Wc(t,e,n),Br(this,"resolver",this.b)}function $c(t,e,n){if(t&&y(t.serverResponse)&&"auth/multi-factor-auth-required"===t.code)try{return new Kc(e,t.serverResponse,n,t.message)}catch(t){}return null}function Xc(){}function Yc(t){Br(this,"factorId",t.ea),this.a=t}function Jc(t){if(Yc.call(this,t),this.a.ea!=ko.PROVIDER_ID)throw new _("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function Qc(t,e){for(var n in We.call(this,t),e)this[n]=e[n]}function Zc(t,e){this.a=t,this.b=[],this.c=m(this.wc,this),nn(this.a,"userReloaded",this.c);var r=[];e&&e.multiFactor&&e.multiFactor.enrolledFactors&&V(e.multiFactor.enrolledFactors,function(t){var e=null,n={};if(t){t.uid&&(n[Yr]=t.uid),t.displayName&&(n[$r]=t.displayName),t.enrollmentTime&&(n[Xr]=new Date(t.enrollmentTime).toISOString()),t.phoneNumber&&(n[Jr]=t.phoneNumber);try{e=new Qr(n)}catch(t){}t=e}else t=null;t&&r.push(t)}),th(this,r)}function th(t,e){t.b=e,Br(t,"enrolledFactors",e)}function eh(t,e,n){if(this.h=t,this.i=e,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function nh(t,e){return e?(t.a=t.c,t.g()):(e=t.a,t.a*=2,t.a>t.f&&(t.a=t.f),e)}function rh(t){this.c=t,this.b=this.a=null}function ih(t){return t.b&&1e3*t.b.c||0}function oh(t,e){var n=e.refreshToken;t.b=Li(e[zs]||""),t.a=n}function sh(e,t){return r=e.c,i=t,new ve(function(e,n){"refresh_token"==i.grant_type&&i.refresh_token||"authorization_code"==i.grant_type&&i.code?Qs(r,r.u+"?key="+encodeURIComponent(r.c),function(t){t?t.error?n(Ya(t)):t.access_token&&t.refresh_token?e(t):n(new _("internal-error")):n(new _("network-request-failed"))},"POST",zn(i).toString(),r.g,r.m.get()):n(new _("internal-error"))}).then(function(t){return e.b=Li(t.access_token),e.a=t.refresh_token,{accessToken:e.b.toString(),refreshToken:e.a}}).o(function(t){throw"auth/user-token-expired"==t.code&&(e.a=null),t});var r,i}function ah(t,e){this.a=t||null,this.b=e||null,Gr(this,{lastSignInTime:Lr(e||null),creationTime:Lr(t||null)})}function uh(t,e,n,r,i,o){Gr(this,{uid:t,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:e})}function ch(t,e,n){var r;this.N=[],this.l=t.apiKey,this.m=t.appName,this.s=t.authDomain||null,t=Xf.a.SDK_VERSION?wr(Xf.a.SDK_VERSION):null,this.a=new Gs(this.l,A(T),t),this.b=new rh(this.a),yh(this,e[zs]),oh(this.b,e),Br(this,"refreshToken",this.b.a),bh(this,n||{}),vn.call(this),this.P=!1,this.s&&Tr()&&(this.i=Dc(this.s,this.l,this.m)),this.R=[],this.h=null,this.B=(r=this,new eh(function(){return r.I(!0)},function(t){return!(!t||"auth/network-request-failed"!=t.code)},function(){var t=ih(r.b)-w()-3e5;return 0<t?t:0})),this.Z=m(this.Ma,this);var i=this;this.oa=null,this.za=function(t){i.va(t.g)},this.aa=null,this.W=[],this.ya=function(t){fh(i,t.c)},this.$=null,this.O=new Zc(this,n),Br(this,"multiFactor",this.O)}function hh(t,e){t.aa&&sn(t.aa,"languageCodeChanged",t.za),(t.aa=e)&&nn(e,"languageCodeChanged",t.za)}function fh(t,e){t.W=e,Js(t.a,Xf.a.SDK_VERSION?wr(Xf.a.SDK_VERSION,t.W):null)}function lh(t,e){t.$&&sn(t.$,"frameworkChanged",t.ya),(t.$=e)&&nn(e,"frameworkChanged",t.ya)}function ph(e){try{return Xf.a.app(e.m).auth()}catch(t){throw new _("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+e.m+"'!")}}function dh(t){t.D||t.B.b||(t.B.start(),sn(t,"tokenChanged",t.Z),nn(t,"tokenChanged",t.Z))}function vh(t){sn(t,"tokenChanged",t.Z),t.B.stop()}function yh(t,e){t.xa=e,Br(t,"_lat",e)}function gh(t){for(var e=[],n=0;n<t.R.length;n++)e.push(t.R[n](t));return Se(e).then(function(){return t})}function mh(t){t.i&&!t.P&&(t.P=!0,Tc(t.i,t))}function bh(t,e){Gr(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,phoneNumber:e.phoneNumber||null,isAnonymous:e.isAnonymous||!1,tenantId:e.tenantId||null,metadata:new ah(e.createdAt,e.lastLoginAt),providerData:[]}),t.a.b=t.tenantId}function wh(){}function Eh(t){return _e().then(function(){if(t.D)throw new _("app-deleted")})}function _h(t){return q(t.providerData,function(t){return t.providerId})}function Ih(t,e){e&&(Th(t,e.providerId),t.providerData.push(e))}function Th(t,e){z(t.providerData,function(t){return t.providerId==e})}function Sh(t,e,n){("uid"!=e||n)&&t.hasOwnProperty(e)&&Br(t,e,n)}function Oh(e,t){var n,r,i;e!=t&&(Gr(e,{uid:t.uid,displayName:t.displayName,photoURL:t.photoURL,email:t.email,emailVerified:t.emailVerified,phoneNumber:t.phoneNumber,isAnonymous:t.isAnonymous,tenantId:t.tenantId,providerData:[]}),t.metadata?Br(e,"metadata",new ah((i=t.metadata).a,i.b)):Br(e,"metadata",new ah),V(t.providerData,function(t){Ih(e,t)}),n=e.b,r=t.b,n.b=r.b,n.a=r.a,Br(e,"refreshToken",e.b.a),th(e.O,t.O.b))}function Nh(i){return i.I().then(function(t){var e,n,r=i.isAnonymous;return n=t,$a((e=i).a,Sa,{idToken:n}).then(m(e.Ic,e)).then(function(){return r||Sh(i,"isAnonymous",!1),t})})}function Ah(t,e){e[zs]&&t.xa!=e[zs]&&(oh(t.b,e),t.dispatchEvent(new Qc("tokenChanged")),yh(t,e[zs]),Sh(t,"refreshToken",t.b.a))}function kh(t,e){return Nh(t).then(function(){if(G(_h(t),e))return gh(t).then(function(){throw new _("provider-already-linked")})})}function Ph(t,e,n){return Wr({user:t,credential:xo(e),additionalUserInfo:e=Bi(e),operationType:n})}function xh(t,e){return Ah(t,e),t.reload().then(function(){return t})}function Rh(n,r,t,e,i){if(!Tr())return Ie(new _("operation-not-supported-in-this-environment"));if(n.h&&!i)return Ie(n.h);var o=qi(t.providerId),s=xr(n.uid+":::"),a=null;(!Nr()||lr())&&n.s&&t.isOAuthProvider&&(a=cu(n.s,n.l,n.m,r,t,null,s,Xf.a.SDK_VERSION||null,null,null,n.tenantId));var u=ar(a,o&&o.ta,o&&o.sa);return e=e().then(function(){if(jh(n),!i)return n.I().then(function(){})}).then(function(){return Ac(n.i,u,r,t,s,!!a,n.tenantId)}).then(function(){return new ve(function(t,e){n.la(r,null,new _("cancelled-popup-request"),n.g||null),n.f=t,n.w=e,n.g=s,n.c=xc(n.i,n,r,u,s)})}).then(function(t){return u&&sr(u),t?Wr(t):null}).o(function(t){throw u&&sr(u),t}),Ch(n,e,i)}function Dh(e,t,n,r,i){if(!Tr())return Ie(new _("operation-not-supported-in-this-environment"));if(e.h&&!i)return Ie(e.h);var o=null,s=xr(e.uid+":::");return r=r().then(function(){if(jh(e),!i)return e.I().then(function(){})}).then(function(){return e.fa=s,gh(e)}).then(function(t){return e.ga&&(t=(t=e.ga).b.set(Fh,e.v(),t.a)),t}).then(function(){return Pc(e.i,t,n,s,e.tenantId)}).o(function(t){if(o=t,e.ga)return Vh(e.ga);throw o}).then(function(){if(o)throw o}),Ch(e,r,i)}function jh(t){if(!t.i||!t.P){if(t.i&&!t.P)throw new _("internal-error");throw new _("auth-domain-config-required")}}function Ch(n,t,e){var r,i,o,s=(i=t,o=e,(r=n).h&&!o?(i.cancel(),Ie(r.h)):i.o(function(t){throw!t||"auth/user-disabled"!=t.code&&"auth/user-token-expired"!=t.code||(r.h||r.dispatchEvent(new Qc("userInvalidated")),r.h=t),t}));return n.N.push(s),s.ma(function(){W(n.N,s)}),s.o(function(t){var e=null;throw t&&"auth/multi-factor-auth-required"===t.code&&(e=$c(t.v(),ph(n),m(n.hc,n))),e||t})}function Lh(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName},n={};if(!t.stsTokenManager||!t.stsTokenManager.accessToken)return null;n[zs]=t.stsTokenManager.accessToken,n.refreshToken=t.stsTokenManager.refreshToken||null;var r=new ch(e,n,t);return t.providerData&&V(t.providerData,function(t){t&&Ih(r,Wr(t))}),t.redirectEventId&&(r.fa=t.redirectEventId),r}function Mh(t){this.a=t,this.b=zu()}Wc.prototype.Pc=function(t){var n=this;return t.ob(this.a.b,this.c).then(function(t){var e=ht(n.f);return delete e[zc],delete e[Hc],lt(e,t),n.g(e)})},E(Kc,_),Xc.prototype.ob=function(t,e,n){return e.type==Zi?(o=this,s=t,a=n,e.Fa().then(function(t){return t={idToken:t},void 0!==a&&(t.displayName=a),lt(t,{phoneVerificationInfo:Ao(o.a)}),$a(s,Ia,t)})):(r=this,i=t,e.Fa().then(function(t){return lt(t={mfaPendingCredential:t},{phoneVerificationInfo:Ao(r.a)}),$a(i,Ta,t)}));var r,i,o,s,a},E(Yc,Xc),E(Jc,Yc),E(Qc,We),(t=Zc.prototype).wc=function(t){var e,n;th(this,(e=t.ed,n=[],V(e.mfaInfo||[],function(t){(t=Kr(t))&&n.push(t)}),n))},t.Ob=function(){return this.a.I().then(function(t){return new Qi(t,null)})},t.dc=function(e,n){var r=this,i=this.a.a;return this.Ob().then(function(t){return e.ob(i,t,n)}).then(function(t){return Ah(r.a,t),r.a.reload()})},t.$c=function(t){var n=this,r="string"==typeof t?t:t.uid,e=this.a.a;return this.a.I().then(function(t){return $a(e,Ka,{idToken:t,mfaEnrollmentId:r})}).then(function(t){var e=U(n.b,function(t){return t.uid!=r});return th(n,e),Ah(n.a,t),n.a.reload().o(function(t){if("auth/user-token-expired"!=t.code)throw t})})},t.v=function(){return{multiFactor:{enrolledFactors:q(this.b,function(t){return t.v()})}}},eh.prototype.start=function(){this.a=this.c,function e(n,t){n.stop();n.b=wn(nh(n,t)).then(function(){return e=p.document,n=null,Cr()||!e?_e():new ve(function(t){n=function(){Cr()&&(e.removeEventListener("visibilitychange",n,!1),t())},e.addEventListener("visibilitychange",n,!1)}).o(function(t){throw e.removeEventListener("visibilitychange",n,!1),t});var e,n}).then(function(){return n.h()}).then(function(){e(n,!0)}).o(function(t){n.i(t)&&e(n,!1)})}(this,!0)},eh.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},rh.prototype.v=function(){return{apiKey:this.c.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:ih(this)}},rh.prototype.getToken=function(t){return t=!!t,this.b&&!this.a?Ie(new _("user-token-expired")):t||!this.b||w()>ih(this)-3e4?this.a?sh(this,{grant_type:"refresh_token",refresh_token:this.a}):_e(null):_e({accessToken:this.b.toString(),refreshToken:this.a})},ah.prototype.v=function(){return{lastLoginAt:this.b,createdAt:this.a}},E(ch,vn),ch.prototype.va=function(t){this.oa=t,Ys(this.a,t)},ch.prototype.ja=function(){return this.oa},ch.prototype.Ea=function(){return K(this.W)},ch.prototype.Ma=function(){this.B.b&&(this.B.stop(),this.B.start())},Br(ch.prototype,"providerId","firebase"),(t=ch.prototype).reload=function(){var t=this;return Ch(this,Eh(this).then(function(){return Nh(t).then(function(){return gh(t)}).then(wh)}))},t.mc=function(t){return this.I(t).then(function(t){return new Gc(t)})},t.I=function(t){var e=this;return Ch(this,Eh(this).then(function(){return e.b.getToken(t)}).then(function(t){if(!t)throw new _("internal-error");return t.accessToken!=e.xa&&(yh(e,t.accessToken),e.dispatchEvent(new Qc("tokenChanged"))),Sh(e,"refreshToken",t.refreshToken),t.accessToken}))},t.Ic=function(t){if(!(t=t.users)||!t.length)throw new _("internal-error");bh(this,{uid:(t=t[0]).localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber,lastLoginAt:t.lastLoginAt,createdAt:t.createdAt,tenantId:t.tenantId});for(var e,n=(e=(e=t).providerUserInfo)&&e.length?q(e,function(t){return new uh(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl,t.phoneNumber)}):[],r=0;r<n.length;r++)Ih(this,n[r]);Sh(this,"isAnonymous",!(this.email&&t.passwordHash||this.providerData&&this.providerData.length)),this.dispatchEvent(new Qc("userReloaded",{ed:t}))},t.Jc=function(t){return Ur("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.pb(t)},t.pb=function(t){var e=this,n=null;return Ch(this,t.c(this.a,this.uid).then(function(t){return Ah(e,t),n=Ph(e,t,"reauthenticate"),e.h=null,e.reload()}).then(function(){return n}),!0)},t.Ac=function(t){return Ur("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.mb(t)},t.mb=function(e){var n=this,r=null;return Ch(this,kh(this,e.providerId).then(function(){return n.I()}).then(function(t){return e.b(n.a,t)}).then(function(t){return r=Ph(n,t,"link"),xh(n,t)}).then(function(){return r}))},t.Bc=function(t,e){var n=this;return Ch(this,kh(this,"phone").then(function(){return Bc(ph(n),t,e,m(n.mb,n))}))},t.Kc=function(t,e){var n=this;return Ch(this,_e().then(function(){return Bc(ph(n),t,e,m(n.pb,n))}),!0)},t.xb=function(e){var n=this;return Ch(this,this.I().then(function(t){return n.a.xb(t,e)}).then(function(t){return Ah(n,t),n.reload()}))},t.cd=function(e){var n=this;return Ch(this,this.I().then(function(t){return e.b(n.a,t)}).then(function(t){return Ah(n,t),n.reload()}))},t.yb=function(e){var n=this;return Ch(this,this.I().then(function(t){return n.a.yb(t,e)}).then(function(t){return Ah(n,t),n.reload()}))},t.zb=function(e){if(void 0===e.displayName&&void 0===e.photoURL)return Eh(this);var n=this;return Ch(this,this.I().then(function(t){return n.a.zb(t,{displayName:e.displayName,photoUrl:e.photoURL})}).then(function(t){return Ah(n,t),Sh(n,"displayName",t.displayName||null),Sh(n,"photoURL",t.photoUrl||null),V(n.providerData,function(t){"password"===t.providerId&&(Br(t,"displayName",n.displayName),Br(t,"photoURL",n.photoURL))}),gh(n)}).then(wh))},t.ad=function(e){var n=this;return Ch(this,Nh(this).then(function(t){return G(_h(n),e)?$a(n.a,wa,{idToken:t,deleteProvider:[e]}).then(function(t){var e={};return V(t.providerUserInfo||[],function(t){e[t.providerId]=!0}),V(_h(n),function(t){e[t]||Th(n,t)}),e[ko.PROVIDER_ID]||Br(n,"phoneNumber",null),gh(n)}):gh(n).then(function(){throw new _("no-such-provider")})}))},t.delete=function(){var e=this;return Ch(this,this.I().then(function(t){return $a(e.a,ba,{idToken:t})}).then(function(){e.dispatchEvent(new Qc("userDeleted"))})).then(function(){for(var t=0;t<e.N.length;t++)e.N[t].cancel("app-deleted");hh(e,null),lh(e,null),e.N=[],e.D=!0,vh(e),Br(e,"refreshToken",null),e.i&&Sc(e.i,e)})},t.Cb=function(t,e){return!!("linkViaPopup"==t&&(this.g||null)==e&&this.f||"reauthViaPopup"==t&&(this.g||null)==e&&this.f||"linkViaRedirect"==t&&(this.fa||null)==e||"reauthViaRedirect"==t&&(this.fa||null)==e)},t.la=function(t,e,n,r){"linkViaPopup"!=t&&"reauthViaPopup"!=t||r!=(this.g||null)||(n&&this.w?this.w(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.w)},t.Da=function(t,e){return"linkViaPopup"==t&&e==(this.g||null)?m(this.Hb,this):"reauthViaPopup"==t&&e==(this.g||null)?m(this.Ib,this):"linkViaRedirect"==t&&(this.fa||null)==e?m(this.Hb,this):"reauthViaRedirect"==t&&(this.fa||null)==e?m(this.Ib,this):null},t.Cc=function(t){var e=this;return Rh(this,"linkViaPopup",t,function(){return kh(e,t.providerId).then(function(){return gh(e)})},!1)},t.Lc=function(t){return Rh(this,"reauthViaPopup",t,function(){return _e()},!0)},t.Dc=function(t){var e=this;return Dh(this,"linkViaRedirect",t,function(){return kh(e,t.providerId)},!1)},t.Mc=function(t){return Dh(this,"reauthViaRedirect",t,function(){return _e()},!0)},t.Hb=function(e,n,t,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return t=this.I().then(function(t){return la(i.a,{requestUri:e,postBody:r,sessionId:n,idToken:t})}).then(function(t){return o=Ph(i,t,"link"),xh(i,t)}).then(function(){return o}),Ch(this,t)},t.Ib=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Ch(this,_e().then(function(){return no(pa(i.a,{requestUri:t,sessionId:e,postBody:r,tenantId:n}),i.uid)}).then(function(t){return o=Ph(i,t,"reauthenticate"),Ah(i,t),i.h=null,i.reload()}).then(function(){return o}),!0)},t.qb=function(e){var n=this,r=null;return Ch(this,this.I().then(function(t){return r=t,void 0===e||ct(e)?{}:Ri(new _i(e))}).then(function(t){return n.a.qb(r,t)}).then(function(t){if(n.email!=t)return n.reload()}).then(function(){}))},t.Ab=function(e,n){var r=this,i=null;return Ch(this,this.I().then(function(t){return i=t,void 0===n||ct(n)?{}:Ri(new _i(n))}).then(function(t){return r.a.Ab(i,e,t)}).then(function(t){if(r.email!=t)return r.reload()}).then(function(){}))},t.hc=function(t){var e=null,n=this;return Ch(this,t=no(_e(t),n.uid).then(function(t){return e=Ph(n,t,"reauthenticate"),Ah(n,t),n.h=null,n.reload()}).then(function(){return e}),!0)},t.toJSON=function(){return this.v()},t.v=function(){var e={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.b.v(),redirectEventId:this.fa||null};return this.metadata&&lt(e,this.metadata.v()),V(this.providerData,function(t){e.providerData.push(function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}(t))}),lt(e,this.O.v()),e};var Fh={name:"redirectUser",F:"session"};function Vh(t){return $u(t.b,Fh,t.a)}function Uh(t){var e,n,r,i;this.a=t,this.b=zu(),this.c=null,this.f=(n=Gh("local"),r=Gh("session"),i=Gh("none"),function(n,r,i){var o=Ku(r,i),s=Hu(n,r.F);return n.get(r,i).then(function(t){var e=null;try{e=Pr(p.localStorage.getItem(o))}catch(t){}if(e&&!t)return p.localStorage.removeItem(o),n.set(r,e,i);e&&t&&"localStorage"!=s.type&&p.localStorage.removeItem(o)})}((e=this).b,n,e.a).then(function(){return e.b.get(r,e.a)}).then(function(t){return t?r:e.b.get(i,e.a).then(function(t){return t?i:e.b.get(n,e.a).then(function(t){return t?n:e.b.get(Bh,e.a).then(function(t){return t?Gh(t):n})})})}).then(function(t){return e.c=t,qh(e,t.F)}).o(function(){e.c||(e.c=n)})),this.b.addListener(Gh("local"),this.a,m(this.g,this))}function qh(t,e){var n,a,r=[];for(n in Gu)Gu[n]!==e&&r.push($u(t.b,Gh(Gu[n]),t.a));return r.push($u(t.b,Bh,t.a)),a=r,new ve(function(n,e){var r=a.length,i=[];if(r)for(var t=function(t,e){r--,i[t]=e,0==r&&n(i)},o=function(t){e(t)},s=0;s<a.length;s++)Te(a[s],b(t,s),o);else n(i)})}Uh.prototype.g=function(){var e=this,n=Gh("local");Kh(this,function(){return _e().then(function(){return e.c&&"local"!=e.c.F?e.b.get(n,e.a):null}).then(function(t){if(t)return qh(e,"local").then(function(){e.c=n})})})};var Bh={name:"persistence",F:"session"};function Gh(t){return{name:"authUser",F:t}}function Wh(t,e){return Kh(t,function(){return t.b.set(t.c,e.v(),t.a)})}function zh(t){return Kh(t,function(){return $u(t.b,t.c,t.a)})}function Hh(t,e){return Kh(t,function(){return t.b.get(t.c,t.a).then(function(t){return t&&e&&(t.authDomain=e),Lh(t||{})})})}function Kh(t,e){return t.f=t.f.then(e,e),t.f}function $h(t){if(this.l=!1,Br(this,"settings",new Uc),Br(this,"app",t),!this.app.options||!this.app.options.apiKey)throw new _("invalid-api-key");var n,e,r,i,o,s,a,u;t=Xf.a.SDK_VERSION?wr(Xf.a.SDK_VERSION):null,this.b=new Gs(this.app.options&&this.app.options.apiKey,A(T),t),this.P=[],this.m=[],this.O=[],this.$b=Xf.a.INTERNAL.createSubscribe(m(this.xc,this)),this.W=void 0,this.ac=Xf.a.INTERNAL.createSubscribe(m(this.yc,this)),tf(this,null),this.i=new Uh(this.app.options.apiKey+":"+this.app.name),this.B=new Mh(this.app.options.apiKey+":"+this.app.name),this.Z=sf(this,(e=(n=this).app.options.authDomain,r=function(e){var t=function(t,e){return t.b.get(Fh,t.a).then(function(t){return t&&e&&(t.authDomain=e),Lh(t||{})})}(e.B,e.app.options.authDomain).then(function(t){return(e.D=t)&&(t.ga=e.B),Vh(e.B)});return sf(e,t)}(n).then(function(){return Hh(n.i,e)}).then(function(e){return e?(e.ga=n.B,n.D&&(n.D.fa||null)==(e.fa||null)?e:e.reload().then(function(){return Wh(n.i,e).then(function(){return e})}).o(function(t){return"auth/network-request-failed"==t.code?e:zh(n.i)})):null}).then(function(t){tf(n,t||null)}),sf(n,r))),this.h=sf(this,(i=this).Z.then(function(){return Qh(i)}).o(function(){}).then(function(){if(!i.l)return i.oa()}).o(function(){}).then(function(){var t;i.l||(i.aa=!0,(t=i.i).b.addListener(Gh("local"),t.a,i.oa))})),this.aa=!1,this.oa=m(this.Xc,this),this.Ma=m(this.ca,this),this.xa=m(this.jc,this),this.ya=m(this.uc,this),this.za=m(this.vc,this),this.a=null,s=(o=this).app.options.authDomain,a=o.app.options.apiKey,s&&Tr()&&(o.Zb=o.Z.then(function(){var t;if(!o.l)return o.a=Dc(s,a,o.app.name),Tc(o.a,o),nf(o)&&mh(nf(o)),o.D&&(mh(o.D),(t=o.D).va(o.ja()),hh(t,o),fh(t=o.D,o.N),lh(t,o),o.D=null),o.a})),this.INTERNAL={},this.INTERNAL.delete=m(this.delete,this),this.INTERNAL.logFramework=m(this.Ec,this),this.s=0,vn.call(this),u=this,Object.defineProperty(u,"lc",{get:function(){return this.ja()},set:function(t){this.va(t)},enumerable:!1}),u.$=null,Object.defineProperty(u,"ti",{get:function(){return this.S()},set:function(t){this.ub(t)},enumerable:!1}),u.R=null,this.N=[]}function Xh(t){We.call(this,"languageCodeChanged"),this.g=t}function Yh(t){We.call(this,"frameworkChanged"),this.c=t}function Jh(t){return t.Zb||Ie(new _("auth-domain-config-required"))}function Qh(t){if(!Tr())return Ie(new _("operation-not-supported-in-this-environment"));var e=Jh(t).then(function(){return t.a.pa()}).then(function(t){return t?Wr(t):null});return sf(t,e)}function Zh(o,s){var a={};return a.apiKey=o.app.options.apiKey,a.authDomain=o.app.options.authDomain,a.appName=o.app.name,o.Z.then(function(){return t=a,e=s,n=o.B,r=o.Ea(),i=new ch(t,e),n&&(i.ga=n),r&&fh(i,r),i.reload().then(function(){return i});var t,e,n,r,i}).then(function(t){return nf(o)&&t.uid==nf(o).uid?Oh(nf(o),t):(tf(o,t),mh(t)),o.ca(t)}).then(function(){of(o)})}function tf(t,e){var n,r;nf(t)&&(n=nf(t),r=t.Ma,z(n.R,function(t){return t==r}),sn(nf(t),"tokenChanged",t.xa),sn(nf(t),"userDeleted",t.ya),sn(nf(t),"userInvalidated",t.za),vh(nf(t))),e&&(e.R.push(t.Ma),nn(e,"tokenChanged",t.xa),nn(e,"userDeleted",t.ya),nn(e,"userInvalidated",t.za),0<t.s&&dh(e)),Br(t,"currentUser",e),e&&(e.va(t.ja()),hh(e,t),fh(e,t.N),lh(e,t))}function ef(n,t){var e=null,r=null;return sf(n,t.then(function(t){return e=xo(t),r=Bi(t),Zh(n,t)},function(t){var e=null;throw t&&"auth/multi-factor-auth-required"===t.code&&(e=$c(t.v(),n,m(n.ic,n))),e||t}).then(function(){return Wr({user:nf(n),credential:e,additionalUserInfo:r,operationType:"signIn"})}))}function nf(t){return t.currentUser}function rf(t){return nf(t)&&nf(t)._lat||null}function of(t){if(t.aa){for(var e=0;e<t.m.length;e++)t.m[e]&&t.m[e](rf(t));if(t.W!==t.getUid()&&t.O.length)for(t.W=t.getUid(),e=0;e<t.O.length;e++)t.O[e]&&t.O[e](rf(t))}}function sf(t,e){return t.P.push(e),e.ma(function(){W(t.P,e)}),e}function af(){}function uf(){this.a={},this.b=1e12}Uh.prototype.tb=function(e){var n=null,r=this;return function(t){var e=new _("invalid-persistence-type"),n=new _("unsupported-persistence-type");t:{for(r in Gu)if(Gu[r]==t){var r=!0;break t}r=!1}if(!r||"string"!=typeof t)throw e;switch(dr()){case"ReactNative":if("session"===t)throw n;break;case"Node":if("none"!==t)throw n;break;case"Worker":if("session"===t||!_u()&&"none"!==t)throw n;break;default:if(!Ir()&&"none"!==t)throw n}}(e),Kh(this,function(){return e!=r.c.F?r.b.get(r.c,r.a).then(function(t){return n=t,qh(r,e)}).then(function(){if(r.c=Gh(e),n)return r.b.set(r.c,n,r.a)}):_e()})},E($h,vn),E(Xh,We),E(Yh,We),(t=$h.prototype).tb=function(t){return t=this.i.tb(t),sf(this,t)},t.va=function(t){this.$===t||this.l||(this.$=t,Ys(this.b,this.$),this.dispatchEvent(new Xh(this.ja())))},t.ja=function(){return this.$},t.dd=function(){var t=p.navigator;this.va(t&&(t.languages&&t.languages[0]||t.language||t.userLanguage)||null)},t.Ec=function(t){this.N.push(t),Js(this.b,Xf.a.SDK_VERSION?wr(Xf.a.SDK_VERSION,this.N):null),this.dispatchEvent(new Yh(this.N))},t.Ea=function(){return K(this.N)},t.ub=function(t){this.R===t||this.l||(this.R=t,this.b.b=this.R)},t.S=function(){return this.R},t.toJSON=function(){return{apiKey:this.app.options.apiKey,authDomain:this.app.options.authDomain,appName:this.app.name,currentUser:nf(this)&&nf(this).v()}},t.Cb=function(t,e){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==e&&!!this.f;default:return!1}},t.la=function(t,e,n,r){"signInViaPopup"==t&&this.g==r&&(n&&this.w?this.w(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.w)},t.Da=function(t,e){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.g==e&&this.f?m(this.gc,this):null},t.gc=function(t,e,n,r){var i=this,o={requestUri:t,postBody:r,sessionId:e,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),i.Z.then(function(){return ef(i,fa(i.b,o))})},t.Vc=function(e){if(!Tr())return Ie(new _("operation-not-supported-in-this-environment"));var n=this,t=qi(e.providerId),r=xr(),i=null;(!Nr()||lr())&&this.app.options.authDomain&&e.isOAuthProvider&&(i=cu(this.app.options.authDomain,this.app.options.apiKey,this.app.name,"signInViaPopup",e,null,r,Xf.a.SDK_VERSION||null,null,null,this.S()));var o=ar(i,t&&t.ta,t&&t.sa);return sf(this,t=Jh(this).then(function(t){return Ac(t,o,"signInViaPopup",e,r,!!i,n.S())}).then(function(){return new ve(function(t,e){n.la("signInViaPopup",null,new _("cancelled-popup-request"),n.g),n.f=t,n.w=e,n.g=r,n.c=xc(n.a,n,"signInViaPopup",o,r)})}).then(function(t){return o&&sr(o),t?Wr(t):null}).o(function(t){throw o&&sr(o),t}))},t.Wc=function(t){if(!Tr())return Ie(new _("operation-not-supported-in-this-environment"));var e=this;return sf(this,Jh(this).then(function(){return Kh(t=e.i,function(){return t.b.set(Bh,t.c.F,t.a)});var t}).then(function(){return Pc(e.a,"signInViaRedirect",t,void 0,e.S())}))},t.pa=function(){var e=this;return Qh(this).then(function(t){return e.a&&Lc(e.a.b),t}).o(function(t){throw e.a&&Lc(e.a.b),t})},t.bd=function(t){if(!t)return Ie(new _("null-user"));if(this.R!=t.tenantId)return Ie(new _("tenant-id-mismatch"));var e=this,n={};n.apiKey=this.app.options.apiKey,n.authDomain=this.app.options.authDomain,n.appName=this.app.name;var r,i,o,s,a,u,c=(r=t,i=n,o=e.B,s=e.Ea(),a=r.b,(u={})[zs]=a.b&&a.b.toString(),u.refreshToken=a.a,i=new ch(i||{apiKey:r.l,authDomain:r.s,appName:r.m},u),o&&(i.ga=o),s&&fh(i,s),Oh(i,r),i);return sf(this,this.h.then(function(){if(e.app.options.apiKey!=t.l)return c.reload()}).then(function(){return nf(e)&&t.uid==nf(e).uid?(Oh(nf(e),t),e.ca(t)):(tf(e,c),mh(c),e.ca(c))}).then(function(){of(e)}))},t.wb=function(){var t=this,e=this.h.then(function(){return t.a&&Lc(t.a.b),nf(t)?(tf(t,null),zh(t.i).then(function(){of(t)})):_e()});return sf(this,e)},t.Xc=function(){var r=this;return Hh(this.i,this.app.options.authDomain).then(function(t){if(!r.l){var e,n;if((n=nf(r)&&t)&&(n=nf(r).uid,e=t.uid,n=null!=n&&""!==n&&null!=e&&""!==e&&n==e),n)return Oh(nf(r),t),nf(r).I();(nf(r)||t)&&(tf(r,t),t&&(mh(t),t.ga=r.B),r.a&&Tc(r.a,r),of(r))}})},t.ca=function(t){return Wh(this.i,t)},t.jc=function(){of(this),this.ca(nf(this))},t.uc=function(){this.wb()},t.vc=function(){this.wb()},t.ic=function(t){var e=this;return this.h.then(function(){return ef(e,_e(t))})},t.xc=function(t){var e=this;this.addAuthTokenListener(function(){t.next(nf(e))})},t.yc=function(t){var e,n,r=this;n=function(){t.next(nf(r))},(e=this).O.push(n),sf(e,e.h.then(function(){!e.l&&G(e.O,n)&&e.W!==e.getUid()&&(e.W=e.getUid(),n(rf(e)))}))},t.Gc=function(t,e,n){var r=this;return this.aa&&Promise.resolve().then(function(){l(t)?t(nf(r)):l(t.next)&&t.next(nf(r))}),this.$b(t,e,n)},t.Fc=function(t,e,n){var r=this;return this.aa&&Promise.resolve().then(function(){r.W=r.getUid(),l(t)?t(nf(r)):l(t.next)&&t.next(nf(r))}),this.ac(t,e,n)},t.kc=function(t){var e=this,n=this.h.then(function(){return nf(e)?nf(e).I(t).then(function(t){return{accessToken:t}}):null});return sf(this,n)},t.Rc=function(t){var n=this;return this.h.then(function(){return ef(n,$a(n.b,Ba,{token:t}))}).then(function(t){var e=t.user;return Sh(e,"isAnonymous",!1),n.ca(e),t})},t.Sc=function(t,e){var n=this;return this.h.then(function(){return ef(n,$a(n.b,Ga,{email:t,password:e}))})},t.cc=function(t,e){var n=this;return this.h.then(function(){return ef(n,$a(n.b,ga,{email:t,password:e}))})},t.Ya=function(t){var e=this;return this.h.then(function(){return ef(e,t.ia(e.b))})},t.Qc=function(t){return Ur("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.Ya(t)},t.vb=function(){var n=this;return this.h.then(function(){var t=nf(n);if(t&&t.isAnonymous){var e=Wr({providerId:null,isNewUser:!1});return Wr({user:t,credential:null,additionalUserInfo:e,operationType:"signIn"})}return ef(n,n.b.vb()).then(function(t){var e=t.user;return Sh(e,"isAnonymous",!0),n.ca(e),t})})},t.getUid=function(){return nf(this)&&nf(this).uid||null},t.bc=function(t){this.addAuthTokenListener(t),this.s++,0<this.s&&nf(this)&&dh(nf(this))},t.Nc=function(e){var n=this;V(this.m,function(t){t==e&&n.s--}),this.s<0&&(this.s=0),0==this.s&&nf(this)&&vh(nf(this)),this.removeAuthTokenListener(e)},t.addAuthTokenListener=function(t){var e=this;this.m.push(t),sf(this,this.h.then(function(){e.l||G(e.m,t)&&t(rf(e))}))},t.removeAuthTokenListener=function(e){z(this.m,function(t){return t==e})},t.delete=function(){this.l=!0;for(var t=0;t<this.P.length;t++)this.P[t].cancel("app-deleted");return this.P=[],this.i&&(t=this.i).b.removeListener(Gh("local"),t.a,this.oa),this.a&&(Sc(this.a,this),Lc(this.a.b)),Promise.resolve()},t.fc=function(t){return sf(this,$a(this.b,ma,{identifier:t,continueUri:Sr()?rr():"http://localhost"}).then(function(t){return t.signinMethods||[]}))},t.zc=function(t){return!!So(t)},t.sb=function(e,n){var r=this;return sf(this,_e().then(function(){var t=new _i(n);if(!t.c)throw new _("argument-error",Si+" must be true when sending sign in link to email");return Ri(t)}).then(function(t){return r.b.sb(e,t)}).then(function(){}))},t.fd=function(t){return this.Pa(t).then(function(t){return t.data.email})},t.jb=function(t,e){return sf(this,this.b.jb(t,e).then(function(){}))},t.Pa=function(t){return sf(this,this.b.Pa(t).then(function(t){return new Zr(t)}))},t.fb=function(t){return sf(this,this.b.fb(t).then(function(){}))},t.rb=function(e,t){var n=this;return sf(this,_e().then(function(){return void 0===t||ct(t)?{}:Ri(new _i(t))}).then(function(t){return n.b.rb(e,t)}).then(function(){}))},t.Uc=function(t,e){return sf(this,Bc(this,t,e,m(this.Ya,this)))},t.Tc=function(n,r){var i=this;return sf(this,_e().then(function(){var t=r||rr(),e=To(n,t);if(!(t=So(t)))throw new _("argument-error","Invalid email link!");if(t.tenantId!==i.S())throw new _("tenant-id-mismatch");return i.Ya(e)}))},af.prototype.render=function(){},af.prototype.reset=function(){},af.prototype.getResponse=function(){},af.prototype.execute=function(){};var cf=null;function hf(t,e){return(e=ff(e))&&t.a[e]||null}function ff(t){return(t=void 0===t?1e12:t)?t.toString():null}function lf(t,e){this.g=!1,this.c=e,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=ne(t);var n=this;this.i=function(){n.execute()},this.h?this.execute():nn(this.f,"click",this.i)}function pf(t){if(t.g)throw Error("reCAPTCHA mock was already deleted!")}function df(){}function vf(){}uf.prototype.render=function(t,e){return this.a[this.b.toString()]=new lf(t,e),this.b++},uf.prototype.reset=function(t){var e=hf(this,t);t=ff(t),e&&t&&(e.delete(),delete this.a[t])},uf.prototype.getResponse=function(t){return(t=hf(this,t))?t.getResponse():null},uf.prototype.execute=function(t){(t=hf(this,t))&&t.execute()},lf.prototype.getResponse=function(){return pf(this),this.b},lf.prototype.execute=function(){pf(this);var n=this;this.a||(this.a=setTimeout(function(){n.b=function(){for(var t=50,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}();var t=n.c.callback,e=n.c["expired-callback"];if(t)try{t(n.b)}catch(t){}n.a=setTimeout(function(){if(n.a=null,n.b=null,e)try{e()}catch(t){}n.h&&n.execute()},6e4)},500))},lf.prototype.delete=function(){pf(this),this.g=!0,clearTimeout(this.a),this.a=null,sn(this.f,"click",this.i)},Br(df,"FACTOR_ID","phone"),vf.prototype.g=function(){return _e(cf=cf||new uf)},vf.prototype.c=function(){};var yf=null;function gf(){this.b=p.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var mf=new dt(gt,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),bf=new jr(3e4,6e4);gf.prototype.g=function(i){var o=this;return new ve(function(t,e){var r=setTimeout(function(){e(new _("network-request-failed"))},bf.get());!p.grecaptcha||i!==o.f&&!o.b?(p[o.a]=function(){var n;p.grecaptcha?(o.f=i,n=p.grecaptcha.render,p.grecaptcha.render=function(t,e){return t=n(t,e),o.b++,t},clearTimeout(r),t(p.grecaptcha)):(clearTimeout(r),e(new _("internal-error"))),delete p[o.a]},_e(Ls(Et(mf,{onload:o.a,hl:i||""}))).o(function(){clearTimeout(r),e(new _("internal-error","Unable to load external reCAPTCHA dependencies!"))})):(clearTimeout(r),t(p.grecaptcha))})},gf.prototype.c=function(){this.b--};var wf=null;function Ef(t,e,n,r,i,o,s){if(Br(this,"type","recaptcha"),this.c=this.f=null,this.D=!1,this.u=e,this.g=null,s=s?yf=yf||new vf:wf=wf||new gf,this.m=s,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[Tf])throw new _("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[Sf],!p.document)throw new _("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!ne(e)||!this.i&&ne(e).hasChildNodes())throw new _("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new Gs(t,o||null,i||null),this.w=r||function(){return null};var a=this;this.l=[];var u=this.a[_f];this.a[_f]=function(t){var e;Of(a,t),"function"==typeof u?u(t):"string"!=typeof u||"function"==typeof(e=_r(u,p))&&e(t)};var c=this.a[If];this.a[If]=function(){var t;Of(a,null),"function"==typeof c?c():"string"!=typeof c||"function"==typeof(t=_r(c,p))&&t()}}var _f="callback",If="expired-callback",Tf="sitekey",Sf="size";function Of(t,e){for(var n=0;n<t.l.length;n++)try{t.l[n](e)}catch(t){}}function Nf(t,e){return t.h.push(e),e.ma(function(){W(t.h,e)}),e}function Af(t){if(t.D)throw new _("internal-error","RecaptchaVerifier instance has been destroyed.")}function kf(t,e,n){var r=!1;try{this.b=n||Xf.a.app()}catch(t){throw new _("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new _("invalid-api-key");n=this.b.options.apiKey;var i=this,o=null;try{o=this.b.auth().Ea()}catch(t){}try{r=this.b.auth().settings.appVerificationDisabledForTesting}catch(t){}o=Xf.a.SDK_VERSION?wr(Xf.a.SDK_VERSION,o):null,Ef.call(this,n,t,e,function(){try{var e=i.b.auth().ja()}catch(t){e=null}return e},o,A(T),r)}function Pf(t,e,n,r){t:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,s=0;s<e.length;s++)if(e[s].optional)o=!0;else{if(o)throw new _("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=e.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=e[i].optional&&void 0===n[i],!e[i].K(n[i])&&!o){if(e=e[i],i<0||i>=xf.length)throw new _("internal-error","Argument validator received an unsupported number of arguments.");n=xf[i],r=(r?"":n+" argument ")+(e.name?'"'+e.name+'" ':"")+"must be "+e.J+".";break t}r=null}}if(r)throw new _("argument-error",t+" failed: "+r)}(t=Ef.prototype).Ga=function(){var e=this;return this.f?this.f:this.f=Nf(this,_e().then(function(){if(Sr()&&!pr())return hr();throw new _("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return e.m.g(e.w())}).then(function(t){return e.g=t,$a(e.s,xa,{})}).then(function(t){e.a[Tf]=t.recaptchaSiteKey}).o(function(t){throw e.f=null,t}))},t.render=function(){Af(this);var n=this;return Nf(this,this.Ga().then(function(){var t,e;return null===n.c&&(e=n.u,n.i||(t=ne(e),e=ae("DIV"),t.appendChild(e)),n.c=n.g.render(e,n.a)),n.c}))},t.verify=function(){Af(this);var i=this;return Nf(this,this.render().then(function(e){return new ve(function(n){var r,t=i.g.getResponse(e);t?n(t):(r=function(t){var e;t&&(e=r,z(i.l,function(t){return t==e}),n(t))},i.l.push(r),i.i&&i.g.execute(i.c))})}))},t.reset=function(){Af(this),null!==this.c&&this.g.reset(this.c)},t.clear=function(){Af(this),this.D=!0,this.m.c();for(var t,e=0;e<this.h.length;e++)this.h[e].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){e=ne(this.u);for(;t=e.firstChild;)e.removeChild(t)}},E(kf,Ef);var xf="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Rf(t,e){return{name:t||"",J:"a valid string",optional:!!e,K:function(t){return"string"==typeof t}}}function Df(t,e){return{name:t||"",J:"a boolean",optional:!!e,K:function(t){return"boolean"==typeof t}}}function jf(t,e){return{name:t||"",J:"a valid object",optional:!!e,K:y}}function Cf(t,e){return{name:t||"",J:"a function",optional:!!e,K:l}}function Lf(t,e){return{name:t||"",J:"null",optional:!!e,K:function(t){return null===t}}}function Mf(n){return{name:n?n+"Credential":"credential",J:n?"a valid "+n+" credential":"a valid credential",optional:!1,K:function(t){if(!t)return!1;var e=!n||t.providerId===n;return!(!t.ia||!e)}}}function Ff(){return{name:"multiFactorAssertion",J:"a valid multiFactorAssertion",optional:!1,K:function(t){return!!t&&!!t.ob}}}function Vf(){return{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}}function Uf(t,e){return y(t)&&"string"==typeof t.type&&t.type===e&&l(t.Fa)}function qf(t){return y(t)&&"string"==typeof t.uid}function Bf(){return{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(t){return!(!t||"string"!=typeof t.type||!l(t.verify))}}}function Gf(e,n,t,r){return{name:t||"",J:e.J+" or "+n.J,optional:!!r,K:function(t){return e.K(t)||n.K(t)}}}function Wf(t,e){for(var n in e){var r=e[n].name;t[r]=Kf(r,t[n],e[n].j)}}function zf(t,e){for(var n in e){var r=e[n].name;r!==n&&Object.defineProperty(t,r,{get:b(function(t){return this[t]},n),set:b(function(t,e,n,r){Pf(t,[n],[r],!0),this[e]=r},r,n,e[n].gb),enumerable:!0})}}function Hf(t,e,n,r){t[e]=Kf(e,n,r)}function Kf(t,e,n){function r(){var t=Array.prototype.slice.call(arguments);return Pf(s,n,t),e.apply(this,t)}if(!n)return e;var i,o,s=(o=(o=t).split("."))[o.length-1];for(i in e)r[i]=e[i];for(i in e.prototype)r.prototype[i]=e.prototype[i];return r}Wf($h.prototype,{fb:{name:"applyActionCode",j:[Rf("code")]},Pa:{name:"checkActionCode",j:[Rf("code")]},jb:{name:"confirmPasswordReset",j:[Rf("code"),Rf("newPassword")]},cc:{name:"createUserWithEmailAndPassword",j:[Rf("email"),Rf("password")]},fc:{name:"fetchSignInMethodsForEmail",j:[Rf("email")]},pa:{name:"getRedirectResult",j:[]},zc:{name:"isSignInWithEmailLink",j:[Rf("emailLink")]},Fc:{name:"onAuthStateChanged",j:[Gf(jf(),Cf(),"nextOrObserver"),Cf("opt_error",!0),Cf("opt_completed",!0)]},Gc:{name:"onIdTokenChanged",j:[Gf(jf(),Cf(),"nextOrObserver"),Cf("opt_error",!0),Cf("opt_completed",!0)]},rb:{name:"sendPasswordResetEmail",j:[Rf("email"),Gf(jf("opt_actionCodeSettings",!0),Lf(null,!0),"opt_actionCodeSettings",!0)]},sb:{name:"sendSignInLinkToEmail",j:[Rf("email"),jf("actionCodeSettings")]},tb:{name:"setPersistence",j:[Rf("persistence")]},Qc:{name:"signInAndRetrieveDataWithCredential",j:[Mf()]},vb:{name:"signInAnonymously",j:[]},Ya:{name:"signInWithCredential",j:[Mf()]},Rc:{name:"signInWithCustomToken",j:[Rf("token")]},Sc:{name:"signInWithEmailAndPassword",j:[Rf("email"),Rf("password")]},Tc:{name:"signInWithEmailLink",j:[Rf("email"),Rf("emailLink",!0)]},Uc:{name:"signInWithPhoneNumber",j:[Rf("phoneNumber"),Bf()]},Vc:{name:"signInWithPopup",j:[Vf()]},Wc:{name:"signInWithRedirect",j:[Vf()]},bd:{name:"updateCurrentUser",j:[Gf({name:"user",J:"an instance of Firebase User",optional:!1,K:function(t){return!!(t&&t instanceof ch)}},Lf(),"user")]},wb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Rf(null,!0)]},dd:{name:"useDeviceLanguage",j:[]},fd:{name:"verifyPasswordResetCode",j:[Rf("code")]}}),zf($h.prototype,{lc:{name:"languageCode",gb:Gf(Rf(),Lf(),"languageCode")},ti:{name:"tenantId",gb:Gf(Rf(),Lf(),"tenantId")}}),($h.Persistence=Gu).LOCAL="local",$h.Persistence.SESSION="session",$h.Persistence.NONE="none",Wf(ch.prototype,{delete:{name:"delete",j:[]},mc:{name:"getIdTokenResult",j:[Df("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Df("opt_forceRefresh",!0)]},Ac:{name:"linkAndRetrieveDataWithCredential",j:[Mf()]},mb:{name:"linkWithCredential",j:[Mf()]},Bc:{name:"linkWithPhoneNumber",j:[Rf("phoneNumber"),Bf()]},Cc:{name:"linkWithPopup",j:[Vf()]},Dc:{name:"linkWithRedirect",j:[Vf()]},Jc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Mf()]},pb:{name:"reauthenticateWithCredential",j:[Mf()]},Kc:{name:"reauthenticateWithPhoneNumber",j:[Rf("phoneNumber"),Bf()]},Lc:{name:"reauthenticateWithPopup",j:[Vf()]},Mc:{name:"reauthenticateWithRedirect",j:[Vf()]},reload:{name:"reload",j:[]},qb:{name:"sendEmailVerification",j:[Gf(jf("opt_actionCodeSettings",!0),Lf(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Rf(null,!0)]},ad:{name:"unlink",j:[Rf("provider")]},xb:{name:"updateEmail",j:[Rf("email")]},yb:{name:"updatePassword",j:[Rf("password")]},cd:{name:"updatePhoneNumber",j:[Mf("phone")]},zb:{name:"updateProfile",j:[jf("profile")]},Ab:{name:"verifyBeforeUpdateEmail",j:[Rf("email"),Gf(jf("opt_actionCodeSettings",!0),Lf(null,!0),"opt_actionCodeSettings",!0)]}}),Wf(uf.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Wf(af.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Wf(ve.prototype,{ma:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),zf(Uc.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",gb:Df("appVerificationDisabledForTesting")}}),Wf(qc.prototype,{confirm:{name:"confirm",j:[Rf("verificationCode")]}}),Hf(eo,"fromJSON",function(t){t="string"==typeof t?JSON.parse(t):t;for(var e,n=[uo,_o,No,oo],r=0;r<n.length;r++)if(e=n[r](t))return e;return null},[Gf(Rf(),jf(),"json")]),Hf(Io,"credential",function(t,e){return new Eo(t,e)},[Rf("email"),Rf("password")]),Wf(Eo.prototype,{v:{name:"toJSON",j:[Rf(null,!0)]}}),Wf(lo.prototype,{Aa:{name:"addScope",j:[Rf("scope")]},Ia:{name:"setCustomParameters",j:[jf("customOAuthParameters")]}}),Hf(lo,"credential",po,[Gf(Rf(),jf(),"token")]),Hf(Io,"credentialWithLink",To,[Rf("email"),Rf("emailLink")]),Wf(vo.prototype,{Aa:{name:"addScope",j:[Rf("scope")]},Ia:{name:"setCustomParameters",j:[jf("customOAuthParameters")]}}),Hf(vo,"credential",yo,[Gf(Rf(),jf(),"token")]),Wf(go.prototype,{Aa:{name:"addScope",j:[Rf("scope")]},Ia:{name:"setCustomParameters",j:[jf("customOAuthParameters")]}}),Hf(go,"credential",mo,[Gf(Rf(),Gf(jf(),Lf()),"idToken"),Gf(Rf(),Lf(),"accessToken",!0)]),Wf(bo.prototype,{Ia:{name:"setCustomParameters",j:[jf("customOAuthParameters")]}}),Hf(bo,"credential",wo,[Gf(Rf(),jf(),"token"),Rf("secret",!0)]),Wf(fo.prototype,{Aa:{name:"addScope",j:[Rf("scope")]},credential:{name:"credential",j:[Gf(Rf(),Gf(jf(),Lf()),"optionsOrIdToken"),Gf(Rf(),Lf(),"accessToken",!0)]},Ia:{name:"setCustomParameters",j:[jf("customOAuthParameters")]}}),Wf(so.prototype,{v:{name:"toJSON",j:[Rf(null,!0)]}}),Wf(ro.prototype,{v:{name:"toJSON",j:[Rf(null,!0)]}}),Hf(ko,"credential",Po,[Rf("verificationId"),Rf("verificationCode")]),Wf(ko.prototype,{cb:{name:"verifyPhoneNumber",j:[Gf(Rf(),{name:"phoneInfoOptions",J:"valid phone info options",optional:!1,K:function(t){return!!t&&(t.session&&t.phoneNumber?Uf(t.session,Zi)&&"string"==typeof t.phoneNumber:t.session&&t.multiFactorHint?Uf(t.session,to)&&qf(t.multiFactorHint):t.session&&t.multiFactorUid?Uf(t.session,to)&&"string"==typeof t.multiFactorUid:!!t.phoneNumber&&"string"==typeof t.phoneNumber)}},"phoneInfoOptions"),Bf()]}}),Wf(Oo.prototype,{v:{name:"toJSON",j:[Rf(null,!0)]}}),Wf(_.prototype,{toJSON:{name:"toJSON",j:[Rf(null,!0)]}}),Wf(Vo.prototype,{toJSON:{name:"toJSON",j:[Rf(null,!0)]}}),Wf(Fo.prototype,{toJSON:{name:"toJSON",j:[Rf(null,!0)]}}),Wf(Kc.prototype,{toJSON:{name:"toJSON",j:[Rf(null,!0)]}}),Wf(Wc.prototype,{Pc:{name:"resolveSignIn",j:[Ff()]}}),Wf(Zc.prototype,{Ob:{name:"getSession",j:[]},dc:{name:"enroll",j:[Ff(),Rf("displayName",!0)]},$c:{name:"unenroll",j:[Gf({name:"multiFactorInfo",J:"a valid multiFactorInfo",optional:!1,K:qf},Rf(),"multiFactorInfoIdentifier")]}}),Wf(kf.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),Hf(pi,"parseLink",Ei,[Rf("link")]),Hf(df,"assertion",function(t){return new Jc(t)},[Mf("phone")]),function(){if(void 0===Xf.a||!Xf.a.INTERNAL||!Xf.a.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var t={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:ei,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:ti,VERIFY_AND_CHANGE_EMAIL:ni,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:$h,AuthCredential:eo,Error:_};Hf(t,"EmailAuthProvider",Io,[]),Hf(t,"FacebookAuthProvider",lo,[]),Hf(t,"GithubAuthProvider",vo,[]),Hf(t,"GoogleAuthProvider",go,[]),Hf(t,"TwitterAuthProvider",bo,[]),Hf(t,"OAuthProvider",fo,[Rf("providerId")]),Hf(t,"SAMLAuthProvider",ho,[Rf("providerId")]),Hf(t,"PhoneAuthProvider",ko,[{name:"auth",J:"an instance of Firebase Auth",optional:!0,K:function(t){return!!(t&&t instanceof $h)}}]),Hf(t,"RecaptchaVerifier",kf,[Gf(Rf(),{name:"",J:"an HTML element",optional:!1,K:function(t){return!!(t&&t instanceof Element)}},"recaptchaContainer"),jf("recaptchaParameters",!0),{name:"app",J:"an instance of Firebase App",optional:!0,K:function(t){return!!(t&&t instanceof Xf.a.app.App)}}]),Hf(t,"ActionCodeURL",pi,[]),Hf(t,"PhoneMultiFactorGenerator",df,[]),Xf.a.INTERNAL.registerComponent({name:"auth",instanceFactory:function(t){return new $h(t=t.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:t,instantiationMode:"LAZY",type:"PUBLIC"}),Xf.a.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(t){return{getUid:m((t=t.getProvider("auth").getImmediate()).getUid,t),getToken:m(t.kc,t),addAuthTokenListener:m(t.bc,t),removeAuthTokenListener:m(t.Nc,t)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),Xf.a.registerVersion("@firebase/auth","0.14.7"),Xf.a.INTERNAL.extendNamespace({User:ch})}()}).apply(void 0!==$f?$f:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})}).call(this,n(92))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,v=n(62),i=(r=n(1))&&"object"==typeof r&&"default"in r?r.default:r,l=n(128),f=n(91),o=n(127),p=n(319),d=i.SDK_VERSION,s=(a.prototype.t=function(){return null!=this.uid},a.prototype.s=function(){return this.t()?"uid:"+this.uid:"anonymous-user"},a.prototype.isEqual=function(t){return t.uid===this.uid},a);function a(t){this.uid=t}s.UNAUTHENTICATED=new s(null),s.i=new s("google-credentials-uid"),s.h=new s("first-party-uid");function u(t,e){this.user=e,this.type="OAuth",this.o={},this.o.Authorization="Bearer "+t}var c,h,y={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},g=(h=Error,v.__extends(j,h),j),m=(D.prototype.getToken=function(){return Promise.resolve(null)},D.prototype._=function(){},D.prototype.l=function(t){(this.u=t)(s.UNAUTHENTICATED)},D.prototype.T=function(){this.u=null},D),b=(R.prototype.getToken=function(){var e=this,n=this.A,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(function(t){return e.A!==n?(xn("FirebaseCredentialsProvider","getToken aborted due to token change."),e.getToken()):t?(Cn("string"==typeof t.accessToken),new u(t.accessToken,e.currentUser)):null}):Promise.resolve(null)},R.prototype._=function(){this.forceRefresh=!0},R.prototype.l=function(t){this.u=t,this.R&&t(this.currentUser)},R.prototype.T=function(){this.auth&&this.auth.removeAuthTokenListener(this.I),this.I=null,this.u=null},R.prototype.m=function(){var t=this.auth&&this.auth.getUid();return Cn(null===t||"string"==typeof t),new s(t)},R),w=(Object.defineProperty(x.prototype,"o",{get:function(){var t={"X-Goog-AuthUser":this.V},e=this.P.auth.g([]);return e&&(t.Authorization=e),t},enumerable:!0,configurable:!0}),x),E=(P.prototype.getToken=function(){return Promise.resolve(new w(this.P,this.V))},P.prototype.l=function(t){t(s.h)},P.prototype.T=function(){},P.prototype._=function(){},P),_=(k.now=function(){return k.fromMillis(Date.now())},k.fromDate=function(t){return k.fromMillis(t.getTime())},k.fromMillis=function(t){var e=Math.floor(t/1e3);return new k(e,1e6*(t-1e3*e))},k.prototype.toDate=function(){return new Date(this.toMillis())},k.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},k.prototype.p=function(t){return this.seconds===t.seconds?Fn(this.nanoseconds,t.nanoseconds):Fn(this.seconds,t.seconds)},k.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},k.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},k.prototype.valueOf=function(){var t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},k),O=(A.v=function(t){return new A(t)},A.min=function(){return new A(new _(0,0))},A.prototype.S=function(t){return this.timestamp.p(t.timestamp)},A.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},A.prototype.D=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},A.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},A.prototype.C=function(){return this.timestamp},A),I=(Object.defineProperty(N.prototype,"length",{get:function(){return this.F},enumerable:!0,configurable:!0}),N.prototype.isEqual=function(t){return 0===N.N(this,t)},N.prototype.child=function(t){var e=this.segments.slice(this.offset,this.limit());return t instanceof N?t.forEach(function(t){e.push(t)}):e.push(t),this.k(e)},N.prototype.limit=function(){return this.offset+this.length},N.prototype.M=function(t){return t=void 0===t?1:t,this.k(this.segments,this.offset+t,this.length-t)},N.prototype.$=function(){return this.k(this.segments,this.offset,this.length-1)},N.prototype.O=function(){return this.segments[this.offset]},N.prototype.L=function(){return this.get(this.length-1)},N.prototype.get=function(t){return this.segments[this.offset+t]},N.prototype.B=function(){return 0===this.length},N.prototype.q=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},N.prototype.U=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},N.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},N.prototype.W=function(){return this.segments.slice(this.offset,this.limit())},N.N=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(o<i)return 1}return t.length<e.length?-1:t.length>e.length?1:0},N),T=(c=I,v.__extends(S,c),S.prototype.k=function(t,e,n){return new S(t,e,n)},S.prototype.j=function(){return this.W().join("/")},S.prototype.toString=function(){return this.j()},S.K=function(t){if(0<=t.indexOf("//"))throw new g(y.INVALID_ARGUMENT,"Invalid path ("+t+"). Paths must not contain // in them.");return new S(t.split("/").filter(function(t){return 0<t.length}))},S);function S(){return null!==c&&c.apply(this,arguments)||this}function N(t,e,n){void 0===e?e=0:e>t.length&&jn(),void 0===n?n=t.length-e:n>t.length-e&&jn(),this.segments=t,this.offset=e,this.F=n}function A(t){this.timestamp=t}function k(t,e){if(this.seconds=t,(this.nanoseconds=e)<0)throw new g(y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(1e9<=e)throw new g(y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new g(y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(253402300800<=t)throw new g(y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}function P(t,e){this.P=t,this.V=e}function x(t,e){this.P=t,this.V=e,this.type="FirstParty",this.user=s.h}function R(t){var e=this;this.I=null,this.currentUser=s.UNAUTHENTICATED,this.R=!1,this.A=0,this.u=null,this.forceRefresh=!1,this.I=function(){e.A++,e.currentUser=e.m(),e.R=!0,e.u&&e.u(e.currentUser)},this.A=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.I):(this.I(null),t.get().then(function(t){e.auth=t,e.I&&e.auth.addAuthTokenListener(e.I)},function(){}))}function D(){this.u=null}function j(t,e){var n=this;return(n=h.call(this,e)||this).code=t,n.message=e,n.name="FirebaseError",n.toString=function(){return n.name+": [code="+n.code+"]: "+n.message},n}T.G=new T([]);var C,L=/^[_a-zA-Z][_a-zA-Z0-9]*$/,M=(C=I,v.__extends(F,C),F.prototype.k=function(t,e,n){return new F(t,e,n)},F.H=function(t){return L.test(t)},F.prototype.j=function(){return this.W().map(function(t){return t=t.replace("\\","\\\\").replace("`","\\`"),F.H(t)||(t="`"+t+"`"),t}).join(".")},F.prototype.toString=function(){return this.j()},F.prototype.Y=function(){return 1===this.length&&"__name__"===this.get(0)},F.J=function(){return new F(["__name__"])},F.X=function(t){for(var e=[],n="",r=0,i=function(){if(0===n.length)throw new g(y.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");e.push(n),n=""},o=!1;r<t.length;){var s=t[r];if("\\"===s){if(r+1===t.length)throw new g(y.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var a=t[r+1];if("\\"!==a&&"."!==a&&"`"!==a)throw new g(y.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);n+=a,r+=2}else"`"===s?o=!o:"."!==s||o?n+=s:i(),r++}if(i(),o)throw new g(y.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new F(e)},F);function F(){return null!==C&&C.apply(this,arguments)||this}M.G=new M([]);var V=(U.Z=function(t){return new U(T.K(t).M(5))},U.prototype.tt=function(t){return 2<=this.path.length&&this.path.get(this.path.length-2)===t},U.prototype.isEqual=function(t){return null!==t&&0===T.N(this.path,t.path)},U.prototype.toString=function(){return this.path.toString()},U.N=function(t,e){return T.N(t.path,e.path)},U.et=function(t){return t.length%2==0},U.st=function(t){return new U(new T(t.slice()))},U);function U(t){this.path=t}function q(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function B(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function G(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}V.EMPTY=new V(new T([]));var W=(z.fromBase64String=function(t){return new z(Nn.nt().atob(t))},z.fromUint8Array=function(t){return new z(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(t))},z.prototype.toBase64=function(){return Nn.nt().btoa(this.it)},z.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.it)},z.prototype.rt=function(){return 2*this.it.length},z.prototype.S=function(t){return Fn(this.it,t.it)},z.prototype.isEqual=function(t){return this.it===t.it},z);function z(t){this.it=t}function H(t){return null==t}function K(t){return-0===t&&1/t==-1/0}function $(t){return"number"==typeof t&&Number.isInteger(t)&&!K(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}function X(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Y(t){var e=it(t.mapValue.fields.__local_write_time__.timestampValue);return new _(e.seconds,e.nanos)}W.ht=new W("");var J=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Q(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?X(t)?4:10:jn()}function Z(r,i){var t,e,n,o=Q(r);if(o!==Q(i))return!1;switch(o){case 0:return!0;case 1:return r.booleanValue===i.booleanValue;case 4:return Y(r).isEqual(Y(i));case 3:return function(t){if("string"==typeof r.timestampValue&&"string"==typeof t.timestampValue&&r.timestampValue.length===t.timestampValue.length)return r.timestampValue===t.timestampValue;var e=it(r.timestampValue),n=it(t.timestampValue);return e.seconds===n.seconds&&e.nanos===n.nanos}(i);case 5:return r.stringValue===i.stringValue;case 6:return n=i,st(r.bytesValue).isEqual(st(n.bytesValue));case 7:return r.referenceValue===i.referenceValue;case 8:return e=i,ot((t=r).geoPointValue.latitude)===ot(e.geoPointValue.latitude)&&ot(t.geoPointValue.longitude)===ot(e.geoPointValue.longitude);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return ot(t.integerValue)===ot(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=ot(t.doubleValue),r=ot(e.doubleValue);return n===r?K(n)===K(r):isNaN(n)&&isNaN(r)}return!1}(r,i);case 9:return Vn(r.arrayValue.values||[],i.arrayValue.values||[],Z);case 10:return function(){var t=r.mapValue.fields||{},e=i.mapValue.fields||{};if(q(t)!==q(e))return!1;for(var n in t)if(t.hasOwnProperty(n)&&(void 0===e[n]||!Z(t[n],e[n])))return!1;return!0}();default:return jn()}}function tt(t,e){return void 0!==(t.values||[]).find(function(t){return Z(t,e)})}function et(t,e){var n,r,i,o,s,a,u,c,h,f,l=Q(t),p=Q(e);if(l!==p)return Fn(l,p);switch(l){case 0:return 0;case 1:return Fn(t.booleanValue,e.booleanValue);case 2:return c=e,h=ot(t.integerValue||t.doubleValue),f=ot(c.integerValue||c.doubleValue),h<f?-1:f<h?1:h===f?0:isNaN(h)?isNaN(f)?0:-1:1;case 3:return nt(t.timestampValue,e.timestampValue);case 4:return nt(Y(t),Y(e));case 5:return Fn(t.stringValue,e.stringValue);case 6:return o=t.bytesValue,s=e.bytesValue,a=st(o),u=st(s),a.S(u);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=Fn(n[i],r[i]);if(0!==o)return o}return Fn(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return n=t.geoPointValue,r=e.geoPointValue,0!==(i=Fn(ot(n.latitude),ot(r.latitude)))?i:Fn(ot(n.longitude),ot(r.longitude));case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=et(n[i],r[i]);if(o)return o}return Fn(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var s=0;s<r.length&&s<o.length;++s){var a=Fn(r[s],o[s]);if(0!==a)return a;var u=et(n[r[s]],i[o[s]]);if(0!==u)return u}return Fn(r.length,o.length)}(t.mapValue,e.mapValue);default:throw jn()}}function nt(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Fn(t,e);var n=it(t),r=it(e),i=Fn(n.seconds,r.seconds);return 0!==i?i:Fn(n.nanos,r.nanos)}function rt(t){return function s(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?"time("+(t=it(i.timestampValue)).seconds+","+t.nanos+")":"stringValue"in i?i.stringValue:"bytesValue"in i?st(i.bytesValue).toBase64():"referenceValue"in i?(n=i.referenceValue,V.Z(n).toString()):"geoPointValue"in i?"geo("+(e=i.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in i?function(){for(var t="[",e=!0,n=0,r=i.arrayValue.values||[];n<r.length;n++){e?e=!1:t+=",",t+=s(r[n])}return t+"]"}():"mapValue"in i?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:e+=",",e+=o+":"+s(t.fields[o])}return e+"}"}(i.mapValue):jn();var t,e,n}(t)}function it(t){if(Cn(!!t),"string"!=typeof t)return{seconds:ot(t.seconds),nanos:ot(t.nanos)};var e,n=0,r=J.exec(t);Cn(!!r),r[1]&&(e=((e=r[1])+"000000000").substr(0,9),n=Number(e));var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:n}}function ot(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function st(t){return"string"==typeof t?W.fromBase64String(t):W.fromUint8Array(t)}function at(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.j()}}function ut(t){return t&&"integerValue"in t}function ct(t){return!!t&&"arrayValue"in t}function ht(t){return t&&"nullValue"in t}function ft(t){return t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function lt(t){return t&&"mapValue"in t}var pt=(dt.prototype.ot=function(t,e){return n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}},t&&(n.fields.__previous_value__=t),{mapValue:n};var n},dt.prototype.at=function(t,e){return e},dt.prototype.ut=function(t){return null},dt.prototype.isEqual=function(t){return t instanceof dt},dt);function dt(){}pt.instance=new pt;var vt=(wt.prototype.ot=function(t,e){return this.apply(t)},wt.prototype.at=function(t,e){return this.apply(t)},wt.prototype.apply=function(t){for(var n=Et(t),e=0,r=this.elements;e<r.length;e++)!function(e){n.some(function(t){return Z(t,e)})||n.push(e)}(r[e]);return{arrayValue:{values:n}}},wt.prototype.ut=function(t){return null},wt.prototype.isEqual=function(t){return t instanceof wt&&Vn(this.elements,t.elements,Z)},wt),yt=(bt.prototype.ot=function(t,e){return this.apply(t)},bt.prototype.at=function(t,e){return this.apply(t)},bt.prototype.apply=function(t){for(var n=Et(t),e=0,r=this.elements;e<r.length;e++)!function(e){n=n.filter(function(t){return!Z(t,e)})}(r[e]);return{arrayValue:{values:n}}},bt.prototype.ut=function(t){return null},bt.prototype.isEqual=function(t){return t instanceof bt&&Vn(this.elements,t.elements,Z)},bt),gt=(mt.prototype.ot=function(t,e){var n=this.ut(t),r=this.asNumber(n)+this.asNumber(this.ct);return ut(n)&&ut(this.ct)?this.serializer._t(r):this.serializer.lt(r)},mt.prototype.at=function(t,e){return e},mt.prototype.ut=function(t){return ut(e=t)||e&&"doubleValue"in e?t:{integerValue:0};var e},mt.prototype.isEqual=function(t){return t instanceof mt&&Z(this.ct,t.ct)},mt.prototype.asNumber=function(t){return ot(t.integerValue||t.doubleValue)},mt);function mt(t,e){this.serializer=t,this.ct=e}function bt(t){this.elements=t}function wt(t){this.elements=t}function Et(t){return ct(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function _t(t,e){this.version=t,this.transformResults=e}var It,Tt,St,Ot,Nt,At=(Xt.prototype.dt=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].q(t))return!0;return!1},Xt.prototype.isEqual=function(t){return Vn(this.fields,t.fields,function(t,e){return t.isEqual(e)})},Xt),kt=($t.prototype.isEqual=function(t){return this.field.isEqual(t.field)&&this.transform.isEqual(t.transform)},$t),Pt=(Kt.ft=function(){return new Kt},Kt.exists=function(t){return new Kt(void 0,t)},Kt.updateTime=function(t){return new Kt(t)},Object.defineProperty(Kt.prototype,"Tt",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!0,configurable:!0}),Kt.prototype.Et=function(t){return void 0!==this.updateTime?t instanceof ce&&t.version.isEqual(this.updateTime):void 0===this.exists||this.exists===t instanceof ce},Kt.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},Kt),xt=(Ht.prototype.It=function(t){},Ht.wt=function(t){return t instanceof ce?t.version:O.min()},Ht),Rt=(Nt=xt,v.__extends(zt,Nt),zt.prototype.at=function(t,e){this.It(t);var n=e.version;return new ce(this.key,n,this.value,{hasCommittedMutations:!0})},zt.prototype.ot=function(t,e,n){if(this.It(t),!this.Rt.Et(t))return t;var r=xt.wt(t);return new ce(this.key,r,this.value,{At:!0})},zt.prototype.Pt=function(t){return null},zt.prototype.isEqual=function(t){return t instanceof zt&&this.key.isEqual(t.key)&&this.value.isEqual(t.value)&&this.Rt.isEqual(t.Rt)},zt),Dt=(Ot=xt,v.__extends(Wt,Ot),Wt.prototype.at=function(t,e){if(this.It(t),!this.Rt.Et(t))return new fe(this.key,e.version);var n=this.gt(t);return new ce(this.key,e.version,n,{hasCommittedMutations:!0})},Wt.prototype.ot=function(t,e,n){if(this.It(t),!this.Rt.Et(t))return t;var r=xt.wt(t),i=this.gt(t);return new ce(this.key,r,i,{At:!0})},Wt.prototype.Pt=function(t){return null},Wt.prototype.isEqual=function(t){return t instanceof Wt&&this.key.isEqual(t.key)&&this.Vt.isEqual(t.Vt)&&this.Rt.isEqual(t.Rt)},Wt.prototype.gt=function(t){var e=t instanceof ce?t.data():Mt.empty();return this.pt(e)},Wt.prototype.pt=function(t){var n=this,r=new Ft(t);return this.Vt.fields.forEach(function(t){var e;t.B()||(null!==(e=n.data.field(t))?r.set(t,e):r.delete(t))}),r.yt()},Wt),jt=(St=xt,v.__extends(Gt,St),Gt.prototype.at=function(t,e){if(this.It(t),Cn(null!=e.transformResults),!this.Rt.Et(t))return new fe(this.key,e.version);var n=this.bt(t),r=this.vt(t,e.transformResults),i=e.version,o=this.St(n.data(),r);return new ce(this.key,i,o,{hasCommittedMutations:!0})},Gt.prototype.ot=function(t,e,n){if(this.It(t),!this.Rt.Et(t))return t;var r=this.bt(t),i=this.Dt(n,t,e),o=this.St(r.data(),i);return new ce(this.key,r.version,o,{At:!0})},Gt.prototype.Pt=function(t){for(var e=null,n=0,r=this.fieldTransforms;n<r.length;n++){var i=r[n],o=t instanceof ce?t.field(i.field):void 0,s=i.transform.ut(o||null);null!=s&&(e=null==e?(new Ft).set(i.field,s):e.set(i.field,s))}return e?e.yt():null},Gt.prototype.isEqual=function(t){return t instanceof Gt&&this.key.isEqual(t.key)&&Vn(this.fieldTransforms,t.fieldTransforms,function(t,e){return t.isEqual(e)})&&this.Rt.isEqual(t.Rt)},Gt.prototype.bt=function(t){return t},Gt.prototype.vt=function(t,e){var n=[];Cn(this.fieldTransforms.length===e.length);for(var r=0;r<e.length;r++){var i=this.fieldTransforms[r],o=i.transform,s=null;t instanceof ce&&(s=t.field(i.field)),n.push(o.at(s,e[r]))}return n},Gt.prototype.Dt=function(t,e,n){for(var r=[],i=0,o=this.fieldTransforms;i<o.length;i++){var s=o[i],a=s.transform,u=null;e instanceof ce&&(u=e.field(s.field)),null===u&&n instanceof ce&&(u=n.field(s.field)),r.push(a.ot(u,t))}return r},Gt.prototype.St=function(t,e){for(var n=new Ft(t),r=0;r<this.fieldTransforms.length;r++){var i=this.fieldTransforms[r].field;n.set(i,e[r])}return n.yt()},Gt),Ct=(Tt=xt,v.__extends(Bt,Tt),Bt.prototype.at=function(t,e){return this.It(t),new he(this.key,e.version,{hasCommittedMutations:!0})},Bt.prototype.ot=function(t,e,n){return this.It(t),this.Rt.Et(t)?new he(this.key,O.min()):t},Bt.prototype.Pt=function(t){return null},Bt.prototype.isEqual=function(t){return t instanceof Bt&&this.key.isEqual(t.key)&&this.Rt.isEqual(t.Rt)},Bt),Lt=(It=xt,v.__extends(qt,It),qt.prototype.at=function(t,e){jn()},qt.prototype.ot=function(t,e,n){jn()},qt.prototype.Pt=function(t){jn()},qt.prototype.isEqual=function(t){return t instanceof qt&&this.key.isEqual(t.key)&&this.Rt.isEqual(t.Rt)},qt),Mt=(Ut.empty=function(){return new Ut({mapValue:{}})},Ut.prototype.field=function(t){if(t.B())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!lt(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t.L()])||null},Ut.prototype.isEqual=function(t){return Z(this.proto,t.proto)},Ut),Ft=(Vt.prototype.set=function(t,e){return this.Nt(t,e),this},Vt.prototype.delete=function(t){return this.Nt(t,null),this},Vt.prototype.Nt=function(t,e){for(var n=this.Ft,r=0;r<t.length-1;++r)var i=t.get(r),o=n.get(i),n=(o instanceof Map||(o=o&&10===Q(o)?new Map(Object.entries(o.mapValue.fields||{})):new Map,n.set(i,o)),o);n.set(t.L(),e)},Vt.prototype.yt=function(){var t=this.kt(M.G,this.Ft);return null!=t?new Mt(t):this.Ct},Vt.prototype.kt=function(r,t){var i=this,o=!1,e=this.Ct.field(r),s=lt(e)?Object.assign({},e.mapValue.fields):{};return t.forEach(function(t,e){var n;t instanceof Map?null!=(n=i.kt(r.child(e),t))&&(s[e]=n,o=!0):null!==t?(s[e]=t,o=!0):s.hasOwnProperty(e)&&(delete s[e],o=!0)}),o?{mapValue:{fields:s}}:null},Vt);function Vt(t){void 0===t&&(t=Mt.empty()),this.Ct=t,this.Ft=new Map}function Ut(t){this.proto=t}function qt(t,e){var n=this;return(n=It.call(this)||this).key=t,n.Rt=e,n.type=4,n}function Bt(t,e){var n=this;return(n=Tt.call(this)||this).key=t,n.Rt=e,n.type=3,n}function Gt(t,e){var n=this;return(n=St.call(this)||this).key=t,n.fieldTransforms=e,n.type=2,n.Rt=Pt.exists(!0),n}function Wt(t,e,n,r){var i=this;return(i=Ot.call(this)||this).key=t,i.data=e,i.Vt=n,i.Rt=r,i.type=1,i}function zt(t,e,n){var r=this;return(r=Nt.call(this)||this).key=t,r.value=e,r.Rt=n,r.type=0,r}function Ht(){}function Kt(t,e){this.updateTime=t,this.exists=e}function $t(t,e){this.field=t,this.transform=e}function Xt(t){(this.fields=t).sort(M.N)}function Yt(t,e){this.key=t,this.version=e}function Jt(t){this.count=t}var Qt,Zt,te,ee,ne,re,ie,oe,se,ae,ue,ce=(ue=Yt,v.__extends(Le,ue),Le.prototype.field=function(t){return this.Mt.field(t)},Le.prototype.data=function(){return this.Mt},Le.prototype.xt=function(){return this.Mt.proto},Le.prototype.isEqual=function(t){return t instanceof Le&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.At===t.At&&this.hasCommittedMutations===t.hasCommittedMutations&&this.Mt.isEqual(t.Mt)},Le.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.Mt.toString()+", {hasLocalMutations: "+this.At+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(Le.prototype,"hasPendingWrites",{get:function(){return this.At||this.hasCommittedMutations},enumerable:!0,configurable:!0}),Le),he=(ae=Yt,v.__extends(Ce,ae),Ce.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(Ce.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!0,configurable:!0}),Ce.prototype.isEqual=function(t){return t instanceof Ce&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},Ce),fe=(se=Yt,v.__extends(je,se),je.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(je.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!0,configurable:!0}),je.prototype.isEqual=function(t){return t instanceof je&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},je),le=(De.prototype.canonicalId=function(){var t;return null===this.$t&&(t=this.path.j(),null!==this.collectionGroup&&(t+="|cg:"+this.collectionGroup),t+="|f:",t+=this.filters.map(function(t){return t.canonicalId()}).join(","),t+="|ob:",t+=this.orderBy.map(function(t){return t.canonicalId()}).join(","),H(this.limit)||(t+="|l:",t+=this.limit),this.startAt&&(t+="|lb:",t+=this.startAt.canonicalId()),this.endAt&&(t+="|ub:",t+=this.endAt.canonicalId()),this.$t=t),this.$t},De.prototype.toString=function(){var t=this.path.j();return null!==this.collectionGroup&&(t+=" collectionGroup="+this.collectionGroup),0<this.filters.length&&(t+=", filters: ["+this.filters.join(", ")+"]"),H(this.limit)||(t+=", limit: "+this.limit),0<this.orderBy.length&&(t+=", orderBy: ["+this.orderBy.join(", ")+"]"),this.startAt&&(t+=", startAt: "+this.startAt.canonicalId()),this.endAt&&(t+=", endAt: "+this.endAt.canonicalId()),"Target("+t+")"},De.prototype.isEqual=function(t){if(this.limit!==t.limit)return!1;if(this.orderBy.length!==t.orderBy.length)return!1;for(var e=0;e<this.orderBy.length;e++)if(!this.orderBy[e].isEqual(t.orderBy[e]))return!1;if(this.filters.length!==t.filters.length)return!1;for(var n=0;n<this.filters.length;n++)if(!this.filters[n].isEqual(t.filters[n]))return!1;return this.collectionGroup===t.collectionGroup&&!!this.path.isEqual(t.path)&&!!(null!==this.startAt?this.startAt.isEqual(t.startAt):null===t.startAt)&&(null!==this.endAt?this.endAt.isEqual(t.endAt):null===t.endAt)},De.prototype.Ot=function(){return V.et(this.path)&&null===this.collectionGroup&&0===this.filters.length},De),pe=(Re.Wt=function(t){return new Re(t)},Object.defineProperty(Re.prototype,"orderBy",{get:function(){if(null===this.qt){this.qt=[];var t=this.jt(),e=this.Kt();if(null!==t&&null===e)t.Y()||this.qt.push(new Ee(t)),this.qt.push(new Ee(M.J(),"asc"));else{for(var n,r=!1,i=0,o=this.Lt;i<o.length;i++){var s=o[i];this.qt.push(s),s.field.Y()&&(r=!0)}r||(n=0<this.Lt.length?this.Lt[this.Lt.length-1].dir:"asc",this.qt.push(new Ee(M.J(),n)))}}return this.qt},enumerable:!0,configurable:!0}),Re.prototype.Gt=function(t){var e=this.filters.concat([t]);return new Re(this.path,this.collectionGroup,this.Lt.slice(),e,this.limit,this.Bt,this.startAt,this.endAt)},Re.prototype.zt=function(t){var e=this.Lt.concat([t]);return new Re(this.path,this.collectionGroup,e,this.filters.slice(),this.limit,this.Bt,this.startAt,this.endAt)},Re.prototype.Ht=function(t){return new Re(this.path,this.collectionGroup,this.Lt.slice(),this.filters.slice(),t,"F",this.startAt,this.endAt)},Re.prototype.Yt=function(t){return new Re(this.path,this.collectionGroup,this.Lt.slice(),this.filters.slice(),t,"L",this.startAt,this.endAt)},Re.prototype.Jt=function(t){return new Re(this.path,this.collectionGroup,this.Lt.slice(),this.filters.slice(),this.limit,this.Bt,t,this.endAt)},Re.prototype.Xt=function(t){return new Re(this.path,this.collectionGroup,this.Lt.slice(),this.filters.slice(),this.limit,this.Bt,this.startAt,t)},Re.prototype.Zt=function(t){return new Re(t,null,this.Lt.slice(),this.filters.slice(),this.limit,this.Bt,this.startAt,this.endAt)},Re.prototype.te=function(){return 0===this.filters.length&&null===this.limit&&null==this.startAt&&null==this.endAt&&(0===this.Lt.length||1===this.Lt.length&&this.Lt[0].field.Y())},Re.prototype.canonicalId=function(){return this.ee().canonicalId()+"|lt:"+this.Bt},Re.prototype.toString=function(){return"Query(target="+this.ee().toString()+"; limitType="+this.Bt+")"},Re.prototype.isEqual=function(t){return this.ee().isEqual(t.ee())&&this.Bt===t.Bt},Re.prototype.se=function(t,e){for(var n=!1,r=0,i=this.orderBy;r<i.length;r++){var o=i[r],s=o.compare(t,e);if(0!==s)return s;n=n||o.field.Y()}return 0},Re.prototype.matches=function(t){return this.ie(t)&&this.ne(t)&&this.re(t)&&this.he(t)},Re.prototype.oe=function(){return!H(this.limit)&&"F"===this.Bt},Re.prototype.ae=function(){return!H(this.limit)&&"L"===this.Bt},Re.prototype.Kt=function(){return 0<this.Lt.length?this.Lt[0].field:null},Re.prototype.jt=function(){for(var t=0,e=this.filters;t<e.length;t++){var n=e[t];if(n instanceof de&&n.ue())return n.field}return null},Re.prototype.ce=function(t){for(var e=0,n=this.filters;e<n.length;e++){var r=n[e];if(r instanceof de&&0<=t.indexOf(r.op))return r.op}return null},Re.prototype.Ot=function(){return this.ee().Ot()},Re.prototype._e=function(){return null!==this.collectionGroup},Re.prototype.ee=function(){if(!this.Ut)if("F"===this.Bt)this.Ut=new le(this.path,this.collectionGroup,this.orderBy,this.filters,this.limit,this.startAt,this.endAt);else{for(var t=[],e=0,n=this.orderBy;e<n.length;e++){var r=n[e],i="desc"===r.dir?"asc":"desc";t.push(new Ee(r.field,i))}var o=this.endAt?new we(this.endAt.position,!this.endAt.before):null,s=this.startAt?new we(this.startAt.position,!this.startAt.before):null;this.Ut=new le(this.path,this.collectionGroup,t,this.filters,this.limit,o,s)}return this.Ut},Re.prototype.ie=function(t){var e=t.key.path;return null!==this.collectionGroup?t.key.tt(this.collectionGroup)&&this.path.q(e):V.et(this.path)?this.path.isEqual(e):this.path.U(e)},Re.prototype.ne=function(t){for(var e=0,n=this.Lt;e<n.length;e++){var r=n[e];if(!r.field.Y()&&null===t.field(r.field))return!1}return!0},Re.prototype.re=function(t){for(var e=0,n=this.filters;e<n.length;e++)if(!n[e].matches(t))return!1;return!0},Re.prototype.he=function(t){return!(this.startAt&&!this.startAt.le(this.orderBy,t)||this.endAt&&this.endAt.le(this.orderBy,t))},Re.prototype.Qt=function(t){},Re),de=(oe=function(){},v.__extends(xe,oe),xe.create=function(t,e,n){if(t.Y())return"in"===e?new ye(t,n):new ve(t,e,n);if(ht(n)){if("=="!==e)throw new g(y.INVALID_ARGUMENT,"Invalid query. Null supports only equality comparisons.");return new xe(t,e,n)}if(ft(n)){if("=="!==e)throw new g(y.INVALID_ARGUMENT,"Invalid query. NaN supports only equality comparisons.");return new xe(t,e,n)}return"array-contains"===e?new ge(t,n):"in"===e?new me(t,n):"array-contains-any"===e?new be(t,n):new xe(t,e,n)},xe.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&Q(this.value)===Q(e)&&this.de(et(e,this.value))},xe.prototype.de=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case">":return 0<t;case">=":return 0<=t;default:return jn()}},xe.prototype.ue=function(){return 0<=["<","<=",">",">="].indexOf(this.op)},xe.prototype.canonicalId=function(){return this.field.j()+this.op.toString()+rt(this.value)},xe.prototype.isEqual=function(t){return t instanceof xe&&this.op===t.op&&this.field.isEqual(t.field)&&Z(this.value,t.value)},xe.prototype.toString=function(){return this.field.j()+" "+this.op+" "+rt(this.value)},xe),ve=(ie=de,v.__extends(Pe,ie),Pe.prototype.matches=function(t){var e=V.N(t.key,this.key);return this.de(e)},Pe),ye=(re=de,v.__extends(ke,re),ke.prototype.matches=function(e){return this.keys.some(function(t){return t.isEqual(e.key)})},ke),ge=(ne=de,v.__extends(Ae,ne),Ae.prototype.matches=function(t){var e=t.field(this.field);return ct(e)&&tt(e.arrayValue,this.value)},Ae),me=(ee=de,v.__extends(Ne,ee),Ne.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&tt(this.value.arrayValue,e)},Ne),be=(te=de,v.__extends(Oe,te),Oe.prototype.matches=function(t){var e=this,n=t.field(this.field);return!(!ct(n)||!n.arrayValue.values)&&n.arrayValue.values.some(function(t){return tt(e.value.arrayValue,t)})},Oe),we=(Se.prototype.canonicalId=function(){return(this.before?"b":"a")+":"+this.position.map(rt).join(",")},Se.prototype.le=function(t,e){for(var n=0,r=0;r<this.position.length;r++){var i=t[r],o=this.position[r],n=i.field.Y()?V.N(V.Z(o.referenceValue),e.key):et(o,e.field(i.field));if("desc"===i.dir&&(n*=-1),0!==n)break}return this.before?n<=0:n<0},Se.prototype.isEqual=function(t){if(null===t)return!1;if(this.before!==t.before||this.position.length!==t.position.length)return!1;for(var e=0;e<this.position.length;e++)if(!Z(this.position[e],t.position[e]))return!1;return!0},Se),Ee=(Te.prototype.compare=function(t,e){var n,r,i,o,s=this.fe?V.N(t.key,e.key):(n=this.field,r=e,i=t.field(n),o=r.field(n),null!==i&&null!==o?et(i,o):jn());switch(this.dir){case"asc":return s;case"desc":return-1*s;default:return jn()}},Te.prototype.canonicalId=function(){return this.field.j()+this.dir.toString()},Te.prototype.toString=function(){return this.field.j()+" ("+this.dir+")"},Te.prototype.isEqual=function(t){return this.dir===t.dir&&this.field.isEqual(t.field)},Te),_e=(Ie.prototype.Ie=function(t){return new Ie(this.target,this.targetId,this.Te,t,this.Ee,this.lastLimboFreeSnapshotVersion,this.resumeToken)},Ie.prototype.we=function(t,e){return new Ie(this.target,this.targetId,this.Te,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t)},Ie.prototype.Re=function(t){return new Ie(this.target,this.targetId,this.Te,this.sequenceNumber,this.Ee,t,this.resumeToken)},Ie);function Ie(t,e,n,r,i,o,s){void 0===i&&(i=O.min()),void 0===o&&(o=O.min()),void 0===s&&(s=W.ht),this.target=t,this.targetId=e,this.Te=n,this.sequenceNumber=r,this.Ee=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}function Te(t,e){this.field=t,void 0===e&&(e="asc"),this.dir=e,this.fe=t.Y()}function Se(t,e){this.position=t,this.before=e}function Oe(t,e){return te.call(this,t,"array-contains-any",e)||this}function Ne(t,e){return ee.call(this,t,"in",e)||this}function Ae(t,e){return ne.call(this,t,"array-contains",e)||this}function ke(t,e){var n=this;return(n=re.call(this,t,"in",e)||this).keys=(e.arrayValue.values||[]).map(function(t){return V.Z(t.referenceValue)}),n}function Pe(t,e,n){var r=this;return(r=ie.call(this,t,e,n)||this).key=V.Z(n.referenceValue),r}function xe(t,e,n){var r=this;return(r=oe.call(this)||this).field=t,r.op=e,r.value=n,r}function Re(t,e,n,r,i,o,s,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===s&&(s=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.Lt=n,this.filters=r,this.limit=i,this.Bt=o,this.startAt=s,this.endAt=a,this.qt=null,this.Ut=null,this.startAt&&this.Qt(this.startAt),this.endAt&&this.Qt(this.endAt)}function De(t,e,n,r,i,o,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.$t=null}function je(){return null!==se&&se.apply(this,arguments)||this}function Ce(t,e,n){var r=this;return(r=ae.call(this,t,e)||this).hasCommittedMutations=!(!n||!n.hasCommittedMutations),r}function Le(t,e,n,r){var i=this;return(i=ue.call(this,t,e)||this).Mt=n,i.At=!!r.At,i.hasCommittedMutations=!!r.hasCommittedMutations,i}function Me(t){switch(t){case y.OK:return jn(),0;case y.CANCELLED:case y.UNKNOWN:case y.DEADLINE_EXCEEDED:case y.RESOURCE_EXHAUSTED:case y.INTERNAL:case y.UNAVAILABLE:case y.UNAUTHENTICATED:return;case y.INVALID_ARGUMENT:case y.NOT_FOUND:case y.ALREADY_EXISTS:case y.PERMISSION_DENIED:case y.FAILED_PRECONDITION:case y.ABORTED:case y.OUT_OF_RANGE:case y.UNIMPLEMENTED:case y.DATA_LOSS:return 1;default:return jn(),0}}function Fe(t){if(void 0===t)return Rn("GRPC error has no .code"),y.UNKNOWN;switch(t){case Qt.OK:return y.OK;case Qt.CANCELLED:return y.CANCELLED;case Qt.UNKNOWN:return y.UNKNOWN;case Qt.DEADLINE_EXCEEDED:return y.DEADLINE_EXCEEDED;case Qt.RESOURCE_EXHAUSTED:return y.RESOURCE_EXHAUSTED;case Qt.INTERNAL:return y.INTERNAL;case Qt.UNAVAILABLE:return y.UNAVAILABLE;case Qt.UNAUTHENTICATED:return y.UNAUTHENTICATED;case Qt.INVALID_ARGUMENT:return y.INVALID_ARGUMENT;case Qt.NOT_FOUND:return y.NOT_FOUND;case Qt.ALREADY_EXISTS:return y.ALREADY_EXISTS;case Qt.PERMISSION_DENIED:return y.PERMISSION_DENIED;case Qt.FAILED_PRECONDITION:return y.FAILED_PRECONDITION;case Qt.ABORTED:return y.ABORTED;case Qt.OUT_OF_RANGE:return y.OUT_OF_RANGE;case Qt.UNIMPLEMENTED:return y.UNIMPLEMENTED;case Qt.DATA_LOSS:return y.DATA_LOSS;default:return jn()}}(Zt=Qt=Qt||{})[Zt.OK=0]="OK",Zt[Zt.CANCELLED=1]="CANCELLED",Zt[Zt.UNKNOWN=2]="UNKNOWN",Zt[Zt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Zt[Zt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Zt[Zt.NOT_FOUND=5]="NOT_FOUND",Zt[Zt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Zt[Zt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Zt[Zt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Zt[Zt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Zt[Zt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Zt[Zt.ABORTED=10]="ABORTED",Zt[Zt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Zt[Zt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Zt[Zt.INTERNAL=13]="INTERNAL",Zt[Zt.UNAVAILABLE=14]="UNAVAILABLE",Zt[Zt.DATA_LOSS=15]="DATA_LOSS";var Ve=(We.prototype.Ae=function(t,e){return new We(this.N,this.root.Ae(t,e,this.N).me(null,null,qe.Pe,null,null))},We.prototype.remove=function(t){return new We(this.N,this.root.remove(t,this.N).me(null,null,qe.Pe,null,null))},We.prototype.get=function(t){for(var e=this.root;!e.B();){var n=this.N(t,e.key);if(0===n)return e.value;n<0?e=e.left:0<n&&(e=e.right)}return null},We.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.B();){var r=this.N(t,n.key);if(0===r)return e+n.left.size;n=r<0?n.left:(e+=n.left.size+1,n.right)}return-1},We.prototype.B=function(){return this.root.B()},Object.defineProperty(We.prototype,"size",{get:function(){return this.root.size},enumerable:!0,configurable:!0}),We.prototype.Ve=function(){return this.root.Ve()},We.prototype.ge=function(){return this.root.ge()},We.prototype.pe=function(t){return this.root.pe(t)},We.prototype.forEach=function(n){this.pe(function(t,e){return n(t,e),!1})},We.prototype.toString=function(){var n=[];return this.pe(function(t,e){return n.push(t+":"+e),!1}),"{"+n.join(", ")+"}"},We.prototype.ye=function(t){return this.root.ye(t)},We.prototype.be=function(){return new Ue(this.root,null,this.N,!1)},We.prototype.ve=function(t){return new Ue(this.root,t,this.N,!1)},We.prototype.Se=function(){return new Ue(this.root,null,this.N,!0)},We.prototype.De=function(t){return new Ue(this.root,t,this.N,!0)},We),Ue=(Ge.prototype.Ne=function(){var t=this.Fe.pop(),e={key:t.key,value:t.value};if(this.Ce)for(t=t.left;!t.B();)this.Fe.push(t),t=t.right;else for(t=t.right;!t.B();)this.Fe.push(t),t=t.left;return e},Ge.prototype.ke=function(){return 0<this.Fe.length},Ge.prototype.Me=function(){if(0===this.Fe.length)return null;var t=this.Fe[this.Fe.length-1];return{key:t.key,value:t.value}},Ge),qe=(Be.prototype.me=function(t,e,n,r,i){return new Be(null!=t?t:this.key,null!=e?e:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)},Be.prototype.B=function(){return!1},Be.prototype.pe=function(t){return this.left.pe(t)||t(this.key,this.value)||this.right.pe(t)},Be.prototype.ye=function(t){return this.right.ye(t)||t(this.key,this.value)||this.left.ye(t)},Be.prototype.min=function(){return this.left.B()?this:this.left.min()},Be.prototype.Ve=function(){return this.min().key},Be.prototype.ge=function(){return this.right.B()?this.key:this.right.ge()},Be.prototype.Ae=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.me(null,null,null,r.left.Ae(t,e,n),null):0===i?r.me(null,e,null,null,null):r.me(null,null,null,null,r.right.Ae(t,e,n))).xe()},Be.prototype.$e=function(){if(this.left.B())return Be.EMPTY;var t=this;return t.left.Oe()||t.left.left.Oe()||(t=t.Le()),(t=t.me(null,null,null,t.left.$e(),null)).xe()},Be.prototype.remove=function(t,e){var n,r=this;if(e(t,r.key)<0)r.left.B()||r.left.Oe()||r.left.left.Oe()||(r=r.Le()),r=r.me(null,null,null,r.left.remove(t,e),null);else{if(r.left.Oe()&&(r=r.Be()),r.right.B()||r.right.Oe()||r.right.left.Oe()||(r=r.qe()),0===e(t,r.key)){if(r.right.B())return Be.EMPTY;n=r.right.min(),r=r.me(n.key,n.value,null,null,r.right.$e())}r=r.me(null,null,null,null,r.right.remove(t,e))}return r.xe()},Be.prototype.Oe=function(){return this.color},Be.prototype.xe=function(){var t=this;return t.right.Oe()&&!t.left.Oe()&&(t=t.Ue()),t.left.Oe()&&t.left.left.Oe()&&(t=t.Be()),t.left.Oe()&&t.right.Oe()&&(t=t.Qe()),t},Be.prototype.Le=function(){var t=this.Qe();return t.right.left.Oe()&&(t=(t=(t=t.me(null,null,null,null,t.right.Be())).Ue()).Qe()),t},Be.prototype.qe=function(){var t=this.Qe();return t.left.left.Oe()&&(t=(t=t.Be()).Qe()),t},Be.prototype.Ue=function(){var t=this.me(null,null,Be.RED,null,this.right.left);return this.right.me(null,null,this.color,t,null)},Be.prototype.Be=function(){var t=this.me(null,null,Be.RED,this.left.right,null);return this.left.me(null,null,this.color,null,t)},Be.prototype.Qe=function(){var t=this.left.me(null,null,!this.left.color,null,null),e=this.right.me(null,null,!this.right.color,null,null);return this.me(null,null,!this.color,t,e)},Be.prototype.We=function(){var t=this.je();return Math.pow(2,t)<=this.size+1},Be.prototype.je=function(){if(this.Oe()&&this.left.Oe())throw jn();if(this.right.Oe())throw jn();var t=this.left.je();if(t!==this.right.je())throw jn();return t+(this.Oe()?0:1)},Be);function Be(t,e,n,r,i){this.key=t,this.value=e,this.color=null!=n?n:Be.RED,this.left=null!=r?r:Be.EMPTY,this.right=null!=i?i:Be.EMPTY,this.size=this.left.size+1+this.right.size}function Ge(t,e,n,r){this.Ce=r,this.Fe=[];for(var i=1;!t.B();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.Ce?t.left:t.right;else{if(0===i){this.Fe.push(t);break}this.Fe.push(t),t=this.Ce?t.right:t.left}}function We(t,e){this.N=t,this.root=e||qe.EMPTY}function ze(){this.size=0}qe.EMPTY=null,qe.RED=!0,qe.Pe=!1,qe.EMPTY=(Object.defineProperty(ze.prototype,"key",{get:function(){throw jn()},enumerable:!0,configurable:!0}),Object.defineProperty(ze.prototype,"value",{get:function(){throw jn()},enumerable:!0,configurable:!0}),Object.defineProperty(ze.prototype,"color",{get:function(){throw jn()},enumerable:!0,configurable:!0}),Object.defineProperty(ze.prototype,"left",{get:function(){throw jn()},enumerable:!0,configurable:!0}),Object.defineProperty(ze.prototype,"right",{get:function(){throw jn()},enumerable:!0,configurable:!0}),ze.prototype.me=function(t,e,n,r,i){return this},ze.prototype.Ae=function(t,e,n){return new qe(t,e)},ze.prototype.remove=function(t,e){return this},ze.prototype.B=function(){return!0},ze.prototype.pe=function(t){return!1},ze.prototype.ye=function(t){return!1},ze.prototype.Ve=function(){return null},ze.prototype.ge=function(){return null},ze.prototype.Oe=function(){return!1},ze.prototype.We=function(){return!0},ze.prototype.je=function(){return 0},new ze);var He=(Ye.prototype.has=function(t){return null!==this.data.get(t)},Ye.prototype.first=function(){return this.data.Ve()},Ye.prototype.last=function(){return this.data.ge()},Object.defineProperty(Ye.prototype,"size",{get:function(){return this.data.size},enumerable:!0,configurable:!0}),Ye.prototype.indexOf=function(t){return this.data.indexOf(t)},Ye.prototype.forEach=function(n){this.data.pe(function(t,e){return n(t),!1})},Ye.prototype.Ke=function(t,e){for(var n=this.data.ve(t[0]);n.ke();){var r=n.Ne();if(0<=this.N(r.key,t[1]))return;e(r.key)}},Ye.prototype.Ge=function(t,e){for(var n=void 0!==e?this.data.ve(e):this.data.be();n.ke();)if(!t(n.Ne().key))return},Ye.prototype.ze=function(t){var e=this.data.ve(t);return e.ke()?e.Ne().key:null},Ye.prototype.be=function(){return new Ke(this.data.be())},Ye.prototype.ve=function(t){return new Ke(this.data.ve(t))},Ye.prototype.add=function(t){return this.me(this.data.remove(t).Ae(t,!0))},Ye.prototype.delete=function(t){return this.has(t)?this.me(this.data.remove(t)):this},Ye.prototype.B=function(){return this.data.B()},Ye.prototype.He=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach(function(t){e=e.add(t)}),e},Ye.prototype.isEqual=function(t){if(!(t instanceof Ye))return!1;if(this.size!==t.size)return!1;for(var e=this.data.be(),n=t.data.be();e.ke();){var r=e.Ne().key,i=n.Ne().key;if(0!==this.N(r,i))return!1}return!0},Ye.prototype.W=function(){var e=[];return this.forEach(function(t){e.push(t)}),e},Ye.prototype.toString=function(){var e=[];return this.forEach(function(t){return e.push(t)}),"SortedSet("+e.toString()+")"},Ye.prototype.me=function(t){var e=new Ye(this.N);return e.data=t,e},Ye),Ke=(Xe.prototype.Ne=function(){return this.Ye.Ne().key},Xe.prototype.ke=function(){return this.Ye.ke()},Xe),$e=new Ve(V.N);function Xe(t){this.Ye=t}function Ye(t){this.N=t,this.data=new Ve(this.N)}var Je=new Ve(V.N);var Qe=new Ve(V.N),Ze=new He(V.N);function tn(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=Ze,r=0,i=t;r<i.length;r++)var o=i[r],n=n.add(o);return n}var en=new He(Fn);function nn(t,e,n,r){this.ws=t,this.removedTargetIds=e,this.key=n,this.Rs=r}function rn(t,e){this.targetId=t,this.As=e}function on(t,e,n,r){void 0===n&&(n=W.ht),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r}var sn=(bn.Ze=function(t){return new bn(t.N)},bn.prototype.has=function(t){return null!=this.Je.get(t)},bn.prototype.get=function(t){return this.Je.get(t)},bn.prototype.first=function(){return this.Xe.Ve()},bn.prototype.last=function(){return this.Xe.ge()},bn.prototype.B=function(){return this.Xe.B()},bn.prototype.indexOf=function(t){var e=this.Je.get(t);return e?this.Xe.indexOf(e):-1},Object.defineProperty(bn.prototype,"size",{get:function(){return this.Xe.size},enumerable:!0,configurable:!0}),bn.prototype.forEach=function(n){this.Xe.pe(function(t,e){return n(t),!1})},bn.prototype.add=function(t){var e=this.delete(t.key);return e.me(e.Je.Ae(t.key,t),e.Xe.Ae(t,null))},bn.prototype.delete=function(t){var e=this.get(t);return e?this.me(this.Je.remove(t),this.Xe.remove(e)):this},bn.prototype.isEqual=function(t){if(!(t instanceof bn))return!1;if(this.size!==t.size)return!1;for(var e=this.Xe.be(),n=t.Xe.be();e.ke();){var r=e.Ne().key,i=n.Ne().key;if(!r.isEqual(i))return!1}return!0},bn.prototype.toString=function(){var e=[];return this.forEach(function(t){e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"},bn.prototype.me=function(t,e){var n=new bn;return n.N=this.N,n.Je=t,n.Xe=e,n},bn),an=(mn.prototype.track=function(t){var e=t.doc.key,n=this.ts.get(e);!n||0!==t.type&&3===n.type?this.ts=this.ts.Ae(e,t):3===t.type&&1!==n.type?this.ts=this.ts.Ae(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.ts=this.ts.Ae(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.ts=this.ts.Ae(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.ts=this.ts.remove(e):1===t.type&&2===n.type?this.ts=this.ts.Ae(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.ts=this.ts.Ae(e,{type:2,doc:t.doc}):jn()},mn.prototype.es=function(){var n=[];return this.ts.pe(function(t,e){n.push(e)}),n},mn),un=(gn.os=function(t,e,n,r){var i=[];return e.forEach(function(t){i.push({type:0,doc:t})}),new gn(t,e,sn.Ze(e),i,n,r,!0,!1)},Object.defineProperty(gn.prototype,"hasPendingWrites",{get:function(){return!this.ns.B()},enumerable:!0,configurable:!0}),gn.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.rs===t.rs&&this.ns.isEqual(t.ns)&&this.query.isEqual(t.query)&&this.docs.isEqual(t.docs)&&this.ss.isEqual(t.ss)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},gn),cn=(yn.ls=function(t,e){var n=new Map;return n.set(t,hn.ds(t,e)),new yn(O.min(),n,en,$e,tn())},yn),hn=(vn.ds=function(t,e){return new vn(W.ht,e,tn(),tn(),tn())},vn),fn=(Object.defineProperty(dn.prototype,"fs",{get:function(){return this.gs},enumerable:!0,configurable:!0}),Object.defineProperty(dn.prototype,"resumeToken",{get:function(){return this.Vs},enumerable:!0,configurable:!0}),Object.defineProperty(dn.prototype,"ys",{get:function(){return 0!==this.ms},enumerable:!0,configurable:!0}),Object.defineProperty(dn.prototype,"bs",{get:function(){return this.ps},enumerable:!0,configurable:!0}),dn.prototype.vs=function(t){0<t.rt()&&(this.ps=!0,this.Vs=t)},dn.prototype.Ss=function(){var n=tn(),r=tn(),i=tn();return this.Ps.forEach(function(t,e){switch(e){case 0:n=n.add(t);break;case 2:r=r.add(t);break;case 1:i=i.add(t);break;default:jn()}}),new hn(this.Vs,this.gs,n,r,i)},dn.prototype.Ds=function(){this.ps=!1,this.Ps=En()},dn.prototype.Cs=function(t,e){this.ps=!0,this.Ps=this.Ps.Ae(t,e)},dn.prototype.Fs=function(t){this.ps=!0,this.Ps=this.Ps.remove(t)},dn.prototype.Ns=function(){this.ms+=1},dn.prototype.ks=function(){--this.ms},dn.prototype.Ms=function(){this.ps=!0,this.gs=!0},dn),ln=(pn.prototype.qs=function(t){for(var e=0,n=t.ws;e<n.length;e++){var r=n[e];t.Rs instanceof ce?this.Us(r,t.Rs):t.Rs instanceof he&&this.Qs(r,t.key,t.Rs)}for(var i=0,o=t.removedTargetIds;i<o.length;i++){var s=o[i];this.Qs(s,t.key,t.Rs)}},pn.prototype.Ws=function(n){var r=this;this.js(n,function(t){var e=r.Ks(t);switch(n.state){case 0:r.Gs(t)&&e.vs(n.resumeToken);break;case 1:e.ks(),e.ys||e.Ds(),e.vs(n.resumeToken);break;case 2:e.ks(),e.ys||r.removeTarget(t);break;case 3:r.Gs(t)&&(e.Ms(),e.vs(n.resumeToken));break;case 4:r.Gs(t)&&(r.zs(t),e.vs(n.resumeToken));break;default:jn()}})},pn.prototype.js=function(t,n){var r=this;0<t.targetIds.length?t.targetIds.forEach(n):this.$s.forEach(function(t,e){r.Gs(e)&&n(e)})},pn.prototype.Hs=function(t){var e,n,r=t.targetId,i=t.As.count,o=this.Ys(r);o&&((e=o.target).Ot()?0===i?(n=new V(e.path),this.Qs(r,n,new he(n,O.min()))):Cn(1===i):this.Js(r)!==i&&(this.zs(r),this.Bs=this.Bs.add(r)))},pn.prototype.Xs=function(i){var o=this,s=new Map;this.$s.forEach(function(t,e){var n,r=o.Ys(e);r&&(t.fs&&r.target.Ot()&&(n=new V(r.target.path),null!==o.Os.get(n)||o.Zs(e,n)||o.Qs(e,n,new he(n,i))),t.bs&&(s.set(e,t.Ss()),t.Ds()))});var r=tn();this.Ls.forEach(function(t,e){var n=!0;e.Ge(function(t){var e=o.Ys(t);return!e||2===e.Te||(n=!1)}),n&&(r=r.add(t))});var t=new cn(i,s,this.Bs,this.Os,r);return this.Os=$e,this.Ls=wn(),this.Bs=new He(Fn),t},pn.prototype.Us=function(t,e){var n;this.Gs(t)&&(n=this.Zs(t,e.key)?2:0,this.Ks(t).Cs(e.key,n),this.Os=this.Os.Ae(e.key,e),this.Ls=this.Ls.Ae(e.key,this.ti(e.key).add(t)))},pn.prototype.Qs=function(t,e,n){var r;this.Gs(t)&&(r=this.Ks(t),this.Zs(t,e)?r.Cs(e,1):r.Fs(e),this.Ls=this.Ls.Ae(e,this.ti(e).delete(t)),n&&(this.Os=this.Os.Ae(e,n)))},pn.prototype.removeTarget=function(t){this.$s.delete(t)},pn.prototype.Js=function(t){var e=this.Ks(t).Ss();return this.xs.ei(t).size+e.Ts.size-e.Is.size},pn.prototype.Ns=function(t){this.Ks(t).Ns()},pn.prototype.Ks=function(t){var e=this.$s.get(t);return e||(e=new fn,this.$s.set(t,e)),e},pn.prototype.ti=function(t){var e=this.Ls.get(t);return e||(e=new He(Fn),this.Ls=this.Ls.Ae(t,e)),e},pn.prototype.Gs=function(t){var e=null!==this.Ys(t);return e||xn("WatchChangeAggregator","Detected inactive target",t),e},pn.prototype.Ys=function(t){var e=this.$s.get(t);return e&&e.ys?null:this.xs.si(t)},pn.prototype.zs=function(e){var n=this;this.$s.set(e,new fn),this.xs.ei(e).forEach(function(t){n.Qs(e,t,null)})},pn.prototype.Zs=function(t,e){return this.xs.ei(t).has(e)},pn);function pn(t){this.xs=t,this.$s=new Map,this.Os=$e,this.Ls=wn(),this.Bs=new He(Fn)}function dn(){this.ms=0,this.Ps=En(),this.Vs=W.ht,this.gs=!1,this.ps=!0}function vn(t,e,n,r,i){this.resumeToken=t,this.fs=e,this.Ts=n,this.Es=r,this.Is=i}function yn(t,e,n,r,i){this.Ee=t,this.as=e,this.us=n,this.cs=r,this._s=i}function gn(t,e,n,r,i,o,s,a){this.query=t,this.docs=e,this.ss=n,this.docChanges=r,this.ns=i,this.fromCache=o,this.rs=s,this.hs=a}function mn(){this.ts=new Ve(V.N)}function bn(n){this.N=n?function(t,e){return n(t,e)||V.N(t.key,e.key)}:function(t,e){return V.N(t.key,e.key)},this.Je=Je,this.Xe=new Ve(this.N)}function wn(){return new Ve(V.N)}function En(){return new Ve(V.N)}var _n={asc:"ASCENDING",desc:"DESCENDING"},In={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Tn=(Sn.prototype.ni=function(t){var e=void 0===t.code?y.UNKNOWN:Fe(t.code);return new g(e,t.message||"")},Sn.prototype.ri=function(t){return this.options.hi||H(t)?t:{value:t}},Sn.prototype.oi=function(t){var e;return H(e="object"==typeof t?t.value:t)?null:e},Sn.prototype._t=function(t){return{integerValue:""+t}},Sn.prototype.lt=function(t){if(this.options.hi){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:K(t)?"-0":t}},Sn.prototype.ai=function(t){return $(t)?this._t(t):this.lt(t)},Sn.prototype.C=function(t){return this.options.hi?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}},Sn.prototype.v=function(t){var e=it(t);return new _(e.seconds,e.nanos)},Sn.prototype.ui=function(t){return this.options.hi?t.toBase64():t.toUint8Array()},Sn.prototype.ci=function(t){return this.options.hi?(Cn(void 0===t||"string"==typeof t),W.fromBase64String(t||"")):(Cn(void 0===t||t instanceof Uint8Array),W.fromUint8Array(t||new Uint8Array))},Sn.prototype.toVersion=function(t){return this.C(t.C())},Sn.prototype.fromVersion=function(t){return Cn(!!t),O.v(this.v(t))},Sn.prototype._i=function(t,e){return this.li(e||this.ii).child("documents").child(t).j()},Sn.prototype.di=function(t){var e=T.K(t);return Cn(On(e)),e},Sn.prototype.fi=function(t){return this._i(t.path)},Sn.prototype.Z=function(t){var e=this.di(t);return Cn(e.get(1)===this.ii.projectId),Cn(!e.get(3)&&!this.ii.database||e.get(3)===this.ii.database),new V(this.Ti(e))},Sn.prototype.Ei=function(t){return this._i(t)},Sn.prototype.Ii=function(t){var e=this.di(t);return 4===e.length?T.G:this.Ti(e)},Object.defineProperty(Sn.prototype,"wi",{get:function(){return new T(["projects",this.ii.projectId,"databases",this.ii.database]).j()},enumerable:!0,configurable:!0}),Sn.prototype.li=function(t){return new T(["projects",t.projectId,"databases",t.database])},Sn.prototype.Ti=function(t){return Cn(4<t.length&&"documents"===t.get(4)),t.M(5)},Sn.prototype.Ri=function(t,e){return{name:this.fi(t),fields:e.proto.mapValue.fields}},Sn.prototype.Ai=function(t){return{name:this.fi(t.key),fields:t.xt().mapValue.fields,updateTime:this.C(t.version.C())}},Sn.prototype.mi=function(t,e){var n=this.Z(t.name),r=this.fromVersion(t.updateTime),i=new Mt({mapValue:{fields:t.fields}});return new ce(n,r,i,{hasCommittedMutations:!!e})},Sn.prototype.Pi=function(t){Cn(!!t.found),t.found.name,t.found.updateTime;var e=this.Z(t.found.name),n=this.fromVersion(t.found.updateTime),r=new Mt({mapValue:{fields:t.found.fields}});return new ce(e,n,r,{})},Sn.prototype.Vi=function(t){Cn(!!t.missing),Cn(!!t.readTime);var e=this.Z(t.missing),n=this.fromVersion(t.readTime);return new he(e,n)},Sn.prototype.gi=function(t){return"found"in t?this.Pi(t):"missing"in t?this.Vi(t):jn()},Sn.prototype.pi=function(t){if("targetChange"in t){t.targetChange;var e=this.yi(t.targetChange.targetChangeType||"NO_CHANGE"),n=t.targetChange.targetIds||[],r=this.ci(t.targetChange.resumeToken),i=t.targetChange.cause,o=i&&this.ni(i),s=new on(e,n,r,o||null)}else if("documentChange"in t){t.documentChange;var a=t.documentChange;a.document,a.document.name,a.document.updateTime;var u=this.Z(a.document.name),c=this.fromVersion(a.document.updateTime),h=new Mt({mapValue:{fields:a.document.fields}}),f=new ce(u,c,h,{}),l=a.targetIds||[],p=a.removedTargetIds||[];s=new nn(l,p,f.key,f)}else if("documentDelete"in t){t.documentDelete;var d=t.documentDelete;d.document;var v=this.Z(d.document),y=d.readTime?this.fromVersion(d.readTime):O.min(),g=new he(v,y),m=d.removedTargetIds||[];s=new nn([],m,g.key,g)}else if("documentRemove"in t){t.documentRemove;var b=t.documentRemove;b.document;var w=this.Z(b.document),E=b.removedTargetIds||[];s=new nn([],E,w,null)}else{if(!("filter"in t))return jn();t.filter;var _=t.filter;_.targetId;var I=_.count||0,T=new Jt(I),S=_.targetId;s=new rn(S,T)}return s},Sn.prototype.yi=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:jn()},Sn.prototype.bi=function(t){if(!("targetChange"in t))return O.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length||!e.readTime?O.min():this.fromVersion(e.readTime)},Sn.prototype.vi=function(t){var e,n=this;if(t instanceof Rt)e={update:this.Ri(t.key,t.value)};else if(t instanceof Ct)e={delete:this.fi(t.key)};else if(t instanceof Dt)e={update:this.Ri(t.key,t.data),updateMask:this.Si(t.Vt)};else if(t instanceof jt)e={transform:{document:this.fi(t.key),fieldTransforms:t.fieldTransforms.map(function(t){return n.Di(t)})}};else{if(!(t instanceof Lt))return jn();e={verify:this.fi(t.key)}}return t.Rt.Tt||(e.currentDocument=this.Ci(t.Rt)),e},Sn.prototype.Fi=function(t){var e=this,n=t.currentDocument?this.Ni(t.currentDocument):Pt.ft();if(t.update){t.update.name;var r=this.Z(t.update.name),i=new Mt({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=this.ki(t.updateMask);return new Dt(r,i,o,n)}return new Rt(r,i,n)}if(t.delete){var s=this.Z(t.delete);return new Ct(s,n)}if(t.transform){var a=this.Z(t.transform.document),u=t.transform.fieldTransforms.map(function(t){return e.Mi(t)});return Cn(!0===n.exists),new jt(a,u)}if(t.verify){var c=this.Z(t.verify);return new Lt(c,n)}return jn()},Sn.prototype.Ci=function(t){return void 0!==t.updateTime?{updateTime:this.toVersion(t.updateTime)}:void 0!==t.exists?{exists:t.exists}:jn()},Sn.prototype.Ni=function(t){return void 0!==t.updateTime?Pt.updateTime(this.fromVersion(t.updateTime)):void 0!==t.exists?Pt.exists(t.exists):Pt.ft()},Sn.prototype.xi=function(t,e){var n=t.updateTime?this.fromVersion(t.updateTime):this.fromVersion(e);n.isEqual(O.min())&&(n=this.fromVersion(e));var r=null;return t.transformResults&&0<t.transformResults.length&&(r=t.transformResults),new _t(n,r)},Sn.prototype.$i=function(t,e){var n=this;return t&&0<t.length?(Cn(void 0!==e),t.map(function(t){return n.xi(t,e)})):[]},Sn.prototype.Di=function(t){var e=t.transform;if(e instanceof pt)return{fieldPath:t.field.j(),setToServerValue:"REQUEST_TIME"};if(e instanceof vt)return{fieldPath:t.field.j(),appendMissingElements:{values:e.elements}};if(e instanceof yt)return{fieldPath:t.field.j(),removeAllFromArray:{values:e.elements}};if(e instanceof gt)return{fieldPath:t.field.j(),increment:e.ct};throw jn()},Sn.prototype.Mi=function(t){var e,n,r=null;"setToServerValue"in t?(Cn("REQUEST_TIME"===t.setToServerValue),r=pt.instance):"appendMissingElements"in t?(e=t.appendMissingElements.values||[],r=new vt(e)):"removeAllFromArray"in t?(n=t.removeAllFromArray.values||[],r=new yt(n)):"increment"in t?r=new gt(this,t.increment):jn();var i=M.X(t.fieldPath);return new kt(i,r)},Sn.prototype.Oi=function(t){return{documents:[this.Ei(t.path)]}},Sn.prototype.Li=function(t){Cn(1===t.documents.length);var e=t.documents[0];return pe.Wt(this.Ii(e)).ee()},Sn.prototype.Bi=function(t){var e={structuredQuery:{}},n=t.path;null!==t.collectionGroup?(e.parent=this.Ei(n),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(e.parent=this.Ei(n.$()),e.structuredQuery.from=[{collectionId:n.L()}]);var r=this.qi(t.filters);r&&(e.structuredQuery.where=r);var i=this.Ui(t.orderBy);i&&(e.structuredQuery.orderBy=i);var o=this.ri(t.limit);return null!==o&&(e.structuredQuery.limit=o),t.startAt&&(e.structuredQuery.startAt=this.Qi(t.startAt)),t.endAt&&(e.structuredQuery.endAt=this.Qi(t.endAt)),e},Sn.prototype.Wi=function(t){var e,n=this.Ii(t.parent),r=t.structuredQuery,i=r.from?r.from.length:0,o=null;0<i&&(Cn(1===i),(e=r.from[0]).allDescendants?o=e.collectionId:n=n.child(e.collectionId));var s=[];r.where&&(s=this.ji(r.where));var a=[];r.orderBy&&(a=this.Ki(r.orderBy));var u=null;r.limit&&(u=this.oi(r.limit));var c=null;r.startAt&&(c=this.Gi(r.startAt));var h=null;return r.endAt&&(h=this.Gi(r.endAt)),new pe(n,o,a,s,u,"F",c,h).ee()},Sn.prototype.zi=function(t){var e=this.Hi(t.Te);return null==e?null:{"goog-listen-tags":e}},Sn.prototype.Hi=function(t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return jn()}},Sn.prototype.ee=function(t){var e,n=t.target;return(e=n.Ot()?{documents:this.Oi(n)}:{query:this.Bi(n)}).targetId=t.targetId,0<t.resumeToken.rt()&&(e.resumeToken=this.ui(t.resumeToken)),e},Sn.prototype.qi=function(t){var e=this;if(0!==t.length){var n=t.map(function(t){return t instanceof de?e.Yi(t):jn()});return 1===n.length?n[0]:{compositeFilter:{op:"AND",filters:n}}}},Sn.prototype.ji=function(t){var e=this;return t?void 0!==t.unaryFilter?[this.Ji(t)]:void 0!==t.fieldFilter?[this.Xi(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return e.ji(t)}).reduce(function(t,e){return t.concat(e)}):jn():[]},Sn.prototype.Ui=function(t){var e=this;if(0!==t.length)return t.map(function(t){return e.Zi(t)})},Sn.prototype.Ki=function(t){var e=this;return t.map(function(t){return e.tn(t)})},Sn.prototype.Qi=function(t){return{before:t.before,values:t.position}},Sn.prototype.Gi=function(t){var e=!!t.before,n=t.values||[];return new we(n,e)},Sn.prototype.en=function(t){return _n[t]},Sn.prototype.sn=function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}},Sn.prototype.nn=function(t){return In[t]},Sn.prototype.rn=function(t){switch(t){case"EQUAL":return"==";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return jn()}},Sn.prototype.hn=function(t){return{fieldPath:t.j()}},Sn.prototype.on=function(t){return M.X(t.fieldPath)},Sn.prototype.Zi=function(t){return{field:this.hn(t.field),direction:this.en(t.dir)}},Sn.prototype.tn=function(t){return new Ee(this.on(t.field),this.sn(t.direction))},Sn.prototype.Xi=function(t){return de.create(this.on(t.fieldFilter.field),this.rn(t.fieldFilter.op),t.fieldFilter.value)},Sn.prototype.Yi=function(t){if("=="===t.op){if(ft(t.value))return{unaryFilter:{field:this.hn(t.field),op:"IS_NAN"}};if(ht(t.value))return{unaryFilter:{field:this.hn(t.field),op:"IS_NULL"}}}return{fieldFilter:{field:this.hn(t.field),op:this.nn(t.op),value:t.value}}},Sn.prototype.Ji=function(t){switch(t.unaryFilter.op){case"IS_NAN":var e=this.on(t.unaryFilter.field);return de.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=this.on(t.unaryFilter.field);return de.create(n,"==",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return jn()}},Sn.prototype.Si=function(t){var e=[];return t.fields.forEach(function(t){return e.push(t.j())}),{fieldPaths:e}},Sn.prototype.ki=function(t){var e=t.fieldPaths||[];return new At(e.map(function(t){return M.X(t)}))},Sn);function Sn(t,e){this.ii=t,this.options=e}function On(t){return 4<=t.length&&"projects"===t.get(0)&&"databases"===t.get(2)}var Nn=(kn.an=function(t){kn.platform&&jn(),kn.platform=t},kn.nt=function(){return kn.platform||jn(),kn.platform},kn),An=new l.Logger("@firebase/firestore");function kn(){}function Pn(){return An.logLevel}function xn(t){for(var e,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];An.logLevel<=l.LogLevel.DEBUG&&(e=n.map(Dn),An.debug.apply(An,v.__spreadArrays(["Firestore ("+d+"): "+t],e)))}function Rn(t){for(var e,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];An.logLevel<=l.LogLevel.ERROR&&(e=n.map(Dn),An.error.apply(An,v.__spreadArrays(["Firestore ("+d+"): "+t],e)))}function Dn(t){if("string"==typeof t)return t;var e=Nn.nt();try{return e.un(t)}catch(e){return t}}function jn(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE ("+d+") INTERNAL ASSERTION FAILED: "+t;throw Rn(e),new Error(e)}function Cn(t){t||jn()}var Ln=(Mn.cn=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=Nn.nt()._n(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},Mn);function Mn(){}function Fn(t,e){return t<e?-1:e<t?1:0}function Vn(t,n,r){return t.length===n.length&&t.every(function(t,e){return r(t,n[e])})}function Un(t){return t+"\0"}function qn(t,e,n,r,i){this.ii=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i}var Bn=(Object.defineProperty(ur.prototype,"ln",{get:function(){return"(default)"===this.database},enumerable:!0,configurable:!0}),ur.prototype.isEqual=function(t){return t instanceof ur&&t.projectId===this.projectId&&t.database===this.database},ur.prototype.S=function(t){return Fn(this.projectId,t.projectId)||Fn(this.database,t.database)},ur),Gn=(ar.prototype.get=function(t){var e=this.dn(t),n=this.fn[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[0],a=o[1];if(s.isEqual(t))return a}},ar.prototype.has=function(t){return void 0!==this.get(t)},ar.prototype.set=function(t,e){var n=this.dn(t),r=this.fn[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(r[i][0].isEqual(t))return void(r[i]=[t,e]);r.push([t,e])}else this.fn[n]=[[t,e]]},ar.prototype.delete=function(t){var e=this.dn(t),n=this.fn[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(n[r][0].isEqual(t))return 1===n.length?delete this.fn[e]:n.splice(r,1),!0;return!1},ar.prototype.forEach=function(a){B(this.fn,function(t,e){for(var n=0,r=e;n<r.length;n++){var i=r[n],o=i[0],s=i[1];a(o,s)}})},ar.prototype.B=function(){return G(this.fn)},ar),Wn=(sr.prototype.at=function(t,e,n){for(var r=n.En,i=0;i<this.mutations.length;i++){var o,s=this.mutations[i];s.key.isEqual(t)&&(o=r[i],e=s.at(e,o))}return e},sr.prototype.ot=function(t,e){for(var n=0,r=this.baseMutations;n<r.length;n++){var i=r[n];i.key.isEqual(t)&&(e=i.ot(e,e,this.Tn))}for(var o=e,s=0,a=this.mutations;s<a.length;s++){var u=a[s];u.key.isEqual(t)&&(e=u.ot(e,o,this.Tn))}return e},sr.prototype.In=function(n){var r=this,i=n;return this.mutations.forEach(function(t){var e=r.ot(t.key,n.get(t.key));e&&(i=i.Ae(t.key,e))}),i},sr.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},tn())},sr.prototype.isEqual=function(t){return this.batchId===t.batchId&&Vn(this.mutations,t.mutations,function(t,e){return t.isEqual(e)})&&Vn(this.baseMutations,t.baseMutations,function(t,e){return t.isEqual(e)})},sr),zn=(or.from=function(t,e,n){Cn(t.mutations.length===n.length);for(var r=Qe,i=t.mutations,o=0;o<i.length;o++)r=r.Ae(i[o].key,n[o].version);return new or(t,e,n,r)},or),Hn=(ir.prototype.catch=function(t){return this.next(void 0,t)},ir.prototype.next=function(r,i){var o=this;return this.Vn&&jn(),this.Vn=!0,this.Pn?this.error?this.gn(i,this.error):this.pn(r,this.result):new ir(function(e,n){o.An=function(t){o.pn(r,t).next(e,n)},o.mn=function(t){o.gn(i,t).next(e,n)}})},ir.prototype.yn=function(){var n=this;return new Promise(function(t,e){n.next(t,e)})},ir.prototype.bn=function(t){try{var e=t();return e instanceof ir?e:ir.resolve(e)}catch(t){return ir.reject(t)}},ir.prototype.pn=function(t,e){return t?this.bn(function(){return t(e)}):ir.resolve(e)},ir.prototype.gn=function(t,e){return t?this.bn(function(){return t(e)}):ir.reject(e)},ir.resolve=function(n){return new ir(function(t,e){t(n)})},ir.reject=function(n){return new ir(function(t,e){e(n)})},ir.vn=function(t){return new ir(function(e,n){var r=0,i=0,o=!1;t.forEach(function(t){++r,t.next(function(){++i,o&&i===r&&e()},function(t){return n(t)})}),o=!0,i===r&&e()})},ir.Sn=function(t){for(var n=ir.resolve(!1),e=0,r=t;e<r.length;e++)!function(e){n=n.next(function(t){return t?ir.resolve(t):e()})}(r[e]);return n},ir.forEach=function(t,n){var r=this,i=[];return t.forEach(function(t,e){i.push(n.call(r,t,e))}),this.vn(i)},ir),Kn=(Object.defineProperty(rr.prototype,"readTime",{get:function(){return this.Fn},set:function(t){this.Fn=t},enumerable:!0,configurable:!0}),rr.prototype.Nn=function(t,e){this.kn(),this.readTime=e,this.Dn.set(t.key,t)},rr.prototype.Mn=function(t,e){this.kn(),e&&(this.readTime=e),this.Dn.set(t,null)},rr.prototype.xn=function(t,e){this.kn();var n=this.Dn.get(e);return void 0!==n?Hn.resolve(n):this.$n(t,e)},rr.prototype.getEntries=function(t,e){return this.On(t,e)},rr.prototype.apply=function(t){return this.kn(),this.Cn=!0,this.Ln(t)},rr.prototype.kn=function(){},rr),$n="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Xn=(nr.prototype.qn=function(t){this.Bn.push(t)},nr.prototype.Un=function(){this.Bn.forEach(function(t){return t()})},nr),Yn=(er.prototype.Kn=function(e,n){var r=this;return this.Wn.Gn(e,n).next(function(t){return r.zn(e,n,t)})},er.prototype.zn=function(t,r,i){return this.Qn.xn(t,r).next(function(t){for(var e=0,n=i;e<n.length;e++)t=n[e].ot(r,t);return t})},er.prototype.Hn=function(t,e,i){var o=$e;return e.forEach(function(t,e){for(var n=0,r=i;n<r.length;n++)e=r[n].ot(t,e);o=o.Ae(t,e)}),o},er.prototype.Yn=function(e,t){var n=this;return this.Qn.getEntries(e,t).next(function(t){return n.Jn(e,t)})},er.prototype.Jn=function(r,i){var o=this;return this.Wn.Xn(r,i).next(function(t){var e=o.Hn(r,i,t),n=$e;return e.forEach(function(t,e){e=e||new he(t,O.min()),n=n.Ae(t,e)}),n})},er.prototype.Zn=function(t,e,n){return e.Ot()?this.tr(t,e.path):e._e()?this.er(t,e,n):this.sr(t,e,n)},er.prototype.tr=function(t,e){return this.Kn(t,new V(e)).next(function(t){var e=Je;return t instanceof ce&&(e=e.Ae(t.key,t)),e})},er.prototype.er=function(n,r,i){var o=this,s=r.collectionGroup,a=Je;return this.jn.ir(n,s).next(function(t){return Hn.forEach(t,function(t){var e=r.Zt(t.child(s));return o.sr(n,e,i).next(function(t){t.forEach(function(t,e){a=a.Ae(t,e)})})}).next(function(){return a})})},er.prototype.sr=function(e,n,t){var h,f,r=this;return this.Qn.Zn(e,n,t).next(function(t){return h=t,r.Wn.nr(e,n)}).next(function(t){return f=t,r.rr(e,f,h).next(function(t){h=t;for(var e=0,n=f;e<n.length;e++)for(var r=n[e],i=0,o=r.mutations;i<o.length;i++){var s=o[i],a=s.key,u=h.get(a),c=s.ot(u,u,r.Tn);h=c instanceof ce?h.Ae(a,c):h.remove(a)}})}).next(function(){return h.forEach(function(t,e){n.matches(e)||(h=h.remove(t))}),h})},er.prototype.rr=function(t,e,n){for(var r=tn(),i=0,o=e;i<o.length;i++)for(var s=0,a=o[i].mutations;s<a.length;s++){var u=a[s];u instanceof Dt&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.Qn.getEntries(t,r).next(function(t){return t.forEach(function(t,e){null!==e&&e instanceof ce&&(c=c.Ae(t,e))}),c})},er),Jn=(tr.ar=function(t,e){for(var n=tn(),r=tn(),i=0,o=e.docChanges;i<o.length;i++){var s=o[i];switch(s.type){case 0:n=n.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}}return new tr(t,e.fromCache,n,r)},tr),Qn=(Zn.prototype.cr=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},Zn.prototype.next=function(){var t=++this.previousValue;return this._r&&this._r(t),t},Zn);function Zn(t,e){var n=this;this.previousValue=t,e&&(e.ur=function(t){return n.cr(t)},this._r=function(t){return e.lr(t)})}function tr(t,e,n,r){this.targetId=t,this.fromCache=e,this.hr=n,this.or=r}function er(t,e,n){this.Qn=t,this.Wn=e,this.jn=n}function nr(){this.Bn=[]}function rr(){this.Dn=new Gn(function(t){return t.toString()}),this.Cn=!1}function ir(t){var e=this;this.An=null,this.mn=null,this.result=void 0,this.error=void 0,this.Pn=!1,this.Vn=!1,t(function(t){e.Pn=!0,e.result=t,e.An&&e.An(t)},function(t){e.Pn=!0,e.error=t,e.mn&&e.mn(t)})}function or(t,e,n,r){this.batch=t,this.wn=e,this.En=n,this.Rn=r}function sr(t,e,n,r){this.batchId=t,this.Tn=e,this.baseMutations=n,this.mutations=r}function ar(t){this.dn=t,this.fn={}}function ur(t,e){this.projectId=t,this.database=e||"(default)"}Qn.dr=-1;function cr(){var n=this;this.promise=new Promise(function(t,e){n.resolve=t,n.reject=e})}var hr=(fr.prototype.reset=function(){this.Ar=0},fr.prototype.Vr=function(){this.Ar=this.Rr},fr.prototype.gr=function(t){var e=this;this.cancel();var n=Math.floor(this.Ar+this.pr()),r=Math.max(0,Date.now()-this.Pr),i=Math.max(0,n-r);0<i&&xn("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.Ar+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.mr=this.Tr.yr(this.Er,i,function(){return e.Pr=Date.now(),t()}),this.Ar*=this.wr,this.Ar<this.Ir&&(this.Ar=this.Ir),this.Ar>this.Rr&&(this.Ar=this.Rr)},fr.prototype.br=function(){null!==this.mr&&(this.mr.vr(),this.mr=null)},fr.prototype.cancel=function(){null!==this.mr&&(this.mr.cancel(),this.mr=null)},fr.prototype.pr=function(){return(Math.random()-.5)*this.Ar},fr);function fr(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Tr=t,this.Er=e,this.Ir=n,this.wr=r,this.Rr=i,this.Ar=0,this.mr=null,this.Pr=Date.now(),this.reset()}function lr(t){for(var e="",n=0;n<t.length;n++)0<e.length&&(e=pr(e)),e=function(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="";break;case"":n+="";break;default:n+=o}}return n}(t.get(n),e);return pr(e)}function pr(t){return t+""}function dr(t){var e=t.length;if(Cn(2<=e),2===e)return Cn(""===t.charAt(0)&&""===t.charAt(1)),T.G;for(var n=e-2,r=[],i="",o=0;o<e;){var s=t.indexOf("",o);switch((s<0||n<s)&&jn(),t.charAt(s+1)){case"":var a=t.substring(o,s),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case"":i+=t.substring(o,s),i+="\0";break;case"":i+=t.substring(o,s+1);break;default:jn()}o=s+2}return new T(r)}var vr=(wr.prototype.Dr=function(t,e){return this.Sr.add(e),Hn.resolve()},wr.prototype.ir=function(t,e){return Hn.resolve(this.Sr.getEntries(e))},wr),yr=(br.prototype.add=function(t){var e=t.L(),n=t.$(),r=this.index[e]||new He(T.N),i=!r.has(n);return this.index[e]=r.add(n),i},br.prototype.has=function(t){var e=t.L(),n=t.$(),r=this.index[e];return r&&r.has(n)},br.prototype.getEntries=function(t){return(this.index[t]||new He(T.N)).W()},br),gr=(mr.prototype.Dr=function(t,e){var n=this;if(this.Cr.has(e))return Hn.resolve();var r=e.L(),i=e.$();t.qn(function(){n.Cr.add(e)});var o={collectionId:r,parent:lr(i)};return Er(t).put(o)},mr.prototype.ir=function(t,i){var o=[],e=IDBKeyRange.bound([i,""],[Un(i),""],!1,!0);return Er(t).Fr(e).next(function(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if(r.collectionId!==i)break;o.push(dr(r.parent))}return o})},mr);function mr(){this.Cr=new yr}function br(){this.index={}}function wr(){this.Sr=new yr}function Er(t){return qr.Nr(t,bi.store)}var _r,Ir=(Tr.prototype.Nn=function(t,e,n){return Or(t).put(Nr(e),n)},Tr.prototype.Mn=function(t,e){var n=Or(t),r=Nr(e);return n.delete(r)},Tr.prototype.updateMetadata=function(e,n){var r=this;return this.getMetadata(e).next(function(t){return t.byteSize+=n,r.kr(e,t)})},Tr.prototype.xn=function(t,e){var n=this;return Or(t).get(Nr(e)).next(function(t){return n.Mr(t)})},Tr.prototype.xr=function(t,e){var n=this;return Or(t).get(Nr(e)).next(function(t){var e=n.Mr(t);return e?{$r:e,size:Ar(t)}:null})},Tr.prototype.getEntries=function(t,e){var r=this,i=$e;return this.Or(t,e,function(t,e){var n=r.Mr(e);i=i.Ae(t,n)}).next(function(){return i})},Tr.prototype.Lr=function(t,e){var r=this,i=$e,o=new Ve(V.N);return this.Or(t,e,function(t,e){var n=r.Mr(e);o=n?(i=i.Ae(t,n),o.Ae(t,Ar(e))):(i=i.Ae(t,null),o.Ae(t,0))}).next(function(){return{Br:i,qr:o}})},Tr.prototype.Or=function(t,e,i){if(e.B())return Hn.resolve();var n=IDBKeyRange.bound(e.first().path.W(),e.last().path.W()),o=e.be(),s=o.Ne();return Or(t).Ur({range:n},function(t,e,n){for(var r=V.st(t);s&&V.N(s,r)<0;)i(s,null),s=o.Ne();s&&s.isEqual(r)&&(i(s,e),s=o.ke()?o.Ne():null),s?n.Qr(s.path.W()):n.done()}).next(function(){for(;s;)i(s,null),s=o.ke()?o.Ne():null})},Tr.prototype.Zn=function(t,i,e){var n,r,o,s=this,a=Je,u=i.path.length+1,c={};return e.isEqual(O.min())?(n=i.path.W(),c.range=IDBKeyRange.lowerBound(n)):(r=i.path.W(),o=this.serializer.Wr(e),c.range=IDBKeyRange.lowerBound([r,o],!0),c.index=di.collectionReadTimeIndex),Or(t).Ur(c,function(t,e,n){var r;t.length===u&&(r=s.serializer.jr(e),i.path.q(r.key.path)?r instanceof ce&&i.matches(r)&&(a=a.Ae(r.key,r)):n.done())}).next(function(){return a})},Tr.prototype.Kr=function(t,e){var r=this,i=$e,o=this.serializer.Wr(e),n=Or(t),s=IDBKeyRange.lowerBound(o,!0);return n.Ur({index:di.readTimeIndex,range:s},function(t,e){var n=r.serializer.jr(e);i=i.Ae(n.key,n),o=e.readTime}).next(function(){return{Gr:i,readTime:r.serializer.zr(o)}})},Tr.prototype.Hr=function(t){var r=this,e=Or(t),i=O.min();return e.Ur({index:di.readTimeIndex,reverse:!0},function(t,e,n){e.readTime&&(i=r.serializer.zr(e.readTime)),n.done()}).next(function(){return i})},Tr.prototype.Yr=function(t){return new Tr.Jr(this,!!t&&t.Xr)},Tr.prototype.Zr=function(t){return this.getMetadata(t).next(function(t){return t.byteSize})},Tr.prototype.getMetadata=function(t){return Sr(t).get(vi.key).next(function(t){return Cn(!!t),t})},Tr.prototype.kr=function(t,e){return Sr(t).put(vi.key,e)},Tr.prototype.Mr=function(t){if(t){var e=this.serializer.jr(t);return e instanceof he&&e.version.isEqual(O.min())?null:e}return null},Tr);function Tr(t,e){this.serializer=t,this.jn=e}function Sr(t){return qr.Nr(t,vi.store)}function Or(t){return qr.Nr(t,di.store)}function Nr(t){return t.path.W()}function Ar(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw jn();e=t.noDocument}return JSON.stringify(e).length}function kr(t,e){var n=this;return(n=_r.call(this)||this).th=t,n.Xr=e,n.eh=new Gn(function(t){return t.toString()}),n}Ir.Jr=(_r=Kn,v.__extends(kr,_r),kr.prototype.Ln=function(s){var a=this,u=[],c=0,h=new He(function(t,e){return Fn(t.j(),e.j())});return this.Dn.forEach(function(t,e){var n,r,i,o=a.eh.get(t);e?(n=a.th.serializer.sh(e,a.readTime),h=h.add(t.path.$()),r=Ar(n),c+=r-o,u.push(a.th.Nn(s,t,n))):(c-=o,a.Xr?(i=a.th.serializer.sh(new he(t,O.min()),a.readTime),u.push(a.th.Nn(s,t,i))):u.push(a.th.Mn(s,t)))}),h.forEach(function(t){u.push(a.th.jn.Dr(s,t))}),u.push(this.th.updateMetadata(s,c)),Hn.vn(u)},kr.prototype.$n=function(t,e){var n=this;return this.th.xr(t,e).next(function(t){return null===t?(n.eh.set(e,0),null):(n.eh.set(e,t.size),t.$r)})},kr.prototype.On=function(t,e){var n=this;return this.th.Lr(t,e).next(function(t){var e=t.Br;return t.qr.forEach(function(t,e){n.eh.set(t,e)}),e})},kr);var Pr=(Dr.prototype.next=function(){return this.ih+=2,this.ih},Dr.nh=function(){return new Dr(0)},Dr.rh=function(){return new Dr(-1)},Dr),xr=(Rr.prototype.oh=function(n){var r=this;return this.ah(n).next(function(t){var e=new Pr(t.highestTargetId);return t.highestTargetId=e.next(),r.uh(n,t).next(function(){return t.highestTargetId})})},Rr.prototype._h=function(t){return this.ah(t).next(function(t){return O.v(new _(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},Rr.prototype.lh=function(t){return this.ah(t).next(function(t){return t.highestListenSequenceNumber})},Rr.prototype.dh=function(e,n,r){var i=this;return this.ah(e).next(function(t){return t.highestListenSequenceNumber=n,r&&(t.lastRemoteSnapshotVersion=r.C()),n>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=n),i.uh(e,t)})},Rr.prototype.fh=function(e,n){var r=this;return this.Th(e,n).next(function(){return r.ah(e).next(function(t){return t.targetCount+=1,r.Eh(n,t),r.uh(e,t)})})},Rr.prototype.Ih=function(t,e){return this.Th(t,e)},Rr.prototype.wh=function(e,t){var n=this;return this.Rh(e,t.targetId).next(function(){return jr(e).delete(t.targetId)}).next(function(){return n.ah(e)}).next(function(t){return Cn(0<t.targetCount),--t.targetCount,n.uh(e,t)})},Rr.prototype.Ah=function(r,i,o){var s=this,a=0,u=[];return jr(r).Ur(function(t,e){var n=s.serializer.mh(e);n.sequenceNumber<=i&&null===o.get(n.targetId)&&(a++,u.push(s.wh(r,n)))}).next(function(){return Hn.vn(u)}).next(function(){return a})},Rr.prototype.js=function(t,r){var i=this;return jr(t).Ur(function(t,e){var n=i.serializer.mh(e);r(n)})},Rr.prototype.ah=function(t){return Cr(t).get(mi.key).next(function(t){return Cn(null!==t),t})},Rr.prototype.uh=function(t,e){return Cr(t).put(mi.key,e)},Rr.prototype.Th=function(t,e){return jr(t).put(this.serializer.Ph(e))},Rr.prototype.Eh=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},Rr.prototype.Vh=function(t){return this.ah(t).next(function(t){return t.targetCount})},Rr.prototype.gh=function(t,i){var o=this,e=i.canonicalId(),n=IDBKeyRange.bound([e,Number.NEGATIVE_INFINITY],[e,Number.POSITIVE_INFINITY]),s=null;return jr(t).Ur({range:n,index:yi.queryTargetsIndexName},function(t,e,n){var r=o.serializer.mh(e);i.isEqual(r.target)&&(s=r,n.done())}).next(function(){return s})},Rr.prototype.ph=function(n,t,r){var i=this,o=[],s=Lr(n);return t.forEach(function(t){var e=lr(t.path);o.push(s.put(new gi(r,e))),o.push(i.hh.yh(n,r,t))}),Hn.vn(o)},Rr.prototype.bh=function(n,t,r){var i=this,o=Lr(n);return Hn.forEach(t,function(t){var e=lr(t.path);return Hn.vn([o.delete([r,e]),i.hh.vh(n,r,t)])})},Rr.prototype.Rh=function(t,e){var n=Lr(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},Rr.prototype.Sh=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=Lr(t),o=tn();return r.Ur({range:n,Dh:!0},function(t,e,n){var r=dr(t[1]),i=new V(r);o=o.add(i)}).next(function(){return o})},Rr.prototype.Ch=function(t,e){var n=lr(e.path),r=IDBKeyRange.bound([n],[Un(n)],!1,!0),i=0;return Lr(t).Ur({index:gi.documentTargetsIndex,Dh:!0,range:r},function(t,e,n){var r=t[0];t[1],0!==r&&(i++,n.done())}).next(function(){return 0<i})},Rr.prototype.si=function(t,e){var n=this;return jr(t).get(e).next(function(t){return t?n.serializer.mh(t):null})},Rr);function Rr(t,e){this.hh=t,this.serializer=e}function Dr(t){this.ih=t}function jr(t){return qr.Nr(t,yi.store)}function Cr(t){return qr.Nr(t,mi.store)}function Lr(t){return qr.Nr(t,gi.store)}var Mr,Fr=(Wr.prototype.jr=function(t){if(t.document)return this.Fh.mi(t.document,!!t.hasCommittedMutations);if(t.noDocument){var e=V.st(t.noDocument.path),n=this.Nh(t.noDocument.readTime);return new he(e,n,{hasCommittedMutations:!!t.hasCommittedMutations})}if(t.unknownDocument){var r=V.st(t.unknownDocument.path),i=this.Nh(t.unknownDocument.version);return new fe(r,i)}return jn()},Wr.prototype.sh=function(t,e){var n=this.Wr(e),r=t.key.path.$().W();if(t instanceof ce){var i=this.Fh.Ai(t),o=t.hasCommittedMutations;return new di(null,null,i,o,n,r)}if(t instanceof he){var s=t.key.path.W(),a=this.kh(t.version),u=t.hasCommittedMutations;return new di(null,new li(s,a),null,u,n,r)}if(t instanceof fe){var c=t.key.path.W(),h=this.kh(t.version);return new di(new pi(c,h),null,null,!0,n,r)}return jn()},Wr.prototype.Wr=function(t){var e=t.C();return[e.seconds,e.nanoseconds]},Wr.prototype.zr=function(t){var e=new _(t[0],t[1]);return O.v(e)},Wr.prototype.kh=function(t){var e=t.C();return new oi(e.seconds,e.nanoseconds)},Wr.prototype.Nh=function(t){var e=new _(t.seconds,t.nanoseconds);return O.v(e)},Wr.prototype.Mh=function(t,e){var n=this,r=e.baseMutations.map(function(t){return n.Fh.vi(t)}),i=e.mutations.map(function(t){return n.Fh.vi(t)});return new ci(t,e.batchId,e.Tn.toMillis(),r,i)},Wr.prototype.xh=function(t){var e=this,n=(t.baseMutations||[]).map(function(t){return e.Fh.Fi(t)}),r=t.mutations.map(function(t){return e.Fh.Fi(t)}),i=_.fromMillis(t.localWriteTimeMs);return new Wn(t.batchId,i,n,r)},Wr.prototype.mh=function(t){var e=this.Nh(t.readTime),n=void 0!==t.lastLimboFreeSnapshotVersion?this.Nh(t.lastLimboFreeSnapshotVersion):O.min(),r=void 0!==t.query.documents?this.Fh.Li(t.query):this.Fh.Wi(t.query);return new _e(r,t.targetId,0,t.lastListenSequenceNumber,e,n,W.fromBase64String(t.resumeToken))},Wr.prototype.Ph=function(t){var e=this.kh(t.Ee),n=this.kh(t.lastLimboFreeSnapshotVersion),r=t.target.Ot()?this.Fh.Oi(t.target):this.Fh.Bi(t.target),i=t.resumeToken.toBase64();return new yi(t.targetId,t.target.canonicalId(),e,i,t.sequenceNumber,n,r)},Wr),Vr="Failed to obtain exclusive access to the persistence layer. To allow shared access, make sure to invoke `enablePersistence()` with `synchronizeTabs:true` in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Ur=(Mr=Xn,v.__extends(Gr,Mr),Gr),qr=(Br.Nr=function(t,e){if(t instanceof Ur)return Ti.Nr(t.$h,e);throw jn()},Br.prototype.start=function(){var e=this;return Ti.Zh(this.Hh,ri,new ii(this.serializer)).then(function(t){return e.to=t,e.eo()}).then(function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new g(y.FAILED_PRECONDITION,Vr);return e.so(),e.io(),e.no(),e.runTransaction("getHighestListenSequenceNumber","readonly",function(t){return e.Jh.lh(t)})}).then(function(t){e.qh=new Qn(t,e.Lh)}).then(function(){e.Uh=!0}).catch(function(t){return e.to&&e.to.close(),Promise.reject(t)})},Br.prototype.ro=function(n){var t=this;return this.Gh=function(e){return v.__awaiter(t,void 0,void 0,function(){return v.__generator(this,function(t){return this.ho?[2,n(e)]:[2]})})},n(this.isPrimary)},Br.prototype.oo=function(n){var t=this;this.to.ao(function(e){return v.__awaiter(t,void 0,void 0,function(){return v.__generator(this,function(t){switch(t.label){case 0:return null===e.newVersion?[4,n()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})},Br.prototype.uo=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Tr.co(function(){return v.__awaiter(e,void 0,void 0,function(){return v.__generator(this,function(t){switch(t.label){case 0:return this.ho?[4,this.eo()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}))},Br.prototype.eo=function(){var n=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(e){return Hr(e).put(new Ei(n.clientId,Date.now(),n.networkEnabled,n.inForeground)).next(function(){if(n.isPrimary)return n._o(e).next(function(t){t||(n.isPrimary=!1,n.Tr.lo(function(){return n.Gh(!1)}))})}).next(function(){return n.do(e)}).next(function(t){return n.isPrimary&&!t?n.fo(e).next(function(){return!1}):!!t&&n.To(e).next(function(){return!0})})}).catch(function(t){if(Pi(t))return xn("IndexedDbPersistence","Failed to extend owner lease: ",t),n.isPrimary;if(!n.allowTabSynchronization)throw t;return xn("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(function(t){n.isPrimary!==t&&n.Tr.lo(function(){return n.Gh(t)}),n.isPrimary=t})},Br.prototype._o=function(t){var e=this;return zr(t).get(si.key).next(function(t){return Hn.resolve(e.Eo(t))})},Br.prototype.Io=function(t){return Hr(t).delete(this.clientId)},Br.prototype.wo=function(){return v.__awaiter(this,void 0,void 0,function(){var e,n,r,i,o=this;return v.__generator(this,function(t){switch(t.label){case 0:return!this.isPrimary||this.Ro(this.Kh,18e5)?[3,2]:(this.Kh=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(t){var r=Br.Nr(t,Ei.store);return r.Fr().next(function(t){var e=o.Ao(t,18e5),n=t.filter(function(t){return-1===e.indexOf(t)});return Hn.forEach(n,function(t){return r.delete(t.clientId)}).next(function(){return n})})}).catch(function(){return[]})]);case 1:if(e=t.sent(),this.Xh)for(n=0,r=e;n<r.length;n++)i=r[n],this.Xh.removeItem(this.mo(i.clientId));t.label=2;case 2:return[2]}})})},Br.prototype.no=function(){var t=this;this.jh=this.Tr.yr("client_metadata_refresh",4e3,function(){return t.eo().then(function(){return t.wo()}).then(function(){return t.no()})})},Br.prototype.Eo=function(t){return!!t&&t.ownerId===this.clientId},Br.prototype.do=function(e){var i=this;return this.Bh?Hn.resolve(!0):zr(e).get(si.key).next(function(t){if(null!==t&&i.Ro(t.leaseTimestampMs,5e3)&&!i.Po(t.ownerId)){if(i.Eo(t)&&i.networkEnabled)return!0;if(!i.Eo(t)){if(!t.allowTabSynchronization)throw new g(y.FAILED_PRECONDITION,Vr);return!1}}return!(!i.networkEnabled||!i.inForeground)||Hr(e).Fr().next(function(t){return void 0===i.Ao(t,5e3).find(function(t){if(i.clientId!==t.clientId){var e=!i.networkEnabled&&t.networkEnabled,n=!i.inForeground&&t.inForeground,r=i.networkEnabled===t.networkEnabled;if(e||n&&r)return!0}return!1})})}).next(function(t){return i.isPrimary!==t&&xn("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t})},Br.prototype.Vo=function(){return v.__awaiter(this,void 0,void 0,function(){var e=this;return v.__generator(this,function(t){switch(t.label){case 0:return this.Uh=!1,this.po(),this.jh&&(this.jh.cancel(),this.jh=null),this.yo(),this.bo(),[4,this.runTransaction("shutdown","readwrite",function(t){return e.fo(t).next(function(){return e.Io(t)})}).catch(function(t){xn("IndexedDbPersistence","Proceeding with shutdown despite failure: ",t)})];case 1:return t.sent(),this.to.close(),this.vo(),[2]}})})},Br.prototype.Ao=function(t,e){var n=this;return t.filter(function(t){return n.Ro(t.updateTimeMs,e)&&!n.Po(t.clientId)})},Br.prototype.So=function(){var e=this;return this.runTransaction("getActiveClients","readonly",function(t){return Hr(t).Fr().next(function(t){return e.Ao(t,18e5).map(function(t){return t.clientId})})})},Br.clearPersistence=function(n){return v.__awaiter(this,void 0,void 0,function(){var e;return v.__generator(this,function(t){switch(t.label){case 0:return Br.zh()?(e=n+Br.Yh,[4,Ti.delete(e)]):[2,Promise.resolve()];case 1:return t.sent(),[2]}})})},Object.defineProperty(Br.prototype,"ho",{get:function(){return this.Uh},enumerable:!0,configurable:!0}),Br.prototype.Do=function(t){return Yr.Co(t,this.serializer,this.jn,this.hh)},Br.prototype.Fo=function(){return this.Jh},Br.prototype.No=function(){return this.Qn},Br.prototype.ko=function(){return this.jn},Br.prototype.runTransaction=function(e,n,r){var i=this;xn("IndexedDbPersistence","Starting transaction:",e);var o,t="readonly"===n?"readonly":"readwrite";return this.to.runTransaction(t,Ii,function(t){return o=new Ur(t,i.qh?i.qh.next():Qn.dr),"readwrite-primary"===n?i._o(o).next(function(t){return!!t||i.do(o)}).next(function(t){if(!t)throw Rn("Failed to obtain primary lease for action '"+e+"'."),i.isPrimary=!1,i.Tr.lo(function(){return i.Gh(!1)}),new g(y.FAILED_PRECONDITION,$n);return r(o)}).next(function(t){return i.To(o).next(function(){return t})}):i.Mo(o).next(function(){return r(o)})}).then(function(t){return o.Un(),t})},Br.prototype.Mo=function(t){var e=this;return zr(t).get(si.key).next(function(t){if(null!==t&&e.Ro(t.leaseTimestampMs,5e3)&&!e.Po(t.ownerId)&&!e.Eo(t)&&!(e.Bh||e.allowTabSynchronization&&t.allowTabSynchronization))throw new g(y.FAILED_PRECONDITION,Vr)})},Br.prototype.To=function(t){var e=new si(this.clientId,this.allowTabSynchronization,Date.now());return zr(t).put(si.key,e)},Br.zh=function(){return Ti.zh()},Br.xo=function(t){var e=t.ii.projectId;return t.ii.ln||(e+="."+t.ii.database),"firestore/"+t.persistenceKey+"/"+e+"/"},Br.prototype.fo=function(t){var e=this,n=zr(t);return n.get(si.key).next(function(t){return e.Eo(t)?(xn("IndexedDbPersistence","Releasing primary lease."),n.delete(si.key)):Hn.resolve()})},Br.prototype.Ro=function(t,e){var n=Date.now();return!(t<n-e||n<t&&(Rn("Detected an update time that is in the future: "+t+" > "+n),1))},Br.prototype.so=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Wh=function(){t.Tr.co(function(){return t.inForeground="visible"===t.document.visibilityState,t.eo()})},this.document.addEventListener("visibilitychange",this.Wh),this.inForeground="visible"===this.document.visibilityState)},Br.prototype.yo=function(){this.Wh&&(this.document.removeEventListener("visibilitychange",this.Wh),this.Wh=null)},Br.prototype.io=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Qh=function(){e.po(),e.Tr.co(function(){return e.Vo()})},this.window.addEventListener("unload",this.Qh))},Br.prototype.bo=function(){this.Qh&&(this.window.removeEventListener("unload",this.Qh),this.Qh=null)},Br.prototype.Po=function(t){var e;try{var n=null!==(null===(e=this.Xh)||void 0===e?void 0:e.getItem(this.mo(t)));return xn("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return Rn("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},Br.prototype.po=function(){if(this.Xh)try{this.Xh.setItem(this.mo(this.clientId),String(Date.now()))}catch(t){Rn("Failed to set zombie client id.",t)}},Br.prototype.vo=function(){if(this.Xh)try{this.Xh.removeItem(this.mo(this.clientId))}catch(t){}},Br.prototype.mo=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},Br);function Br(t,e,n,r,i,o,s,a,u){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=n,this.Tr=o,this.Lh=a,this.Bh=u,this.qh=null,this.Uh=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Qh=null,this.inForeground=!1,this.Wh=null,this.jh=null,this.Kh=Number.NEGATIVE_INFINITY,this.Gh=function(t){return Promise.resolve()},!Br.zh())throw new g(y.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.hh=new Kr(this,i),this.Hh=e+Br.Yh,this.serializer=new Fr(s),this.document=r.document,this.Jh=new xr(this.hh,this.serializer),this.jn=new gr,this.Qn=new Ir(this.serializer,this.jn),this.window=r.window,r.window&&r.window.localStorage?this.Xh=r.window.localStorage:(this.Xh=null,!1===u&&Rn("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}function Gr(t,e){var n=this;return(n=Mr.call(this)||this).$h=t,n.Oh=e,n}function Wr(t){this.Fh=t}function zr(t){return qr.Nr(t,si.store)}function Hr(t){return qr.Nr(t,Ei.store)}qr.Yh="main";var Kr=($r.prototype.Oo=function(t){var n=this.Lo(t);return this.db.Fo().Vh(t).next(function(e){return n.next(function(t){return e+t})})},$r.prototype.Lo=function(t){var e=0;return this.Bo(t,function(t){e++}).next(function(){return e})},$r.prototype.js=function(t,e){return this.db.Fo().js(t,e)},$r.prototype.Bo=function(t,n){return this.qo(t,function(t,e){return n(e)})},$r.prototype.yh=function(t,e,n){return Xr(t,n)},$r.prototype.vh=function(t,e,n){return Xr(t,n)},$r.prototype.Ah=function(t,e,n){return this.db.Fo().Ah(t,e,n)},$r.prototype.Uo=Xr,$r.prototype.Qo=function(t,e){return r=e,i=!1,ni(n=t).Wo(function(t){return Qr(n,t,r).next(function(t){return t&&(i=!0),Hn.resolve(!t)})}).next(function(){return i});var n,r,i},$r.prototype.jo=function(r,i){var o=this,s=this.db.No().Yr(),a=[],u=0;return this.qo(r,function(e,t){var n;t<=i&&(n=o.Qo(r,e).next(function(t){if(!t)return u++,s.xn(r,e).next(function(){return s.Mn(e),Lr(r).delete([0,lr(e.path)])})}),a.push(n))}).next(function(){return Hn.vn(a)}).next(function(){return s.apply(r)}).next(function(){return u})},$r.prototype.removeTarget=function(t,e){var n=e.Ie(t.Oh);return this.db.Fo().Ih(t,n)},$r.prototype.Ko=Xr,$r.prototype.qo=function(t,o){var s,e=Lr(t),a=Qn.dr;return e.Ur({index:gi.documentTargetsIndex},function(t,e){var n=t[0],r=(t[1],e.path),i=e.sequenceNumber;0===n?(a!==Qn.dr&&o(new V(dr(s)),a),a=i,s=r):a=Qn.dr}).next(function(){a!==Qn.dr&&o(new V(dr(s)),a)})},$r.prototype.Go=function(t){return this.db.No().Zr(t)},$r);function $r(t,e){this.db=t,this.$o=new Yi(this,e)}function Xr(t,e){return Lr(t).put((n=t.Oh,new gi(0,lr(e.path),n)));var n}var Yr=(Jr.Co=function(t,e,n,r){return Cn(""!==t.uid),new Jr(t.t()?t.uid:"",e,n,r)},Jr.prototype.Ho=function(t){var r=!0,e=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ti(t).Ur({index:ci.userMutationsIndex,range:e},function(t,e,n){r=!1,n.done()}).next(function(){return r})},Jr.prototype.Yo=function(c,h,f,l){var p=this,d=ei(c),v=ti(c);return v.add({}).next(function(t){Cn("number"==typeof t);for(var e=new Wn(t,h,f,l),n=p.serializer.Mh(p.userId,e),r=[],i=new He(function(t,e){return Fn(t.j(),e.j())}),o=0,s=l;o<s.length;o++){var a=s[o],u=hi.key(p.userId,a.key.path,t),i=i.add(a.key.path.$());r.push(v.put(n)),r.push(d.put(u,hi.PLACEHOLDER))}return i.forEach(function(t){r.push(p.jn.Dr(c,t))}),c.qn(function(){p.zo[t]=e.keys()}),Hn.vn(r).next(function(){return e})})},Jr.prototype.Jo=function(t,e){var n=this;return ti(t).get(e).next(function(t){return t?(Cn(t.userId===n.userId),n.serializer.xh(t)):null})},Jr.prototype.Xo=function(t,n){var r=this;return this.zo[n]?Hn.resolve(this.zo[n]):this.Jo(t,n).next(function(t){if(t){var e=t.keys();return r.zo[n]=e}return null})},Jr.prototype.Zo=function(t,e){var r=this,i=e+1,n=IDBKeyRange.lowerBound([this.userId,i]),o=null;return ti(t).Ur({index:ci.userMutationsIndex,range:n},function(t,e,n){e.userId===r.userId&&(Cn(e.batchId>=i),o=r.serializer.xh(e)),n.done()}).next(function(){return o})},Jr.prototype.ta=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),r=-1;return ti(t).Ur({index:ci.userMutationsIndex,range:e,reverse:!0},function(t,e,n){r=e.batchId,n.done()}).next(function(){return r})},Jr.prototype.ea=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return ti(t).Fr(ci.userMutationsIndex,n).next(function(t){return t.map(function(t){return e.serializer.xh(t)})})},Jr.prototype.Gn=function(a,u){var c=this,t=hi.prefixForPath(this.userId,u.path),e=IDBKeyRange.lowerBound(t),h=[];return ei(a).Ur({range:e},function(t,e,n){var r=t[0],i=t[1],o=t[2],s=dr(i);if(r===c.userId&&u.path.isEqual(s))return ti(a).get(o).next(function(t){if(!t)throw jn();Cn(t.userId===c.userId),h.push(c.serializer.xh(t))});n.done()}).next(function(){return h})},Jr.prototype.Xn=function(r,t){var u=this,c=new He(Fn),i=[];return t.forEach(function(a){var t=hi.prefixForPath(u.userId,a.path),e=IDBKeyRange.lowerBound(t),n=ei(r).Ur({range:e},function(t,e,n){var r=t[0],i=t[1],o=t[2],s=dr(i);r===u.userId&&a.path.isEqual(s)?c=c.add(o):n.done()});i.push(n)}),Hn.vn(i).next(function(){return u.sa(r,c)})},Jr.prototype.nr=function(t,e){var a=this,u=e.path,c=u.length+1,n=hi.prefixForPath(this.userId,u),r=IDBKeyRange.lowerBound(n),h=new He(Fn);return ei(t).Ur({range:r},function(t,e,n){var r=t[0],i=t[1],o=t[2],s=dr(i);r===a.userId&&u.q(s)?s.length===c&&(h=h.add(o)):n.done()}).next(function(){return a.sa(t,h)})},Jr.prototype.sa=function(e,t){var n=this,r=[],i=[];return t.forEach(function(t){i.push(ti(e).get(t).next(function(t){if(null===t)throw jn();Cn(t.userId===n.userId),r.push(n.serializer.xh(t))}))}),Hn.vn(i).next(function(){return r})},Jr.prototype.ia=function(e,n){var r=this;return Zr(e.$h,this.userId,n).next(function(t){return e.qn(function(){r.na(n.batchId)}),Hn.forEach(t,function(t){return r.hh.Uo(e,t)})})},Jr.prototype.na=function(t){delete this.zo[t]},Jr.prototype.ra=function(n){var o=this;return this.Ho(n).next(function(t){if(!t)return Hn.resolve();var e=IDBKeyRange.lowerBound(hi.prefixForUser(o.userId)),i=[];return ei(n).Ur({range:e},function(t,e,n){var r;t[0]===o.userId?(r=dr(t[1]),i.push(r)):n.done()}).next(function(){Cn(0===i.length)})})},Jr.prototype.Ch=function(t,e){return Qr(t,this.userId,e)},Jr.prototype.ha=function(t){var e=this;return ni(t).get(this.userId).next(function(t){return t||new ui(e.userId,-1,"")})},Jr);function Jr(t,e,n,r){this.userId=t,this.serializer=e,this.jn=n,this.hh=r,this.zo={}}function Qr(t,o,e){var n=hi.prefixForPath(o,e.path),s=n[1],r=IDBKeyRange.lowerBound(n),a=!1;return ei(t).Ur({range:r,Dh:!0},function(t,e,n){var r=t[0],i=t[1];t[2],r===o&&i===s&&(a=!0),n.done()}).next(function(){return a})}function Zr(t,e,n){var r=t.store(ci.store),i=t.store(hi.store),o=[],s=IDBKeyRange.only(n.batchId),a=0,u=r.Ur({range:s},function(t,e,n){return a++,n.delete()});o.push(u.next(function(){Cn(1===a)}));for(var c=[],h=0,f=n.mutations;h<f.length;h++){var l=f[h],p=hi.key(e,l.key.path,n.batchId);o.push(i.delete(p)),c.push(l.key)}return Hn.vn(o).next(function(){return c})}function ti(t){return qr.Nr(t,ci.store)}function ei(t){return qr.Nr(t,hi.store)}function ni(t){return qr.Nr(t,ui.store)}var ri=10,ii=(ai.prototype.createOrUpgrade=function(n,r,t,e){var i=this;Cn(t<e&&0<=t&&e<=ri);var o,s=new xi(r);t<1&&1<=e&&(n.createObjectStore(si.store),(o=n).createObjectStore(ui.store,{keyPath:ui.keyPath}),o.createObjectStore(ci.store,{keyPath:ci.keyPath,autoIncrement:!0}).createIndex(ci.userMutationsIndex,ci.userMutationsKeyPath,{unique:!0}),o.createObjectStore(hi.store),wi(n),n.createObjectStore(di.store));var a,u=Hn.resolve();return t<3&&3<=e&&(0!==t&&((a=n).deleteObjectStore(gi.store),a.deleteObjectStore(yi.store),a.deleteObjectStore(mi.store),wi(n)),u=u.next(function(){return t=s.store(mi.store),e=new mi(0,0,O.min().C(),0),t.put(mi.key,e);var t,e})),t<4&&4<=e&&(0!==t&&(u=u.next(function(){return r=n,(i=s).store(ci.store).Fr().next(function(t){r.deleteObjectStore(ci.store),r.createObjectStore(ci.store,{keyPath:ci.keyPath,autoIncrement:!0}).createIndex(ci.userMutationsIndex,ci.userMutationsKeyPath,{unique:!0});var e=i.store(ci.store),n=t.map(function(t){return e.put(t)});return Hn.vn(n)});var r,i})),u=u.next(function(){n.createObjectStore(Ei.store,{keyPath:Ei.keyPath})})),t<5&&5<=e&&(u=u.next(function(){return i.removeAcknowledgedMutations(s)})),t<6&&6<=e&&(u=u.next(function(){return n.createObjectStore(vi.store),i.addDocumentGlobal(s)})),t<7&&7<=e&&(u=u.next(function(){return i.ensureSequenceNumbers(s)})),t<8&&8<=e&&(u=u.next(function(){return i.createCollectionParentIndex(n,s)})),t<9&&9<=e&&(u=u.next(function(){var t,e;(e=n).objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges"),(t=r.objectStore(di.store)).createIndex(di.readTimeIndex,di.readTimeIndexPath,{unique:!1}),t.createIndex(di.collectionReadTimeIndex,di.collectionReadTimeIndexPath,{unique:!1})})),t<10&&10<=e&&(u=u.next(function(){return i.rewriteCanonicalIds(s)})),u},ai.prototype.addDocumentGlobal=function(e){var n=0;return e.store(di.store).Ur(function(t,e){n+=Ar(e)}).next(function(){var t=new vi(n);return e.store(vi.store).put(vi.key,t)})},ai.prototype.removeAcknowledgedMutations=function(r){var i=this,t=r.store(ui.store),e=r.store(ci.store);return t.Fr().next(function(t){return Hn.forEach(t,function(n){var t=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return e.Fr(ci.userMutationsIndex,t).next(function(t){return Hn.forEach(t,function(t){Cn(t.userId===n.userId);var e=i.serializer.xh(t);return Zr(r,n.userId,e).next(function(){})})})})})},ai.prototype.ensureSequenceNumbers=function(t){var s=t.store(gi.store),e=t.store(di.store);return t.store(mi.store).get(mi.key).next(function(i){var o=[];return e.Ur(function(t,e){var n=new T(t),r=[0,lr(n)];o.push(s.get(r).next(function(t){return t?Hn.resolve():s.put(new gi(0,lr(n),i.highestListenSequenceNumber))}))}).next(function(){return Hn.vn(o)})})},ai.prototype.createCollectionParentIndex=function(t,e){function i(t){if(o.add(t)){var e=t.L(),n=t.$();return r.put({collectionId:e,parent:lr(n)})}}t.createObjectStore(bi.store,{keyPath:bi.keyPath});var r=e.store(bi.store),o=new yr;return e.store(di.store).Ur({Dh:!0},function(t,e){var n=new T(t);return i(n.$())}).next(function(){return e.store(hi.store).Ur({Dh:!0},function(t,e){t[0];var n=t[1],r=(t[2],dr(n));return i(r.$())})})},ai.prototype.rewriteCanonicalIds=function(t){var i=this,o=t.store(yi.store);return o.Ur(function(t,e){var n=i.serializer.mh(e),r=i.serializer.Ph(n);return o.put(r)})},ai),oi=function(t,e){this.seconds=t,this.nanoseconds=e},si=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};function ai(t){this.serializer=t}si.store="owner",si.key="owner";var ui=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};ui.store="mutationQueues",ui.keyPath="userId";var ci=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};ci.store="mutations",ci.keyPath="batchId",ci.userMutationsIndex="userMutationsIndex",ci.userMutationsKeyPath=["userId","batchId"];var hi=(fi.prefixForUser=function(t){return[t]},fi.prefixForPath=function(t,e){return[t,lr(e)]},fi.key=function(t,e,n){return[t,lr(e),n]},fi);function fi(){}hi.store="documentMutations",hi.PLACEHOLDER=new hi;var li=function(t,e){this.path=t,this.readTime=e},pi=function(t,e){this.path=t,this.version=e},di=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};di.store="remoteDocuments",di.readTimeIndex="readTimeIndex",di.readTimeIndexPath="readTime",di.collectionReadTimeIndex="collectionReadTimeIndex",di.collectionReadTimeIndexPath=["parentPath","readTime"];var vi=function(t){this.byteSize=t};vi.store="remoteDocumentGlobal",vi.key="remoteDocumentGlobalKey";var yi=function(t,e,n,r,i,o,s){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s};yi.store="targets",yi.keyPath="targetId",yi.queryTargetsIndexName="queryTargetsIndex",yi.queryTargetsKeyPath=["canonicalId","targetId"];var gi=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};gi.store="targetDocuments",gi.keyPath=["targetId","path"],gi.documentTargetsIndex="documentTargetsIndex",gi.documentTargetsKeyPath=["path","targetId"];var mi=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};mi.key="targetGlobalKey",mi.store="targetGlobal";var bi=function(t,e){this.collectionId=t,this.parent=e};function wi(t){t.createObjectStore(gi.store,{keyPath:gi.keyPath}).createIndex(gi.documentTargetsIndex,gi.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(yi.store,{keyPath:yi.keyPath}).createIndex(yi.queryTargetsIndexName,yi.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(mi.store)}bi.store="collectionParents",bi.keyPath=["collectionId","parent"];var Ei=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};Ei.store="clientMetadata",Ei.keyPath="clientId";var _i,Ii=v.__spreadArrays(v.__spreadArrays(v.__spreadArrays([ui.store,ci.store,hi.store,di.store,yi.store,si.store,mi.store,gi.store],[Ei.store]),[vi.store]),[bi.store]),Ti=(ki.Zh=function(o,t,s){return xn("SimpleDb","Opening database:",o),new Hn(function(n,r){var i=indexedDB.open(o,t);i.onsuccess=function(t){var e=t.target.result;n(new ki(e))},i.onblocked=function(){r(new g(y.FAILED_PRECONDITION,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(t){var e=t.target.error;"VersionError"===e.name?r(new g(y.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):r(e)},i.onupgradeneeded=function(t){xn("SimpleDb",'Database "'+o+'" requires upgrade from version:',t.oldVersion);var e=t.target.result;s.createOrUpgrade(e,i.transaction,t.oldVersion,ri).next(function(){xn("SimpleDb","Database upgrade to version "+ri+" complete")})}}).yn()},ki.delete=function(t){return xn("SimpleDb","Removing database:",t),Ci(window.indexedDB.deleteDatabase(t)).yn()},ki.zh=function(){if("undefined"==typeof indexedDB)return!1;if(ki.aa())return!0;var t=f.getUA(),e=ki.oa(t),n=0<e&&e<10,r=ki.ua(t),i=0<r&&r<4.5;return!(0<t.indexOf("MSIE ")||0<t.indexOf("Trident/")||0<t.indexOf("Edge/")||n||i)},ki.aa=function(){var t;return"undefined"!=typeof __PRIVATE_process&&"YES"===(null===(t=__PRIVATE_process.__PRIVATE_env)||void 0===t?void 0:t.ca)},ki.Nr=function(t,e){return t.store(e)},ki.oa=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},ki.ua=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},ki.prototype.ao=function(e){this.db.onversionchange=function(t){return e(t)}},ki.prototype.runTransaction=function(r,c,h){return v.__awaiter(this,void 0,void 0,function(){var s,a,e,u,n;return v.__generator(this,function(t){switch(t.label){case 0:s="readonly"===r,a=0,e=function(){var e,n,r,i,o;return v.__generator(this,function(t){switch(t.label){case 0:++a,e=xi.open(u.db,s?"readonly":"readwrite",c),t.label=1;case 1:return t.trys.push([1,3,,4]),n=h(e).catch(function(t){return e.abort(t),Hn.reject(t)}).yn(),r={},n.catch(function(){}),[4,e._a];case 2:return[2,(r.value=(t.sent(),n),r)];case 3:return i=t.sent(),o="FirebaseError"!==i.name&&a<3,xn("SimpleDb","Transaction failed with error: %s. Retrying: %s.",i.message,o),o?[3,4]:[2,{value:Promise.reject(i)}];case 4:return[2]}})},u=this,t.label=1;case 1:return[5,e()];case 2:if("object"==typeof(n=t.sent()))return[2,n.value];t.label=3;case 3:return[3,1];case 4:return[2]}})})},ki.prototype.close=function(){this.db.close()},ki),Si=(Object.defineProperty(Ai.prototype,"Pn",{get:function(){return this.da},enumerable:!0,configurable:!0}),Object.defineProperty(Ai.prototype,"Ta",{get:function(){return this.fa},enumerable:!0,configurable:!0}),Object.defineProperty(Ai.prototype,"cursor",{set:function(t){this.la=t},enumerable:!0,configurable:!0}),Ai.prototype.done=function(){this.da=!0},Ai.prototype.Qr=function(t){this.fa=t},Ai.prototype.delete=function(){return Ci(this.la.delete())},Ai),Oi=(_i=g,v.__extends(Ni,_i),Ni);function Ni(t){var e=this;return(e=_i.call(this,y.UNAVAILABLE,"IndexedDB transaction failed: "+t)||this).name="IndexedDbTransactionError",e}function Ai(t){this.la=t,this.da=!1,this.fa=null}function ki(t){this.db=t,12.2===ki.oa(f.getUA())&&Rn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}function Pi(t){return"IndexedDbTransactionError"===t.name}var xi=(ji.open=function(t,e,n){return new ji(t.transaction(n,e))},Object.defineProperty(ji.prototype,"_a",{get:function(){return this.Ea.promise},enumerable:!0,configurable:!0}),ji.prototype.abort=function(t){t&&this.Ea.reject(t),this.aborted||(xn("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},ji.prototype.store=function(t){var e=this.transaction.objectStore(t);return new Ri(e)},ji),Ri=(Di.prototype.put=function(t,e){var n=void 0!==e?(xn("SimpleDb","PUT",this.store.name,t,e),this.store.put(e,t)):(xn("SimpleDb","PUT",this.store.name,"<auto-key>",t),this.store.put(t));return Ci(n)},Di.prototype.add=function(t){return xn("SimpleDb","ADD",this.store.name,t,t),Ci(this.store.add(t))},Di.prototype.get=function(e){var n=this;return Ci(this.store.get(e)).next(function(t){return void 0===t&&(t=null),xn("SimpleDb","GET",n.store.name,e,t),t})},Di.prototype.delete=function(t){return xn("SimpleDb","DELETE",this.store.name,t),Ci(this.store.delete(t))},Di.prototype.count=function(){return xn("SimpleDb","COUNT",this.store.name),Ci(this.store.count())},Di.prototype.Fr=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.Ia(n,function(t,e){r.push(e)}).next(function(){return r})},Di.prototype.wa=function(t,e){xn("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.Dh=!1;var r=this.cursor(n);return this.Ia(r,function(t,e,n){return n.delete()})},Di.prototype.Ur=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.Ia(r,e)},Di.prototype.Wo=function(i){var t=this.cursor({});return new Hn(function(n,r){t.onerror=function(t){var e=Mi(t.target.error);r(e)},t.onsuccess=function(t){var e=t.target.result;e?i(e.primaryKey,e.value).next(function(t){t?e.continue():n()}):n()}})},Di.prototype.Ia=function(t,s){var a=[];return new Hn(function(o,e){t.onerror=function(t){e(t.target.error)},t.onsuccess=function(t){var e,n,r,i=t.target.result;i?(e=new Si(i),(n=s(i.primaryKey,i.value,e))instanceof Hn&&(r=n.catch(function(t){return e.done(),Hn.reject(t)}),a.push(r)),e.Pn?o():null===e.Ta?i.continue():i.continue(e.Ta)):o()}}).next(function(){return Hn.vn(a)})},Di.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},Di.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.Dh?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},Di);function Di(t){this.store=t}function ji(t){var n=this;this.transaction=t,this.aborted=!1,this.Ea=new cr,this.transaction.oncomplete=function(){n.Ea.resolve()},this.transaction.onabort=function(){t.error?n.Ea.reject(new Oi(t.error)):n.Ea.resolve()},this.transaction.onerror=function(t){var e=Mi(t.target.error);n.Ea.reject(new Oi(e))}}function Ci(t){return new Hn(function(n,r){t.onsuccess=function(t){var e=t.target.result;n(e)},t.onerror=function(t){var e=Mi(t.target.error);r(e)}})}var Li=!1;function Mi(t){var e=Ti.oa(f.getUA());if(12.2<=e&&e<13){var n="An internal error was encountered in the Indexed Database server";if(0<=t.message.indexOf(n)){var r=new g("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Li||(Li=!0,setTimeout(function(){throw r},0)),r}}return t}var Fi=(qi.Va=function(t,e,n,r,i){var o=new qi(t,e,Date.now()+n,r,i);return o.start(n),o},qi.prototype.start=function(t){var e=this;this.ga=setTimeout(function(){return e.pa()},t)},qi.prototype.vr=function(){return this.pa()},qi.prototype.cancel=function(t){null!==this.ga&&(this.clearTimeout(),this.Pa.reject(new g(y.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},qi.prototype.pa=function(){var e=this;this.Ra.co(function(){return null!==e.ga?(e.clearTimeout(),e.op().then(function(t){return e.Pa.resolve(t)})):Promise.resolve()})},qi.prototype.clearTimeout=function(){null!==this.ga&&(this.ma(this),clearTimeout(this.ga),this.ga=null)},qi),Vi=(Object.defineProperty(Ui.prototype,"Ma",{get:function(){return this.va},enumerable:!0,configurable:!0}),Ui.prototype.co=function(t){this.enqueue(t)},Ui.prototype.xa=function(t){this.$a(),this.Oa(t)},Ui.prototype.La=function(t){return this.$a(),this.Oa(t)},Ui.prototype.Ba=function(n){return v.__awaiter(this,void 0,void 0,function(){var e;return v.__generator(this,function(t){switch(t.label){case 0:return this.$a(),this.va?[3,2]:(this.va=!0,(e=Nn.nt().window)&&e.removeEventListener("visibilitychange",this.ka),[4,this.La(n)]);case 1:t.sent(),t.label=2;case 2:return[2]}})})},Ui.prototype.enqueue=function(t){return this.$a(),this.va?new Promise(function(t){}):this.Oa(t)},Ui.prototype.lo=function(i){var t=this;this.$a(),this.va||(this.ba=this.ba.then(function(){var n=new cr,r=function(){return v.__awaiter(t,void 0,void 0,function(){var e;return v.__generator(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,i()];case 1:return t.sent(),n.resolve(),this.Na.reset(),[3,3];case 2:if(!Pi(e=t.sent()))throw n.resolve(),e;return xn("AsyncQueue","Operation failed with retryable error: "+e),this.Na.gr(r),[3,3];case 3:return[2]}})})};return t.co(r),n.promise}))},Ui.prototype.Oa=function(t){var r=this,e=this.ya.then(function(){return r.Ca=!0,t().catch(function(t){throw r.Da=t,r.Ca=!1,Rn("INTERNAL UNHANDLED ERROR: ",(n=(e=t).message||"",e.stack&&(n=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),n)),t;var e,n}).then(function(t){return r.Ca=!1,t})});return this.ya=e},Ui.prototype.yr=function(t,e,n){var r=this;this.$a(),-1<this.Fa.indexOf(t)&&(e=0);var i=Fi.Va(this,t,e,n,function(t){return r.qa(t)});return this.Sa.push(i),i},Ui.prototype.$a=function(){this.Da&&jn()},Ui.prototype.Ua=function(){},Ui.prototype.Qa=function(){return v.__awaiter(this,void 0,void 0,function(){var e;return v.__generator(this,function(t){switch(t.label){case 0:return[4,e=this.ya];case 1:t.sent(),t.label=2;case 2:if(e!==this.ya)return[3,0];t.label=3;case 3:return[2]}})})},Ui.prototype.Wa=function(t){for(var e=0,n=this.Sa;e<n.length;e++)if(n[e].Er===t)return!0;return!1},Ui.prototype.ja=function(r){var i=this;return this.Qa().then(function(){i.Sa.sort(function(t,e){return t.Aa-e.Aa});for(var t=0,e=i.Sa;t<e.length;t++){var n=e[t];if(n.vr(),"all"!==r&&n.Er===r)break}return i.Qa()})},Ui.prototype.Ka=function(t){this.Fa.push(t)},Ui.prototype.qa=function(t){var e=this.Sa.indexOf(t);this.Sa.splice(e,1)},Ui);function Ui(){var t=this;this.ya=Promise.resolve(),this.ba=Promise.resolve(),this.va=!1,this.Sa=[],this.Da=null,this.Ca=!1,this.Fa=[],this.Na=new hr(this,"async_queue_retry"),this.ka=function(){return t.Na.br()};var e=Nn.nt().window;e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.ka)}function qi(t,e,n,r,i){this.Ra=t,this.Er=e,this.Aa=n,this.op=r,this.ma=i,this.Pa=new cr,this.then=this.Pa.promise.then.bind(this.Pa.promise),this.Pa.promise.catch(function(t){})}function Bi(t,e){if(Rn("AsyncQueue",e+": "+t),Pi(t))return new g(y.UNAVAILABLE,e+": "+t);throw t}function Gi(t,e){var n=t[0],r=t[1],i=e[0],o=e[1],s=Fn(n,i);return 0===s?Fn(r,o):s}var Wi=($i.prototype.Ha=function(){return++this.za},$i.prototype.Ya=function(t){var e,n=[t,this.Ha()];this.buffer.size<this.Ga?this.buffer=this.buffer.add(n):Gi(n,e=this.buffer.last())<0&&(this.buffer=this.buffer.delete(e).add(n))},Object.defineProperty($i.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!0,configurable:!0}),$i),zi={Ja:!1,Xa:0,Za:0,tu:0},Hi=(Ki.nu=function(t){return new Ki(t,Ki.ru,Ki.hu)},Ki);function Ki(t,e,n){this.eu=t,this.su=e,this.iu=n}function $i(t){this.Ga=t,this.buffer=new He(Gi),this.za=0}Hi.ou=-1,Hi.au=1048576,Hi.uu=41943040,Hi.ru=10,Hi.hu=1e3,Hi.cu=new Hi(Hi.uu,Hi.ru,Hi.hu),Hi.DISABLED=new Hi(Hi.ou,0,0);var Xi=(to.prototype.start=function(t){this.$o.du.eu!==Hi.ou&&this.fu(t)},to.prototype.stop=function(){this.lu&&(this.lu.cancel(),this.lu=null)},Object.defineProperty(to.prototype,"ho",{get:function(){return null!==this.lu},enumerable:!0,configurable:!0}),to.prototype.fu=function(n){var t=this,e=this._u?3e5:6e4;xn("LruGarbageCollector","Garbage collection scheduled in "+e+"ms"),this.lu=this.Ra.yr("lru_garbage_collection",e,function(){return v.__awaiter(t,void 0,void 0,function(){var e;return v.__generator(this,function(t){switch(t.label){case 0:this.lu=null,this._u=!0,t.label=1;case 1:return t.trys.push([1,3,,7]),[4,n.Tu(this.$o)];case 2:return t.sent(),[3,7];case 3:return Pi(e=t.sent())?(xn("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,io(e)];case 5:t.sent(),t.label=6;case 6:return[3,7];case 7:return[4,this.fu(n)];case 8:return t.sent(),[2]}})})})},to),Yi=(Zi.prototype.Iu=function(t,e){return this.Eu.Oo(t).next(function(t){return Math.floor(e/100*t)})},Zi.prototype.wu=function(t,e){var n=this;if(0===e)return Hn.resolve(Qn.dr);var r=new Wi(e);return this.Eu.js(t,function(t){return r.Ya(t.sequenceNumber)}).next(function(){return n.Eu.Bo(t,function(t){return r.Ya(t)})}).next(function(){return r.maxValue})},Zi.prototype.Ah=function(t,e,n){return this.Eu.Ah(t,e,n)},Zi.prototype.jo=function(t,e){return this.Eu.jo(t,e)},Zi.prototype.Ru=function(e,n){var r=this;return this.du.eu===Hi.ou?(xn("LruGarbageCollector","Garbage collection skipped; disabled"),Hn.resolve(zi)):this.Go(e).next(function(t){return t<r.du.eu?(xn("LruGarbageCollector","Garbage collection skipped; Cache size "+t+" is lower than threshold "+r.du.eu),zi):r.Au(e,n)})},Zi.prototype.Go=function(t){return this.Eu.Go(t)},Zi.prototype.Au=function(e,n){var r,i,o,s,a,u,c,h=this,f=Date.now();return this.Iu(e,this.du.su).next(function(t){return i=t>h.du.iu?(xn("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+h.du.iu+" from "+t),h.du.iu):t,s=Date.now(),h.wu(e,i)}).next(function(t){return r=t,a=Date.now(),h.Ah(e,r,n)}).next(function(t){return o=t,u=Date.now(),h.jo(e,r)}).next(function(t){return c=Date.now(),Pn()<=l.LogLevel.DEBUG&&xn("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(s-f)+"ms\n\tDetermined least recently used "+i+" in "+(a-s)+"ms\n\tRemoved "+o+" targets in "+(u-a)+"ms\n\tRemoved "+t+" documents in "+(c-u)+"ms\nTotal Duration: "+(c-f)+"ms"),Hn.resolve({Ja:!0,Xa:i,Za:o,tu:t})})},Zi),Ji=(Qi.prototype.start=function(){return Promise.resolve()},Qi.prototype.vu=function(i){return v.__awaiter(this,void 0,void 0,function(){var e,m,n,r=this;return v.__generator(this,function(t){switch(t.label){case 0:return e=this.Wn,m=this.yu,[4,this.persistence.runTransaction("Handle user change","readonly",function(y){var g;return r.Wn.ea(y).next(function(t){return g=t,e=r.persistence.Do(i),m=new Yn(r.pu,e,r.persistence.ko()),e.ea(y)}).next(function(t){for(var e=[],n=[],r=tn(),i=0,o=g;i<o.length;i++){var s=o[i];e.push(s.batchId);for(var a=0,u=s.mutations;a<u.length;a++)var c=u[a],r=r.add(c.key)}for(var h=0,f=t;h<f.length;h++){var l=f[h];n.push(l.batchId);for(var p=0,d=l.mutations;p<d.length;p++){var v=d[p];r=r.add(v.key)}}return m.Yn(y,r).next(function(t){return{Su:t,Du:e,Cu:n}})})})];case 1:return n=t.sent(),[2,(this.Wn=e,this.yu=m,this.mu.bu(this.yu),n)]}})})},Qi.prototype.Fu=function(a){var u,c=this,h=_.now(),t=a.reduce(function(t,e){return t.add(e.key)},tn());return this.persistence.runTransaction("Locally write mutations","readwrite",function(s){return c.yu.Yn(s,t).next(function(t){u=t;for(var e=[],n=0,r=a;n<r.length;n++){var i=r[n],o=i.Pt(u.get(i.key));null!=o&&e.push(new Dt(i.key,o,function a(t){var u=[];return B(t.fields||{},function(t,e){var n=new M([t]);if(lt(e)){var r=a(e.mapValue).fields;if(0===r.length)u.push(n);else for(var i=0,o=r;i<o.length;i++){var s=o[i];u.push(n.child(s))}}else u.push(n)}),new At(u)}(o.proto.mapValue),Pt.exists(!0)))}return c.Wn.Yo(s,h,e,a)})}).then(function(t){var e=t.In(u);return{batchId:t.batchId,Dn:e}})},Qi.prototype.Nu=function(r){var i=this;return this.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(t){var e=r.batch.keys(),n=i.pu.Yr({Xr:!0});return i.ku(t,r,n).next(function(){return n.apply(t)}).next(function(){return i.Wn.ra(t)}).next(function(){return i.yu.Yn(t,e)})})},Qi.prototype.Mu=function(t){var r=this;return this.persistence.runTransaction("Reject batch","readwrite-primary",function(e){var n;return r.Wn.Jo(e,t).next(function(t){return Cn(null!==t),n=t.keys(),r.Wn.ia(e,t)}).next(function(){return r.Wn.ra(e)}).next(function(){return r.yu.Yn(e,n)})})},Qi.prototype.ta=function(){var e=this;return this.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(t){return e.Wn.ta(t)})},Qi.prototype._h=function(){var e=this;return this.persistence.runTransaction("Get last remote snapshot version","readonly",function(t){return e.Jh._h(t)})},Qi.prototype.xu=function(u){var c=this,h=u.Ee,f=this.Pu;return this.persistence.runTransaction("Apply remote event","readwrite-primary",function(o){var i=c.pu.Yr({Xr:!0});f=c.Pu;var s=[];u.as.forEach(function(t,e){var n,r,i=f.get(e);i&&(s.push(c.Jh.bh(o,t.Is,e).next(function(){return c.Jh.ph(o,t.Ts,e)})),0<(n=t.resumeToken).rt()&&(r=i.we(n,h).Ie(o.Oh),f=f.Ae(e,r),Qi.$u(i,r,t)&&s.push(c.Jh.Ih(o,r))))});var t,a=$e,n=tn();return u.cs.forEach(function(t,e){n=n.add(t)}),s.push(i.getEntries(o,n).next(function(r){u.cs.forEach(function(t,e){var n=r.get(t);e instanceof he&&e.version.isEqual(O.min())?(i.Mn(t,h),a=a.Ae(t,e)):null==n||0<e.version.S(n.version)||0===e.version.S(n.version)&&n.hasPendingWrites?(i.Nn(e,h),a=a.Ae(t,e)):xn("LocalStore","Ignoring outdated watch update for ",t,". Current version:",n.version," Watch version:",e.version),u._s.has(t)&&s.push(c.persistence.hh.Ko(o,t))})})),h.isEqual(O.min())||(t=c.Jh._h(o).next(function(t){return c.Jh.dh(o,o.Oh,h)}),s.push(t)),Hn.vn(s).next(function(){return i.apply(o)}).next(function(){return c.yu.Jn(o,a)})}).then(function(t){return c.Pu=f,t})},Qi.$u=function(t,e,n){return Cn(0<e.resumeToken.rt()),0===t.resumeToken.rt()||e.Ee.D()-t.Ee.D()>=this.Ou||0<n.Ts.size+n.Es.size+n.Is.size},Qi.prototype.Lu=function(h){return v.__awaiter(this,void 0,void 0,function(){var e,n,r,i,o,s,a,u,c=this;return v.__generator(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,this.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(n){return Hn.forEach(h,function(e){return Hn.forEach(e.hr,function(t){return c.persistence.hh.yh(n,e.targetId,t)}).next(function(){return Hn.forEach(e.or,function(t){return c.persistence.hh.vh(n,e.targetId,t)})})})})];case 1:return t.sent(),[3,3];case 2:if(!Pi(e=t.sent()))throw e;return xn("LocalStore","Failed to update sequence numbers: "+e),[3,3];case 3:for(n=0,r=h;n<r.length;n++)i=r[n],o=i.targetId,i.fromCache||(s=this.Pu.get(o),a=s.Ee,u=s.Re(a),this.Pu=this.Pu.Ae(o,u));return[2]}})})},Qi.prototype.Bu=function(e){var n=this;return this.persistence.runTransaction("Get next mutation batch","readonly",function(t){return void 0===e&&(e=-1),n.Wn.Zo(t,e)})},Qi.prototype.qu=function(e){var n=this;return this.persistence.runTransaction("read document","readonly",function(t){return n.yu.Kn(t,e)})},Qi.prototype.Uu=function(r){var i=this;return this.persistence.runTransaction("Allocate target","readwrite",function(e){var n;return i.Jh.gh(e,r).next(function(t){return t?(n=t,Hn.resolve(n)):i.Jh.oh(e).next(function(t){return n=new _e(r,t,0,e.Oh),i.Jh.fh(e,n).next(function(){return n})})})}).then(function(t){var e=i.Pu.get(t.targetId);return(null===e||0<t.Ee.S(e.Ee))&&(i.Pu=i.Pu.Ae(t.targetId,t),i.Vu.set(r,t.targetId)),t})},Qi.prototype.gh=function(t,e){var n=this.Vu.get(e);return void 0!==n?Hn.resolve(this.Pu.get(n)):this.Jh.gh(t,e)},Qi.prototype.Qu=function(t,e){var n=this,r=this.Pu.get(t),i=e?"readwrite":"readwrite-primary";return this.persistence.runTransaction("Release target",i,function(t){return e?Hn.resolve():n.persistence.hh.removeTarget(t,r)}).then(function(){n.Pu=n.Pu.remove(t),n.Vu.delete(r.target)})},Qi.prototype.Wu=function(t,n){var r=this,i=O.min(),o=tn();return this.persistence.runTransaction("Execute query","readonly",function(e){return r.gh(e,t.ee()).next(function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Jh.Sh(e,t.targetId).next(function(t){o=t})}).next(function(){return r.mu.Zn(e,t,n?i:O.min(),n?o:tn())}).next(function(t){return{documents:t,ju:o}})})},Qi.prototype.ku=function(t,i,o){var e=this,s=i.batch,n=s.keys(),a=Hn.resolve();return n.forEach(function(r){a=a.next(function(){return o.xn(t,r)}).next(function(t){var e=t,n=i.Rn.get(r);Cn(null!==n),(!e||e.version.S(n)<0)&&(e=s.at(r,e,i))&&o.Nn(e,i.wn)})}),a.next(function(){return e.Wn.ia(t,s)})},Qi.prototype.Tu=function(e){var n=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(t){return e.Ru(t,n.Pu)})},Qi);function Qi(t,e,n){this.persistence=t,this.mu=e,this.Pu=new Ve(Fn),this.Vu=new Gn(function(t){return t.canonicalId()}),this.gu=O.min(),this.Wn=t.Do(n),this.pu=t.No(),this.Jh=t.Fo(),this.yu=new Yn(this.pu,this.Wn,this.persistence.ko()),this.mu.bu(this.yu)}function Zi(t,e){this.Eu=t,this.du=e}function to(t,e){this.$o=t,this.Ra=e,this._u=!1,this.lu=null}Ji.Ou=3e8;var eo,no=(eo=Ji,v.__extends(ro,eo),ro.prototype.start=function(){return this.Ku()},ro.prototype.Gu=function(t){var n=this;return this.persistence.runTransaction("Lookup mutation documents","readonly",function(e){return n.Wn.Xo(e,t).next(function(t){return t?n.yu.Yn(e,t):Hn.resolve(null)})})},ro.prototype.zu=function(t){this.Wn.na(t)},ro.prototype.uo=function(t){this.persistence.uo(t)},ro.prototype.So=function(){return this.persistence.So()},ro.prototype.Hu=function(e){var n=this,t=this.Pu.get(e);return t?Promise.resolve(t.target):this.persistence.runTransaction("Get target data","readonly",function(t){return n.Jh.si(t,e).next(function(t){return t?t.target:null})})},ro.prototype.Kr=function(){var r=this;return this.persistence.runTransaction("Get new document changes","readonly",function(t){return r.pu.Kr(t,r.gu)}).then(function(t){var e=t.Gr,n=t.readTime;return r.gu=n,e})},ro.prototype.Ku=function(){return v.__awaiter(this,void 0,void 0,function(){var e,n=this;return v.__generator(this,function(t){switch(t.label){case 0:return[4,(e=this).persistence.runTransaction("Synchronize last document change read time","readonly",function(t){return n.pu.Hr(t)})];case 1:return e.gu=t.sent(),[2]}})})},ro);function ro(t,e,n){var r=this;return(r=eo.call(this,t,e,n)||this).persistence=t,r.Wn=t.Do(n),r.pu=t.No(),r.Jh=t.Fo(),r}function io(e){return v.__awaiter(this,void 0,void 0,function(){return v.__generator(this,function(t){if(e.code!==y.FAILED_PRECONDITION||e.message!==$n)throw e;return xn("LocalStore","Unexpectedly lost primary lease"),[2]})})}var oo=(uo.prototype.B=function(){return this.Yu.B()},uo.prototype.yh=function(t,e){var n=new so(t,e);this.Yu=this.Yu.add(n),this.Xu=this.Xu.add(n)},uo.prototype.tc=function(t,e){var n=this;t.forEach(function(t){return n.yh(t,e)})},uo.prototype.vh=function(t,e){this.ec(new so(t,e))},uo.prototype.sc=function(t,e){var n=this;t.forEach(function(t){return n.vh(t,e)})},uo.prototype.ic=function(t){var e=this,n=V.EMPTY,r=new so(n,t),i=new so(n,t+1),o=[];return this.Xu.Ke([r,i],function(t){e.ec(t),o.push(t.key)}),o},uo.prototype.nc=function(){var e=this;this.Yu.forEach(function(t){return e.ec(t)})},uo.prototype.ec=function(t){this.Yu=this.Yu.delete(t),this.Xu=this.Xu.delete(t)},uo.prototype.rc=function(t){var e=V.EMPTY,n=new so(e,t),r=new so(e,t+1),i=tn();return this.Xu.Ke([n,r],function(t){i=i.add(t.key)}),i},uo.prototype.Ch=function(t){var e=new so(t,0),n=this.Yu.ze(e);return null!==n&&t.isEqual(n.key)},uo),so=(ao.Ju=function(t,e){return V.N(t.key,e.key)||Fn(t.hc,e.hc)},ao.Zu=function(t,e){return Fn(t.hc,e.hc)||V.N(t.key,e.key)},ao);function ao(t,e){this.key=t,this.hc=e}function uo(){this.Yu=new He(so.Ju),this.Xu=new He(so.Zu)}function co(t,e){if(0!==e.length)throw new g(y.INVALID_ARGUMENT,"Function "+t+"() does not support arguments, but was called with "+Ao(e.length,"argument")+".")}function ho(t,e,n){if(e.length!==n)throw new g(y.INVALID_ARGUMENT,"Function "+t+"() requires "+Ao(n,"argument")+", but was called with "+Ao(e.length,"argument")+".")}function fo(t,e,n){if(e.length<n)throw new g(y.INVALID_ARGUMENT,"Function "+t+"() requires at least "+Ao(n,"argument")+", but was called with "+Ao(e.length,"argument")+".")}function lo(t,e,n,r){if(e.length<n||e.length>r)throw new g(y.INVALID_ARGUMENT,"Function "+t+"() requires between "+n+" and "+r+" arguments, but was called with "+Ao(e.length,"argument")+".")}function po(t,e,n,r){wo(t,e,No(n)+" argument",r)}function vo(t,e,n,r){void 0!==r&&po(t,e,n,r)}function yo(t,e,n,r){wo(t,e,n+" option",r)}function go(t,e,n,r){void 0!==r&&yo(t,e,n,r)}function mo(t,e,n,r,u){void 0!==r&&function(t,e,n){for(var r=[],i=0,o=u;i<o.length;i++){var s=o[i];if(s===n)return;r.push(_o(s))}var a=_o(n);throw new g(y.INVALID_ARGUMENT,"Invalid value "+a+" provided to function "+t+'() for option "'+e+'". Acceptable values: '+r.join(", "))}(t,n,r)}function bo(t,e,n,r){if(!e.some(function(t){return t===r}))throw new g(y.INVALID_ARGUMENT,"Invalid value "+_o(r)+" provided to function "+t+"() for its "+No(n)+" argument. Acceptable values: "+e.join(", "));return r}function wo(t,e,n,r){if(!("object"===e?Eo(r):"non-empty string"===e?"string"==typeof r&&""!==r:typeof r===e)){var i=_o(r);throw new g(y.INVALID_ARGUMENT,"Function "+t+"() requires its "+n+" to be of type "+e+", but it was: "+i)}}function Eo(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}function _o(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return 20<e.length&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"!=typeof e)return"function"==typeof e?"a function":jn();if(e instanceof Array)return"an array";var t=function(){if(e.constructor){var t=/function\s+([^\s(]+)\s*\(/.exec(e.constructor.toString());if(t&&1<t.length)return t[1]}return null}();return t?"a custom "+t+" object":"an object"}function Io(t,e,n){if(void 0===n)throw new g(y.INVALID_ARGUMENT,"Function "+t+"() requires a valid "+No(e)+" argument, but it was undefined.")}function To(n,t,r){B(t,function(t,e){if(r.indexOf(t)<0)throw new g(y.INVALID_ARGUMENT,"Unknown option '"+t+"' passed to function "+n+"(). Available options: "+r.join(", "))})}function So(t,e,n,r){var i=_o(r);return new g(y.INVALID_ARGUMENT,"Function "+t+"() requires its "+No(n)+" argument to be a "+e+", but it was: "+i)}function Oo(t,e,n){if(n<=0)throw new g(y.INVALID_ARGUMENT,"Function "+t+"() requires its "+No(e)+" argument to be a positive number, but it was: "+n+".")}function No(t){switch(t){case 1:return"first";case 2:return"second";case 3:return"third";default:return t+"th"}}function Ao(t,e){return t+" "+e+(1===t?"":"s")}function ko(){if("undefined"==typeof Uint8Array)throw new g(y.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function Po(){if(!Nn.nt().oc)throw new g(y.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}function xo(t){!function(){if(!(t instanceof Array)||t.length<1)throw new g(y.INVALID_ARGUMENT,"Function FieldPath() requires its fieldNames argument to be an array with at least 1 element.")}();for(var e=0;e<t.length;++e)if(po("FieldPath","string",e,t[e]),0===t[e].length)throw new g(y.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.uc=new M(t)}var Ro,Do=(Lo.fromBase64String=function(t){ho("Blob.fromBase64String",arguments,1),po("Blob.fromBase64String","string",1,t),Po();try{return new Lo(W.fromBase64String(t))}catch(t){throw new g(y.INVALID_ARGUMENT,"Failed to construct Blob from Base64 string: "+t)}},Lo.fromUint8Array=function(t){if(ho("Blob.fromUint8Array",arguments,1),ko(),!(t instanceof Uint8Array))throw So("Blob.fromUint8Array","Uint8Array",1,t);return new Lo(W.fromUint8Array(t))},Lo.prototype.toBase64=function(){return ho("Blob.toBase64",arguments,0),Po(),this.ac.toBase64()},Lo.prototype.toUint8Array=function(){return ho("Blob.toUint8Array",arguments,0),ko(),this.ac.toUint8Array()},Lo.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},Lo.prototype.isEqual=function(t){return this.ac.isEqual(t.ac)},Lo),jo=(Ro=xo,v.__extends(Co,Ro),Co.documentId=function(){return Co.cc},Co.prototype.isEqual=function(t){if(!(t instanceof Co))throw So("isEqual","FieldPath",1,t);return this.uc.isEqual(t.uc)},Co);function Co(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Ro.call(this,t)||this}function Lo(t){Po(),this.ac=t}jo.cc=new jo(M.J().j());var Mo,Fo,Vo,Uo,qo,Bo,Go,Wo=new RegExp("[~\\*/\\[\\]]"),zo=function(){this._c=this},Ho=(Go=zo,v.__extends(ps,Go),ps.prototype.dc=function(t){if(2!==t.fc)throw 1===t.fc?t.Tc(this.lc+"() can only appear at the top level of your update data"):t.Tc(this.lc+"() cannot be used with set() unless you pass {merge:true}");return t.Vt.push(t.path),null},ps.prototype.isEqual=function(t){return t instanceof ps},ps),Ko=(Bo=zo,v.__extends(ls,Bo),ls.prototype.dc=function(t){return new kt(t.path,pt.instance)},ls.prototype.isEqual=function(t){return t instanceof ls},ls),$o=(qo=zo,v.__extends(fs,qo),fs.prototype.dc=function(t){var e=new vs({fc:3,methodName:this.lc,Ic:!0},t.ii,t.serializer,t.ignoreUndefinedProperties),n=this.Ec.map(function(t){return bs(t,e)}),r=new vt(n);return new kt(t.path,r)},fs.prototype.isEqual=function(t){return this===t},fs),Xo=(Uo=zo,v.__extends(hs,Uo),hs.prototype.dc=function(t){var e=new vs({fc:3,methodName:this.lc,Ic:!0},t.ii,t.serializer,t.ignoreUndefinedProperties),n=this.Ec.map(function(t){return bs(t,e)}),r=new yt(n);return new kt(t.path,r)},hs.prototype.isEqual=function(t){return this===t},hs),Yo=(Vo=zo,v.__extends(cs,Vo),cs.prototype.dc=function(t){var e=new vs({fc:3,methodName:this.lc},t.ii,t.serializer,t.ignoreUndefinedProperties),n=bs(this.wc,e),r=new gt(t.serializer,n);return new kt(t.path,r)},cs.prototype.isEqual=function(t){return this===t},cs),Jo=(Fo=zo,v.__extends(us,Fo),us.delete=function(){return co("FieldValue.delete",arguments),new Qo(new Ho("FieldValue.delete"))},us.serverTimestamp=function(){return co("FieldValue.serverTimestamp",arguments),new Qo(new Ko("FieldValue.serverTimestamp"))},us.arrayUnion=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return fo("FieldValue.arrayUnion",arguments,1),new Qo(new $o("FieldValue.arrayUnion",t))},us.arrayRemove=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return fo("FieldValue.arrayRemove",arguments,1),new Qo(new Xo("FieldValue.arrayRemove",t))},us.increment=function(t){return po("FieldValue.increment","number",1,t),ho("FieldValue.increment",arguments,1),new Qo(new Yo("FieldValue.increment",t))},us),Qo=(Mo=Jo,v.__extends(as,Mo),as.prototype.dc=function(t){return this._c.dc(t)},as.prototype.isEqual=function(t){return t instanceof as&&this._c.isEqual(t._c)},as),Zo=(Object.defineProperty(ss.prototype,"latitude",{get:function(){return this.Rc},enumerable:!0,configurable:!0}),Object.defineProperty(ss.prototype,"longitude",{get:function(){return this.Ac},enumerable:!0,configurable:!0}),ss.prototype.isEqual=function(t){return this.Rc===t.Rc&&this.Ac===t.Ac},ss.prototype.p=function(t){return Fn(this.Rc,t.Rc)||Fn(this.Ac,t.Ac)},ss),ts=/^__.*__$/,es=function(t,e,n){this.mc=t,this.Pc=e,this.Vc=n},ns=(os.prototype.gc=function(t,e){var n=[];return null!==this.Vt?n.push(new Dt(t,this.data,this.Vt,e)):n.push(new Rt(t,this.data,e)),0<this.fieldTransforms.length&&n.push(new jt(t,this.fieldTransforms)),n},os),rs=(is.prototype.gc=function(t,e){var n=[new Dt(t,this.data,this.Vt,e)];return 0<this.fieldTransforms.length&&n.push(new jt(t,this.fieldTransforms)),n},is);function is(t,e,n){this.data=t,this.Vt=e,this.fieldTransforms=n}function os(t,e,n){this.data=t,this.Vt=e,this.fieldTransforms=n}function ss(t,e){if(ho("GeoPoint",arguments,2),po("GeoPoint","number",1,t),po("GeoPoint","number",2,e),!isFinite(t)||t<-90||90<t)throw new g(y.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||180<e)throw new g(y.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this.Rc=t,this.Ac=e}function as(t){var e=this;return(e=Mo.call(this)||this)._c=t,e.lc=t.lc,e}function us(){return null!==Fo&&Fo.apply(this,arguments)||this}function cs(t,e){var n=this;return(n=Vo.call(this)||this).lc=t,n.wc=e,n}function hs(t,e){var n=this;return(n=Uo.call(this)||this).lc=t,n.Ec=e,n}function fs(t,e){var n=this;return(n=qo.call(this)||this).lc=t,n.Ec=e,n}function ls(t){var e=this;return(e=Bo.call(this)||this).lc=t,e}function ps(t){var e=this;return(e=Go.call(this)||this).lc=t,e}function ds(t){switch(t){case 0:case 2:case 1:return 1;case 3:case 4:return;default:throw jn()}}var vs=(Object.defineProperty(ms.prototype,"path",{get:function(){return this.settings.path},enumerable:!0,configurable:!0}),Object.defineProperty(ms.prototype,"fc",{get:function(){return this.settings.fc},enumerable:!0,configurable:!0}),ms.prototype.yc=function(t){return new ms(Object.assign(Object.assign({},this.settings),t),this.ii,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.Vt)},ms.prototype.bc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.yc({path:n,Ic:!1});return r.vc(t),r},ms.prototype.Sc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.yc({path:n,Ic:!1});return r.pc(),r},ms.prototype.Dc=function(t){return this.yc({path:void 0,Ic:!0})},ms.prototype.Tc=function(t){var e=!this.path||this.path.B()?"":" (found in field "+this.path.toString()+")";return new g(y.INVALID_ARGUMENT,"Function "+this.settings.methodName+"() called with invalid data. "+t+e)},ms.prototype.contains=function(e){return void 0!==this.Vt.find(function(t){return e.q(t)})||void 0!==this.fieldTransforms.find(function(t){return e.q(t.field)})},ms.prototype.pc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.vc(this.path.get(t))},ms.prototype.vc=function(t){if(0===t.length)throw this.Tc("Document fields must not be empty");if(ds(this.fc)&&ts.test(t))throw this.Tc('Document fields cannot begin and end with "__"')},ms),ys=(gs.prototype.Fc=function(t,e,n){void 0===n&&(n={});var r=this.Nc(n.merge||n.mergeFields?2:0,t);_s("Data must be an object, but it was:",r,e);var i,o,s=ws(e,r);if(n.merge)i=new At(r.Vt),o=r.fieldTransforms;else if(n.mergeFields){for(var a=[],u=0,c=n.mergeFields;u<c.length;u++){var h=c[u],f=void 0;if(h instanceof xo)f=h.uc;else{if("string"!=typeof h)throw jn();f=Ts(t,h)}if(!r.contains(f))throw new g(y.INVALID_ARGUMENT,"Field '"+f+"' is specified in your field mask but missing from your input data.");Ss(a,f)||a.push(f)}i=new At(a),o=r.fieldTransforms.filter(function(t){return i.dt(t.field)})}else i=null,o=r.fieldTransforms;return new ns(new Mt(s),i,o)},gs.prototype.kc=function(o,t){var s=this.Nc(1,o);_s("Data must be an object, but it was:",s,t);var a=[],u=new Ft;B(t,function(t,e){var n,r=Ts(o,t),i=s.Sc(r);e instanceof zo&&e._c instanceof Ho?a.push(r):null!=(n=bs(e,i))&&(a.push(r),u.set(r,n))});var e=new At(a);return new rs(u.yt(),e,s.fieldTransforms)},gs.prototype.Mc=function(t,e,n,r){var i=this.Nc(1,t),o=[Is(t,e)],s=[n];if(r.length%2!=0)throw new g(y.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var a=0;a<r.length;a+=2)o.push(Is(t,r[a])),s.push(r[a+1]);for(var u,c,h,f,l=[],p=new Ft,d=o.length-1;0<=d;--d)Ss(l,o[d])||(u=o[d],c=s[d],h=i.Sc(u),c instanceof zo&&c._c instanceof Ho?l.push(u):null!=(f=bs(c,h))&&(l.push(u),p.set(u,f)));var v=new At(l);return new rs(p.yt(),v,i.fieldTransforms)},gs.prototype.Nc=function(t,e){return new vs({fc:t,methodName:e,path:M.G,Ic:!1},this.ii,this.serializer,this.ignoreUndefinedProperties)},gs.prototype.xc=function(t,e,n){return void 0===n&&(n=!1),bs(e,this.Nc(n?4:3,t))},gs);function gs(t,e,n){this.ii=t,this.ignoreUndefinedProperties=e,this.serializer=n||Nn.nt().Cc(t)}function ms(t,e,n,r,i,o){this.settings=t,this.ii=e,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.pc(),this.fieldTransforms=i||[],this.Vt=o||[]}function bs(s,t){if(Es(s))return _s("Unsupported field value:",t,s),ws(s,t);if(s instanceof zo)return function(t,e){if(!ds(e.fc))throw e.Tc(t.lc+"() can only be used with update() and set()");if(!e.path)throw e.Tc(t.lc+"() is not currently supported inside arrays");var n=t.dc(e);n&&e.fieldTransforms.push(n)}(s,t),null;if(t.path&&t.Vt.push(t.path),s instanceof Array){if(t.settings.Ic&&4!==t.fc)throw t.Tc("Nested arrays are not supported");return function(t){for(var e=[],n=0,r=0,i=s;r<i.length;r++){var o=bs(i[r],t.Dc(n));null==o&&(o={nullValue:"NULL_VALUE"}),e.push(o),n++}return{arrayValue:{values:e}}}(t)}return function(t,e){if(null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return e.serializer.ai(t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=_.fromDate(t);return{timestampValue:e.serializer.C(n)}}if(t instanceof _){var r=new _(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:e.serializer.C(r)}}if(t instanceof Zo)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Do)return{bytesValue:e.serializer.ui(t)};if(t instanceof es){var i=e.ii,o=t.mc;if(!o.isEqual(i))throw e.Tc("Document reference is for database "+o.projectId+"/"+o.database+" but should be for database "+i.projectId+"/"+i.database);return{referenceValue:e.serializer._i(t.Pc.path,t.mc)}}if(void 0===t&&e.ignoreUndefinedProperties)return null;throw e.Tc("Unsupported field value: "+_o(t))}(s,t)}function ws(t,r){var i={};return G(t)?r.path&&0<r.path.length&&r.Vt.push(r.path):B(t,function(t,e){var n=bs(e,r.bc(t));null!=n&&(i[t]=n)}),{mapValue:{fields:i}}}function Es(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof _||t instanceof Zo||t instanceof Do||t instanceof es||t instanceof zo)}function _s(t,e,n){if(!Es(n)||!Eo(n)){var r=_o(n);throw"an object"===r?e.Tc(t+" a custom object"):e.Tc(t+" "+r)}}function Is(t,e){if(e instanceof xo)return e.uc;if("string"==typeof e)return Ts(t,e);throw new g(y.INVALID_ARGUMENT,"Function "+t+"() called with invalid data. Field path arguments must be of type string or FieldPath.")}function Ts(t,e){try{return function(e){if(0<=e.search(Wo))throw new g(y.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'");try{return new(jo.bind.apply(jo,v.__spreadArrays([void 0],e.split("."))))}catch(t){throw new g(y.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'")}}(e).uc}catch(e){var n=e instanceof Error?e.message:e.toString();throw new g(y.INVALID_ARGUMENT,"Function "+t+"() called with invalid data. "+n)}}function Ss(t,e){return t.some(function(t){return t.isEqual(e)})}var Os,Ns,As,ks=(Bs.prototype.Uc=function(){return 1===this.state||2===this.state||4===this.state},Bs.prototype.Qc=function(){return 2===this.state},Bs.prototype.start=function(){3!==this.state?this.auth():this.Wc()},Bs.prototype.stop=function(){return v.__awaiter(this,void 0,void 0,function(){return v.__generator(this,function(t){switch(t.label){case 0:return this.Uc()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},Bs.prototype.jc=function(){this.state=0,this.Na.reset()},Bs.prototype.Kc=function(){var t=this;this.Qc()&&null===this.qc&&(this.qc=this.Tr.yr(this.$c,6e4,function(){return t.Gc()}))},Bs.prototype.zc=function(t){this.Hc(),this.stream.send(t)},Bs.prototype.Gc=function(){return v.__awaiter(this,void 0,void 0,function(){return v.__generator(this,function(t){return this.Qc()?[2,this.close(0)]:[2]})})},Bs.prototype.Hc=function(){this.qc&&(this.qc.cancel(),this.qc=null)},Bs.prototype.close=function(e,n){return v.__awaiter(this,void 0,void 0,function(){return v.__generator(this,function(t){switch(t.label){case 0:return this.Hc(),this.Na.cancel(),this.Bc++,3!==e?this.Na.reset():n&&n.code===y.RESOURCE_EXHAUSTED?(Rn(n.toString()),Rn("Using maximum backoff delay to prevent overloading the backend."),this.Na.Vr()):n&&n.code===y.UNAUTHENTICATED&&this.Lc._(),null!==this.stream&&(this.Yc(),this.stream.close(),this.stream=null),this.state=e,[4,this.listener.Jc(n)];case 1:return t.sent(),[2]}})})},Bs.prototype.Yc=function(){},Bs.prototype.auth=function(){var n=this;this.state=1;var t=this.Xc(this.Bc),e=this.Bc;this.Lc.getToken().then(function(t){n.Bc===e&&n.Zc(t)},function(e){t(function(){var t=new g(y.UNKNOWN,"Fetching auth token failed: "+e.message);return n.t_(t)})})},Bs.prototype.Zc=function(t){var e=this,n=this.Xc(this.Bc);this.stream=this.e_(t),this.stream.s_(function(){n(function(){return e.state=2,e.listener.s_()})}),this.stream.Jc(function(t){n(function(){return e.t_(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})})},Bs.prototype.Wc=function(){var t=this;this.state=4,this.Na.gr(function(){return v.__awaiter(t,void 0,void 0,function(){return v.__generator(this,function(t){return this.state=0,this.start(),[2]})})})},Bs.prototype.t_=function(t){return xn("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},Bs.prototype.Xc=function(e){var n=this;return function(t){n.Tr.co(function(){return n.Bc===e?t():(xn("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},Bs),Ps=(As=ks,v.__extends(qs,As),qs.prototype.e_=function(t){return this.Oc.i_("Listen",t)},qs.prototype.onMessage=function(t){this.Na.reset();var e=this.serializer.pi(t),n=this.serializer.bi(t);return this.listener.n_(e,n)},qs.prototype.r_=function(t){var e={};e.database=this.serializer.wi,e.addTarget=this.serializer.ee(t);var n=this.serializer.zi(t);n&&(e.labels=n),this.zc(e)},qs.prototype.h_=function(t){var e={};e.database=this.serializer.wi,e.removeTarget=t,this.zc(e)},qs),xs=(Ns=ks,v.__extends(Us,Ns),Object.defineProperty(Us.prototype,"a_",{get:function(){return this.o_},enumerable:!0,configurable:!0}),Us.prototype.start=function(){this.o_=!1,this.lastStreamToken=W.ht,Ns.prototype.start.call(this)},Us.prototype.Yc=function(){this.o_&&this.u_([])},Us.prototype.e_=function(t){return this.Oc.i_("Write",t)},Us.prototype.onMessage=function(t){if(Cn(!!t.streamToken),this.lastStreamToken=this.serializer.ci(t.streamToken),this.o_){this.Na.reset();var e=this.serializer.$i(t.writeResults,t.commitTime),n=this.serializer.fromVersion(t.commitTime);return this.listener.c_(n,e)}return Cn(!t.writeResults||0===t.writeResults.length),this.o_=!0,this.listener.__()},Us.prototype.l_=function(){var t={};t.database=this.serializer.wi,this.zc(t)},Us.prototype.u_=function(t){var e=this,n={streamToken:this.serializer.ui(this.lastStreamToken),writes:t.map(function(t){return e.serializer.vi(t)})};this.zc(n)},Us),Rs=(Os=function(){this.d_=void 0},v.__extends(Vs,Os),Vs.prototype.T_=function(){if(this.f_)throw new g(y.FAILED_PRECONDITION,"The client has already been terminated.")},Vs.prototype.E_=function(e,n){var r=this;return this.T_(),this.credentials.getToken().then(function(t){return r.Oc.E_(e,n,t)}).catch(function(t){throw t.code===y.UNAUTHENTICATED&&r.credentials._(),t})},Vs.prototype.I_=function(e,n){var r=this;return this.T_(),this.credentials.getToken().then(function(t){return r.Oc.I_(e,n,t)}).catch(function(t){throw t.code===y.UNAUTHENTICATED&&r.credentials._(),t})},Vs),Ds=(Fs.prototype.V_=function(r){return v.__awaiter(this,void 0,void 0,function(){var e,n=this;return v.__generator(this,function(t){switch(t.label){case 0:if(this.g_(),0<this.mutations.length)throw new g(y.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(s,a){return v.__awaiter(this,void 0,void 0,function(){var n,e,r,i,o;return v.__generator(this,function(t){switch(t.label){case 0:return e={database:(n=s).serializer.wi,documents:a.map(function(t){return n.serializer.fi(t)})},[4,n.I_("BatchGetDocuments",e)];case 1:return r=t.sent(),i=new Map,r.forEach(function(t){var e=n.serializer.gi(t);i.set(e.key.toString(),e)}),o=[],[2,(a.forEach(function(t){var e=i.get(t.toString());Cn(!!e),o.push(e)}),o)]}})})}(this.w_,r)];case 1:return[2,((e=t.sent()).forEach(function(t){t instanceof he||t instanceof ce?n.p_(t):jn()}),e)]}})})},Fs.prototype.set=function(t,e){this.write(e.gc(t,this.Rt(t))),this.P_.add(t)},Fs.prototype.update=function(t,e){try{this.write(e.gc(t,this.y_(t)))}catch(t){this.m_=t}this.P_.add(t)},Fs.prototype.delete=function(t){this.write([new Ct(t,this.Rt(t))]),this.P_.add(t)},Fs.prototype.commit=function(){return v.__awaiter(this,void 0,void 0,function(){var e,r=this;return v.__generator(this,function(t){switch(t.label){case 0:if(this.g_(),this.m_)throw this.m_;return e=this.R_,this.mutations.forEach(function(t){e.delete(t.key.toString())}),e.forEach(function(t,e){var n=new V(T.K(e));r.mutations.push(new Lt(n,r.Rt(n)))}),[4,function(r,i){return v.__awaiter(this,void 0,void 0,function(){var e,n;return v.__generator(this,function(t){switch(t.label){case 0:return n={database:(e=r).serializer.wi,writes:i.map(function(t){return e.serializer.vi(t)})},[4,e.E_("Commit",n)];case 1:return t.sent(),[2]}})})}(this.w_,this.mutations)];case 1:return t.sent(),this.A_=!0,[2]}})})},Fs.prototype.p_=function(t){var e;if(t instanceof ce)e=t.version;else{if(!(t instanceof he))throw jn();e=O.min()}var n=this.R_.get(t.key.toString());if(n){if(!e.isEqual(n))throw new g(y.ABORTED,"Document version changed between two reads.")}else this.R_.set(t.key.toString(),e)},Fs.prototype.Rt=function(t){var e=this.R_.get(t.toString());return!this.P_.has(t)&&e?Pt.updateTime(e):Pt.ft()},Fs.prototype.y_=function(t){var e=this.R_.get(t.toString());if(this.P_.has(t)||!e)return Pt.exists(!0);if(e.isEqual(O.min()))throw new g(y.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Pt.updateTime(e)},Fs.prototype.write=function(t){this.g_(),this.mutations=this.mutations.concat(t)},Fs.prototype.g_=function(){},Fs),js=(Ms.prototype.C_=function(){var t=this;0===this.v_&&(this.F_("Unknown"),this.S_=this.Ra.yr("online_state_timeout",1e4,function(){return t.S_=null,t.N_("Backend didn't respond within 10 seconds."),t.F_("Offline"),Promise.resolve()}))},Ms.prototype.k_=function(t){"Online"===this.state?this.F_("Unknown"):(this.v_++,1<=this.v_&&(this.M_(),this.N_("Connection failed 1 times. Most recent error: "+t.toString()),this.F_("Offline")))},Ms.prototype.set=function(t){this.M_(),this.v_=0,"Online"===t&&(this.D_=!1),this.F_(t)},Ms.prototype.F_=function(t){t!==this.state&&(this.state=t,this.b_(t))},Ms.prototype.N_=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.D_?(Rn(e),this.D_=!1):xn("OnlineStateTracker",e)},Ms.prototype.M_=function(){null!==this.S_&&(this.S_.cancel(),this.S_=null)},Ms),Cs=(Ls.prototype.start=function(){return this.enableNetwork()},Ls.prototype.enableNetwork=function(){return this.networkEnabled=!0,this.el()},Ls.prototype.el=function(){return v.__awaiter(this,void 0,void 0,function(){return v.__generator(this,function(t){switch(t.label){case 0:return this.W_()?(this.sl()?this.il():this.K_.set("Unknown"),[4,this.nl()]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},Ls.prototype.disableNetwork=function(){return v.__awaiter(this,void 0,void 0,function(){return v.__generator(this,function(t){switch(t.label){case 0:return this.networkEnabled=!1,[4,this.rl()];case 1:return t.sent(),this.K_.set("Offline"),[2]}})})},Ls.prototype.rl=function(){return v.__awaiter(this,void 0,void 0,function(){return v.__generator(this,function(t){switch(t.label){case 0:return[4,this.J_.stop()];case 1:return t.sent(),[4,this.G_.stop()];case 2:return t.sent(),0<this.O_.length&&(xn("RemoteStore","Stopping write stream with "+this.O_.length+" pending writes"),this.O_=[]),this.hl(),[2]}})})},Ls.prototype.Vo=function(){return v.__awaiter(this,void 0,void 0,function(){return v.__generator(this,function(t){switch(t.label){case 0:return xn("RemoteStore","RemoteStore shutting down."),this.networkEnabled=!1,[4,this.rl()];case 1:return t.sent(),this.U_.Vo(),this.K_.set("Unknown"),[2]}})})},Ls.prototype.listen=function(t){this.L_.has(t.targetId)||(this.L_.set(t.targetId,t),this.sl()?this.il():this.G_.Qc()&&this.ol(t))},Ls.prototype.al=function(t){this.L_.delete(t),this.G_.Qc()&&this.ul(t),0===this.L_.size&&(this.G_.Qc()?this.G_.Kc():this.W_()&&this.K_.set("Unknown"))},Ls.prototype.si=function(t){return this.L_.get(t)||null},Ls.prototype.ei=function(t){return this.cl.ei(t)},Ls.prototype.ol=function(t){this.B_.Ns(t.targetId),this.G_.r_(t)},Ls.prototype.ul=function(t){this.B_.Ns(t),this.G_.h_(t)},Ls.prototype.il=function(){this.B_=new ln(this),this.G_.start(),this.K_.C_()},Ls.prototype.sl=function(){return this.W_()&&!this.G_.Uc()&&0<this.L_.size},Ls.prototype.W_=function(){return!this.q_&&this.isPrimary&&this.networkEnabled},Ls.prototype.hl=function(){this.B_=null},Ls.prototype.z_=function(){return v.__awaiter(this,void 0,void 0,function(){var n=this;return v.__generator(this,function(t){return this.L_.forEach(function(t,e){n.ol(t)}),[2]})})},Ls.prototype.H_=function(e){return v.__awaiter(this,void 0,void 0,function(){return v.__generator(this,function(t){return this.hl(),this.sl()?(this.K_.k_(e),this.il()):this.K_.set("Unknown"),[2]})})},Ls.prototype.Y_=function(i,o){return v.__awaiter(this,void 0,void 0,function(){var e,n,r;return v.__generator(this,function(t){switch(t.label){case 0:if(this.K_.set("Online"),!(i instanceof on&&2===i.state&&i.cause))return[3,6];t.label=1;case 1:return t.trys.push([1,3,,5]),[4,this._l(i)];case 2:return t.sent(),[3,5];case 3:return e=t.sent(),xn("RemoteStore","Failed to remove targets %s: %s ",i.targetIds.join(","),e),[4,this.ll(e)];case 4:return t.sent(),[3,5];case 5:return[3,13];case 6:if(i instanceof nn?this.B_.qs(i):i instanceof rn?this.B_.Hs(i):this.B_.Ws(i),o.isEqual(O.min()))return[3,13];t.label=7;case 7:return t.trys.push([7,11,,13]),[4,this.x_._h()];case 8:return n=t.sent(),0<=o.S(n)?[4,this.dl(o)]:[3,10];case 9:t.sent(),t.label=10;case 10:return[3,13];case 11:return xn("RemoteStore","Failed to raise snapshot:",r=t.sent()),[4,this.ll(r)];case 12:return t.sent(),[3,13];case 13:return[2]}})})},Ls.prototype.ll=function(n,r){return v.__awaiter(this,void 0,void 0,function(){var e=this;return v.__generator(this,function(t){switch(t.label){case 0:if(!Pi(n))throw n;return this.q_=!0,[4,this.rl()];case 1:return t.sent(),this.K_.set("Offline"),r=r||function(){return e.x_._h()},this.Ra.lo(function(){return v.__awaiter(e,void 0,void 0,function(){return v.__generator(this,function(t){switch(t.label){case 0:return xn("RemoteStore","Retrying IndexedDB access"),[4,r()];case 1:return t.sent(),this.q_=!1,[4,this.el()];case 2:return t.sent(),[2]}})})}),[2]}})})},Ls.prototype.fl=function(e){var n=this;return e().catch(function(t){return n.ll(t,e)})},Ls.prototype.dl=function(r){var i=this,t=this.B_.Xs(r);return t.as.forEach(function(t,e){var n;0<t.resumeToken.rt()&&(n=i.L_.get(e))&&i.L_.set(e,n.we(t.resumeToken,r))}),t.us.forEach(function(t){var e,n=i.L_.get(t);n&&(i.L_.set(t,n.we(W.ht,n.Ee)),i.ul(t),e=new _e(n.target,t,1,n.sequenceNumber),i.ol(e))}),this.cl.xu(t)},Ls.prototype._l=function(o){return v.__awaiter(this,void 0,void 0,function(){var e,n,r,i;return v.__generator(this,function(t){switch(t.label){case 0:e=o.cause,n=0,r=o.targetIds,t.label=1;case 1:return n<r.length?(i=r[n],this.L_.has(i)?[4,this.cl.Tl(i,e)]:[3,3]):[3,5];case 2:t.sent(),this.L_.delete(i),this.B_.removeTarget(i),t.label=3;case 3:t.label=4;case 4:return n++,[3,1];case 5:return[2]}})})},Ls.prototype.nl=function(){return v.__awaiter(this,void 0,void 0,function(){var e,n,r;return v.__generator(this,function(t){switch(t.label){case 0:e=0<this.O_.length?this.O_[this.O_.length-1].batchId:-1,t.label=1;case 1:if(!this.El())return[3,7];t.label=2;case 2:return t.trys.push([2,4,,6]),[4,this.x_.Bu(e)];case 3:return null===(n=t.sent())?(0===this.O_.length&&this.J_.Kc(),[3,7]):(e=n.batchId,this.Il(n),[3,6]);case 4:return r=t.sent(),[4,this.ll(r)];case 5:return t.sent(),[3,6];case 6:return[3,1];case 7:return this.wl()&&this.Rl(),[2]}})})},Ls.prototype.El=function(){return this.W_()&&this.O_.length<10},Ls.prototype.Al=function(){return this.O_.length},Ls.prototype.Il=function(t){this.O_.push(t),this.J_.Qc()&&this.J_.a_&&this.J_.u_(t.mutations)},Ls.prototype.wl=function(){return this.W_()&&!this.J_.Uc()&&0<this.O_.length},Ls.prototype.Rl=function(){this.J_.start()},Ls.prototype.X_=function(){return v.__awaiter(this,void 0,void 0,function(){return v.__generator(this,function(t){return this.J_.l_(),[2]})})},Ls.prototype.tl=function(){return v.__awaiter(this,void 0,void 0,function(){var e,n,r;return v.__generator(this,function(t){for(e=0,n=this.O_;e<n.length;e++)r=n[e],this.J_.u_(r.mutations);return[2]})})},Ls.prototype.c_=function(i,o){return v.__awaiter(this,void 0,void 0,function(){var e,n,r=this;return v.__generator(this,function(t){switch(t.label){case 0:return e=this.O_.shift(),n=zn.from(e,i,o),[4,this.fl(function(){return r.cl.ml(n)})];case 1:return t.sent(),[4,this.nl()];case 2:return t.sent(),[2]}})})},Ls.prototype.Z_=function(e){return v.__awaiter(this,void 0,void 0,function(){return v.__generator(this,function(t){switch(t.label){case 0:return e&&this.J_.a_?[4,this.Pl(e)]:[3,2];case 1:t.sent(),t.label=2;case 2:return this.wl()&&this.Rl(),[2]}})})},Ls.prototype.Pl=function(i){return v.__awaiter(this,void 0,void 0,function(){var e,n,r=this;return v.__generator(this,function(t){switch(t.label){case 0:return Me(n=i.code)&&n!==y.ABORTED?(e=this.O_.shift(),this.J_.jc(),[4,this.fl(function(){return r.cl.Vl(e.batchId,i)})]):[3,3];case 1:return t.sent(),[4,this.nl()];case 2:t.sent(),t.label=3;case 3:return[2]}})})},Ls.prototype.gl=function(){return new Ds(this.w_)},Ls.prototype.j_=function(){return v.__awaiter(this,void 0,void 0,function(){return v.__generator(this,function(t){switch(t.label){case 0:return this.networkEnabled=!1,[4,this.rl()];case 1:return t.sent(),this.K_.set("Unknown"),[4,this.enableNetwork()];case 2:return t.sent(),[2]}})})},Ls.prototype.pl=function(){return v.__awaiter(this,void 0,void 0,function(){return v.__generator(this,function(t){switch(t.label){case 0:return this.W_()?(xn("RemoteStore","RemoteStore restarting streams for new credential"),[4,this.j_()]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},Ls.prototype.yl=function(e){return v.__awaiter(this,void 0,void 0,function(){return v.__generator(this,function(t){switch(t.label){case 0:return(this.isPrimary=e)&&this.networkEnabled?[4,this.enableNetwork()]:[3,2];case 1:return t.sent(),[3,5];case 2:return e?[3,4]:[4,this.rl()];case 3:t.sent(),this.K_.set("Unknown"),t.label=4;case 4:t.label=5;case 5:return[2]}})})},Ls);function Ls(t,e,n,r,i){var o,s,a,u,c,h,f=this;this.x_=t,this.w_=e,this.Ra=n,this.O_=[],this.L_=new Map,this.B_=null,this.networkEnabled=!1,this.isPrimary=!1,this.q_=!1,this.U_=i,this.U_.Q_(function(t){n.co(function(){return v.__awaiter(f,void 0,void 0,function(){return v.__generator(this,function(t){switch(t.label){case 0:return this.W_()?(xn("RemoteStore","Restarting streams for network reachability change."),[4,this.j_()]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})}),this.K_=new js(n,r),this.G_=(u=this.w_,c=n,h={s_:this.z_.bind(this),Jc:this.H_.bind(this),n_:this.Y_.bind(this)},new Ps(c,u.Oc,u.credentials,u.serializer,h)),this.J_=(o=this.w_,s=n,a={s_:this.X_.bind(this),Jc:this.Z_.bind(this),__:this.tl.bind(this),c_:this.c_.bind(this)},new xs(s,o.Oc,o.credentials,o.serializer,a))}function Ms(t,e){this.Ra=t,this.b_=e,this.state="Unknown",this.v_=0,this.S_=null,this.D_=!0}function Fs(t){this.w_=t,this.R_=new Map,this.mutations=[],this.A_=!1,this.m_=null,this.P_=new Set}function Vs(t,e,n){var r=this;return(r=Os.call(this)||this).Oc=t,r.credentials=e,r.serializer=n,r.f_=!1,r}function Us(t,e,n,r,i){var o=this;return(o=Ns.call(this,t,"write_stream_connection_backoff","write_stream_idle",e,n,i)||this).serializer=r,o.o_=!1,o.lastStreamToken=W.ht,o}function qs(t,e,n,r,i){var o=this;return(o=As.call(this,t,"listen_stream_connection_backoff","listen_stream_idle",e,n,i)||this).serializer=r,o}function Bs(t,e,n,r,i,o){this.Tr=t,this.$c=n,this.Oc=r,this.Lc=i,this.listener=o,this.state=0,this.Bc=0,this.qc=null,this.stream=null,this.Na=new hr(t,e)}function Gs(t,e){return"firestore_clients_"+t+"_"+e}function Ws(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.t()&&(r+="_"+e.uid),r}function zs(t,e){return"firestore_targets_"+t+"_"+e}function Hs(t){this.key=t}function Ks(t){this.key=t}function $s(t,e,n){this.query=t,this.targetId=e,this.view=n}function Xs(t){this.key=t,this.Qd=!1}function Ys(){this.bf=void 0,this.vf=[]}var Js,Qs,Zs=(Pa.bl=function(t,e,n){var r=JSON.parse(n),i="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),o=void 0;return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(o=new g(r.error.code,r.error.message)),i?new Pa(t,e,r.state,o):(Rn("SharedClientState","Failed to parse mutation state for ID '"+e+"': "+n),null)},Pa.prototype.vl=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},Pa),ta=(ka.bl=function(t,e){var n=JSON.parse(e),r="object"==typeof n&&-1!==["not-current","current","rejected"].indexOf(n.state)&&(void 0===n.error||"object"==typeof n.error),i=void 0;return r&&n.error&&(r="string"==typeof n.error.message&&"string"==typeof n.error.code)&&(i=new g(n.error.code,n.error.message)),r?new ka(t,n.state,i):(Rn("SharedClientState","Failed to parse target state for ID '"+t+"': "+e),null)},ka.prototype.vl=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},ka),ea=(Aa.bl=function(t,e){for(var n=JSON.parse(e),r="object"==typeof n&&n.activeTargetIds instanceof Array,i=en,o=0;r&&o<n.activeTargetIds.length;++o)r=$(n.activeTargetIds[o]),i=i.add(n.activeTargetIds[o]);return r?new Aa(t,i):(Rn("SharedClientState","Failed to parse client data for instance '"+t+"': "+e),null)},Aa),na=(Na.bl=function(t){var e=JSON.parse(t);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new Na(e.clientId,e.onlineState):(Rn("SharedClientState","Failed to parse online state: "+t),null)},Na),ra=(Oa.prototype.Sl=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},Oa.prototype.Dl=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},Oa.prototype.vl=function(){var t={activeTargetIds:this.activeTargetIds.W(),updateTimeMs:Date.now()};return JSON.stringify(t)},Oa),ia=(Sa.zh=function(t){return!(!t.window||null==t.window.localStorage)},Sa.prototype.start=function(){return v.__awaiter(this,void 0,void 0,function(){var e,n,r,i,o,s,a,u,c,h,f,l=this;return v.__generator(this,function(t){switch(t.label){case 0:return[4,this.cl.So()];case 1:for(e=t.sent(),n=0,r=e;n<r.length;n++)(i=r[n])!==this.Cl&&(o=this.getItem(Gs(this.persistenceKey,i)))&&(s=ea.bl(i,o))&&(this.kl=this.kl.Ae(s.clientId,s));for(this.Ul(),(a=this.storage.getItem(this.ql))&&(u=this.Ql(a))&&this.Wl(u),c=0,h=this.Ml;c<h.length;c++)f=h[c],this.Nl(f);return this.Ml=[],this.platform.window.addEventListener("unload",function(){return l.Vo()}),this.ho=!0,[2]}})})},Sa.prototype.lr=function(t){this.setItem(this.$l,JSON.stringify(t))},Sa.prototype.jl=function(){return this.Kl(this.kl)},Sa.prototype.Gl=function(n){var r=!1;return this.kl.forEach(function(t,e){e.activeTargetIds.has(n)&&(r=!0)}),r},Sa.prototype.zl=function(t){this.Hl(t,"pending")},Sa.prototype.Yl=function(t,e,n){this.Hl(t,e,n),this.Jl(t)},Sa.prototype.Xl=function(t){var e,n,r="not-current";return this.Gl(t)&&(!(e=this.storage.getItem(zs(this.persistenceKey,t)))||(n=ta.bl(t,e))&&(r=n.state)),this.Zl.Sl(t),this.Ul(),r},Sa.prototype.td=function(t){this.Zl.Dl(t),this.Ul()},Sa.prototype.ed=function(t){return this.Zl.activeTargetIds.has(t)},Sa.prototype.sd=function(t){this.removeItem(zs(this.persistenceKey,t))},Sa.prototype.nd=function(t,e,n){this.rd(t,e,n)},Sa.prototype.vu=function(t,e,n){var r=this;e.forEach(function(t){r.Jl(t)}),this.currentUser=t,n.forEach(function(t){r.zl(t)})},Sa.prototype.hd=function(t){this.od(t)},Sa.prototype.Vo=function(){this.ho&&(this.platform.window.removeEventListener("storage",this.Fl),this.removeItem(this.xl),this.ho=!1)},Sa.prototype.getItem=function(t){var e=this.storage.getItem(t);return xn("SharedClientState","READ",t,e),e},Sa.prototype.setItem=function(t,e){xn("SharedClientState","SET",t,e),this.storage.setItem(t,e)},Sa.prototype.removeItem=function(t){xn("SharedClientState","REMOVE",t),this.storage.removeItem(t)},Sa.prototype.Nl=function(a){var t=this;if(a.storageArea===this.storage){if(xn("SharedClientState","EVENT",a.key,a.newValue),a.key===this.xl)return void Rn("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Tr.lo(function(){return v.__awaiter(t,void 0,void 0,function(){var e,n,r,i,o,s;return v.__generator(this,function(t){if(this.ho){if(null!==a.key)if(this.Ol.test(a.key)){if(null==a.newValue)return e=this.ad(a.key),[2,this.ud(e,null)];if(n=this._d(a.key,a.newValue))return[2,this.ud(n.clientId,n)]}else if(this.Ll.test(a.key)){if(null!==a.newValue&&(r=this.ld(a.key,a.newValue)))return[2,this.dd(r)]}else if(this.Bl.test(a.key)){if(null!==a.newValue&&(i=this.fd(a.key,a.newValue)))return[2,this.Td(i)]}else if(a.key===this.ql){if(null!==a.newValue&&(o=this.Ql(a.newValue)))return[2,this.Wl(o)]}else a.key===this.$l&&(s=function(t){var e=Qn.dr;if(null!=t)try{var n=JSON.parse(t);Cn("number"==typeof n),e=n}catch(t){Rn("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(a.newValue))!==Qn.dr&&this.ur(s)}else this.Ml.push(a);return[2]})})})}},Object.defineProperty(Sa.prototype,"Zl",{get:function(){return this.kl.get(this.Cl)},enumerable:!0,configurable:!0}),Sa.prototype.Ul=function(){this.setItem(this.xl,this.Zl.vl())},Sa.prototype.Hl=function(t,e,n){var r=new Zs(this.currentUser,t,e,n),i=Ws(this.persistenceKey,this.currentUser,t);this.setItem(i,r.vl())},Sa.prototype.Jl=function(t){var e=Ws(this.persistenceKey,this.currentUser,t);this.removeItem(e)},Sa.prototype.od=function(t){var e={clientId:this.Cl,onlineState:t};this.storage.setItem(this.ql,JSON.stringify(e))},Sa.prototype.rd=function(t,e,n){var r=zs(this.persistenceKey,t),i=new ta(t,e,n);this.setItem(r,i.vl())},Sa.prototype.ad=function(t){var e=this.Ol.exec(t);return e?e[1]:null},Sa.prototype._d=function(t,e){var n=this.ad(t);return ea.bl(n,e)},Sa.prototype.ld=function(t,e){var n=this.Ll.exec(t),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Zs.bl(new s(i),r,e)},Sa.prototype.fd=function(t,e){var n=this.Bl.exec(t),r=Number(n[1]);return ta.bl(r,e)},Sa.prototype.Ql=function(t){return na.bl(t)},Sa.prototype.dd=function(e){return v.__awaiter(this,void 0,void 0,function(){return v.__generator(this,function(t){return e.user.uid===this.currentUser.uid?[2,this.cl.Ed(e.batchId,e.state,e.error)]:(xn("SharedClientState","Ignoring mutation for non-active user "+e.user.uid),[2])})})},Sa.prototype.Td=function(t){return this.cl.Id(t.targetId,t.state,t.error)},Sa.prototype.ud=function(t,e){var n=this,r=e?this.kl.Ae(t,e):this.kl.remove(t),i=this.Kl(this.kl),o=this.Kl(r),s=[],a=[];return o.forEach(function(t){i.has(t)||s.push(t)}),i.forEach(function(t){o.has(t)||a.push(t)}),this.cl.wd(s,a).then(function(){n.kl=r})},Sa.prototype.Wl=function(t){this.kl.get(t.clientId)&&this.b_(t.onlineState)},Sa.prototype.Kl=function(t){var n=en;return t.forEach(function(t,e){n=n.He(e.activeTargetIds)}),n},Sa),oa=(Ta.prototype.zl=function(t){},Ta.prototype.Yl=function(t,e,n){},Ta.prototype.Xl=function(t){return this.Rd.Sl(t),this.Ad[t]||"not-current"},Ta.prototype.nd=function(t,e,n){this.Ad[t]=e},Ta.prototype.td=function(t){this.Rd.Dl(t)},Ta.prototype.ed=function(t){return this.Rd.activeTargetIds.has(t)},Ta.prototype.sd=function(t){delete this.Ad[t]},Ta.prototype.jl=function(){return this.Rd.activeTargetIds},Ta.prototype.Gl=function(t){return this.Rd.activeTargetIds.has(t)},Ta.prototype.start=function(){return this.Rd=new ra,Promise.resolve()},Ta.prototype.vu=function(t,e,n){},Ta.prototype.hd=function(t){},Ta.prototype.Vo=function(){},Ta.prototype.lr=function(t){},Ta),sa=(Object.defineProperty(Ia.prototype,"pd",{get:function(){return this.md},enumerable:!0,configurable:!0}),Ia.prototype.yd=function(t,e){var a=this,u=e?e.bd:new an,c=e?e.gd:this.gd,h=e?e.ns:this.ns,f=c,l=!1,p=this.query.oe()&&c.size===this.query.limit?c.last():null,d=this.query.ae()&&c.size===this.query.limit?c.first():null;if(t.pe(function(t,e){var n=c.get(t),r=(r=e instanceof ce?e:null)&&(a.query.matches(r)?r:null),i=!!n&&a.ns.has(n.key),o=!!r&&(r.At||a.ns.has(r.key)&&r.hasCommittedMutations),s=!1;n&&r?n.data().isEqual(r.data())?i!==o&&(u.track({type:3,doc:r}),s=!0):a.vd(n,r)||(u.track({type:2,doc:r}),s=!0,(p&&0<a.query.se(r,p)||d&&a.query.se(r,d)<0)&&(l=!0)):!n&&r?(u.track({type:0,doc:r}),s=!0):n&&!r&&(u.track({type:1,doc:n}),s=!0,(p||d)&&(l=!0)),s&&(h=r?(f=f.add(r),o?h.add(t):h.delete(t)):(f=f.delete(t),h.delete(t)))}),this.query.oe()||this.query.ae())for(;f.size>this.query.limit;){var n=this.query.oe()?f.last():f.first(),f=f.delete(n.key),h=h.delete(n.key);u.track({type:1,doc:n})}return{gd:f,bd:u,Sd:l,ns:h}},Ia.prototype.vd=function(t,e){return t.At&&e.hasCommittedMutations&&!e.At},Ia.prototype.Ln=function(t,e,n){var o=this,r=this.gd;this.gd=t.gd,this.ns=t.ns;var i=t.bd.es();i.sort(function(t,e){return r=t.type,i=e.type,n(r)-n(i)||o.query.se(t.doc,e.doc);function n(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return jn()}}var r,i}),this.Dd(n);var s=e?this.Cd():[],a=0===this.Vd.size&&this.fs?1:0,u=a!==this.Pd;return this.Pd=a,0!==i.length||u?{snapshot:new un(this.query,t.gd,r,i,t.ns,0==a,u,!1),Fd:s}:{Fd:s}},Ia.prototype.Nd=function(t){return this.fs&&"Offline"===t?(this.fs=!1,this.Ln({gd:this.gd,bd:new an,ns:this.ns,Sd:!1},!1)):{Fd:[]}},Ia.prototype.kd=function(t){return!this.md.has(t)&&!!this.gd.has(t)&&!this.gd.get(t).At},Ia.prototype.Dd=function(t){var e=this;t&&(t.Ts.forEach(function(t){return e.md=e.md.add(t)}),t.Es.forEach(function(t){}),t.Is.forEach(function(t){return e.md=e.md.delete(t)}),this.fs=t.fs)},Ia.prototype.Cd=function(){var e=this;if(!this.fs)return[];var n=this.Vd;this.Vd=tn(),this.gd.forEach(function(t){e.kd(t.key)&&(e.Vd=e.Vd.add(t.key))});var r=[];return n.forEach(function(t){e.Vd.has(t)||r.push(new Ks(t))}),this.Vd.forEach(function(t){n.has(t)||r.push(new Hs(t))}),r},Ia.prototype.Md=function(t){this.md=t.ju,this.Vd=tn();var e=this.yd(t.documents);return this.Ln(e,!0)},Ia.prototype.xd=function(){return un.os(this.query,this.gd,this.ns,0===this.Pd)},Ia),aa=(_a.prototype.Od=function(){this.Ld()},_a.prototype.Ld=function(){var t=this;this.Na.gr(function(){return v.__awaiter(t,void 0,void 0,function(){var e,n,r=this;return v.__generator(this,function(t){return e=new Ds(this.w_),(n=this.Bd(e))&&n.then(function(t){r.Ra.co(function(){return e.commit().then(function(){r.Pa.resolve(t)}).catch(function(t){r.qd(t)})})}).catch(function(t){r.qd(t)}),[2]})})})},_a.prototype.Bd=function(t){try{var e=this.updateFunction(t);return!H(e)&&e.catch&&e.then?e:(this.Pa.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.Pa.reject(t),null}},_a.prototype.qd=function(t){var e=this;0<this.$d&&this.Ud(t)?(--this.$d,this.Ra.co(function(){return e.Ld(),Promise.resolve()})):this.Pa.reject(t)},_a.prototype.Ud=function(t){if("FirebaseError"!==t.name)return!1;var e=t.code;return"aborted"===e||"failed-precondition"===e||!Me(e)},_a),ua=(Object.defineProperty(Ea.prototype,"if",{get:function(){return!0},enumerable:!0,configurable:!0}),Ea.prototype.subscribe=function(t){this.Gd=t},Ea.prototype.listen=function(s){return v.__awaiter(this,void 0,void 0,function(){var e,n,r,i,o;return v.__generator(this,function(t){switch(t.label){case 0:return this.nf("listen()"),(r=this.zd.get(s))?(e=r.targetId,this.jd.Xl(e),n=r.view.xd(),[3,4]):[3,1];case 1:return[4,this.x_.Uu(s.ee())];case 2:return i=t.sent(),o=this.jd.Xl(i.targetId),e=i.targetId,[4,this.rf(s,e,"current"===o)];case 3:n=t.sent(),this.if&&this.Wd.listen(i),t.label=4;case 4:return[2,n]}})})},Ea.prototype.rf=function(a,u,c){return v.__awaiter(this,void 0,void 0,function(){var e,n,r,i,o,s;return v.__generator(this,function(t){switch(t.label){case 0:return[4,this.x_.Wu(a,!0)];case 1:return e=t.sent(),n=new sa(a,e.ju),r=n.yd(e.documents),i=hn.ds(u,c&&"Offline"!==this.onlineState),o=n.Ln(r,this.if,i),this.hf(u,o.Fd),s=new $s(a,u,n),[2,(this.zd.set(a,s),this.Hd.has(u)?this.Hd.get(u).push(a):this.Hd.set(u,[a]),o.snapshot)]}})})},Ea.prototype.al=function(i){return v.__awaiter(this,void 0,void 0,function(){var e,n,r=this;return v.__generator(this,function(t){switch(t.label){case 0:return this.nf("unlisten()"),e=this.zd.get(i),1<(n=this.Hd.get(e.targetId)).length?[2,(this.Hd.set(e.targetId,n.filter(function(t){return!t.isEqual(i)})),void this.zd.delete(i))]:this.if?(this.jd.td(e.targetId),this.jd.Gl(e.targetId)?[3,2]:[4,this.x_.Qu(e.targetId,!1).then(function(){r.jd.sd(e.targetId),r.Wd.al(e.targetId),r.af(e.targetId)}).catch(io)]):[3,3];case 1:t.sent(),t.label=2;case 2:return[3,5];case 3:return this.af(e.targetId),[4,this.x_.Qu(e.targetId,!0)];case 4:t.sent(),t.label=5;case 5:return[2]}})})},Ea.prototype.write=function(i,o){return v.__awaiter(this,void 0,void 0,function(){var e,n,r;return v.__generator(this,function(t){switch(t.label){case 0:this.nf("write()"),t.label=1;case 1:return t.trys.push([1,5,,6]),[4,this.x_.Fu(i)];case 2:return e=t.sent(),this.jd.zl(e.batchId),this.uf(e.batchId,o),[4,this.cf(e.Dn)];case 3:return t.sent(),[4,this.Wd.nl()];case 4:return t.sent(),[3,6];case 5:return n=t.sent(),r=Bi(n,"Failed to persist write"),o.reject(r),[3,6];case 6:return[2]}})})},Ea.prototype.runTransaction=function(t,e,n){new aa(t,this.w_,e,n).Od()},Ea.prototype.xu=function(n){return v.__awaiter(this,void 0,void 0,function(){var e,r=this;return v.__generator(this,function(t){switch(t.label){case 0:this.nf("applyRemoteEvent()"),t.label=1;case 1:return t.trys.push([1,4,,6]),[4,this.x_.xu(n)];case 2:return e=t.sent(),n.as.forEach(function(t,e){var n=r.Xd.get(e);n&&(Cn(t.Ts.size+t.Es.size+t.Is.size<=1),0<t.Ts.size?n.Qd=!0:0<t.Es.size?Cn(n.Qd):0<t.Is.size&&(Cn(n.Qd),n.Qd=!1))}),[4,this.cf(e,n)];case 3:return t.sent(),[3,6];case 4:return[4,io(t.sent())];case 5:return t.sent(),[3,6];case 6:return[2]}})})},Ea.prototype.Nd=function(r,t){this.nf("applyOnlineStateChange()");var i=[];this.zd.forEach(function(t,e){var n=e.view.Nd(r);n.snapshot&&i.push(n.snapshot)}),this.Gd._f(r),this.Gd.n_(i),this.onlineState=r},Ea.prototype.Tl=function(a,u){return v.__awaiter(this,void 0,void 0,function(){var e,n,r,i,o,s=this;return v.__generator(this,function(t){switch(t.label){case 0:return this.nf("rejectListens()"),this.jd.nd(a,"rejected",u),e=this.Xd.get(a),(n=e&&e.key)?(r=(r=new Ve(V.N)).Ae(n,new he(n,O.min())),i=tn().add(n),o=new cn(O.min(),new Map,new He(Fn),r,i),[4,this.xu(o)]):[3,2];case 1:return t.sent(),this.Jd=this.Jd.remove(n),this.Xd.delete(a),this.lf(),[3,4];case 2:return[4,this.x_.Qu(a,!1).then(function(){return s.af(a,u)}).catch(io)];case 3:t.sent(),t.label=4;case 4:return[2]}})})},Ea.prototype.ml=function(r){return v.__awaiter(this,void 0,void 0,function(){var e,n;return v.__generator(this,function(t){switch(t.label){case 0:this.nf("applySuccessfulWrite()"),e=r.batch.batchId,t.label=1;case 1:return t.trys.push([1,4,,6]),[4,this.x_.Nu(r)];case 2:return n=t.sent(),this.df(e,null),this.ff(e),this.jd.Yl(e,"acknowledged"),[4,this.cf(n)];case 3:return t.sent(),[3,6];case 4:return[4,io(t.sent())];case 5:return t.sent(),[3,6];case 6:return[2]}})})},Ea.prototype.Vl=function(n,r){return v.__awaiter(this,void 0,void 0,function(){var e;return v.__generator(this,function(t){switch(t.label){case 0:this.nf("rejectFailedWrite()"),t.label=1;case 1:return t.trys.push([1,4,,6]),[4,this.x_.Mu(n)];case 2:return e=t.sent(),this.df(n,r),this.ff(n),this.jd.Yl(n,"rejected",r),[4,this.cf(e)];case 3:return t.sent(),[3,6];case 4:return[4,io(t.sent())];case 5:return t.sent(),[3,6];case 6:return[2]}})})},Ea.prototype.Tf=function(o){return v.__awaiter(this,void 0,void 0,function(){var e,n,r,i;return v.__generator(this,function(t){switch(t.label){case 0:this.Wd.W_()||xn("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this.x_.ta()];case 2:return-1===(e=t.sent())?[2,void o.resolve()]:((n=this.ef.get(e)||[]).push(o),this.ef.set(e,n),[3,4]);case 3:return r=t.sent(),i=Bi(r,"Initialization of waitForPendingWrites() operation failed"),o.reject(i),[3,4];case 4:return[2]}})})},Ea.prototype.ff=function(t){(this.ef.get(t)||[]).forEach(function(t){t.resolve()}),this.ef.delete(t)},Ea.prototype.Ef=function(e){this.ef.forEach(function(t){t.forEach(function(t){t.reject(new g(y.CANCELLED,e))})}),this.ef.clear()},Ea.prototype.uf=function(t,e){var n=this.tf[this.currentUser.s()];n=(n=n||new Ve(Fn)).Ae(t,e),this.tf[this.currentUser.s()]=n},Ea.prototype.df=function(t,e){var n,r=this.tf[this.currentUser.s()];r&&((n=r.get(t))&&(e?n.reject(e):n.resolve(),r=r.remove(t)),this.tf[this.currentUser.s()]=r)},Ea.prototype.af=function(t,e){var n=this;void 0===e&&(e=null),this.jd.td(t);for(var r=0,i=this.Hd.get(t);r<i.length;r++){var o=i[r];this.zd.delete(o),e&&this.Gd.If(o,e)}this.Hd.delete(t),this.if&&this.Zd.ic(t).forEach(function(t){n.Zd.Ch(t)||n.wf(t)})},Ea.prototype.wf=function(t){var e=this.Jd.get(t);null!==e&&(this.Wd.al(e),this.Jd=this.Jd.remove(t),this.Xd.delete(e),this.lf())},Ea.prototype.hf=function(t,e){for(var n=0,r=e;n<r.length;n++){var i=r[n];i instanceof Hs?(this.Zd.yh(i.key,t),this.Rf(i)):i instanceof Ks?(xn("SyncEngine","Document no longer in limbo: "+i.key),this.Zd.vh(i.key,t),this.Zd.Ch(i.key)||this.wf(i.key)):jn()}},Ea.prototype.Rf=function(t){var e=t.key;this.Jd.get(e)||(xn("SyncEngine","New document in limbo: "+e),this.Yd.push(e),this.lf())},Ea.prototype.lf=function(){for(;0<this.Yd.length&&this.Jd.size<this.Kd;){var t=this.Yd.shift(),e=this.sf.next();this.Xd.set(e,new Xs(t)),this.Jd=this.Jd.Ae(t,e),this.Wd.listen(new _e(pe.Wt(t.path).ee(),e,2,Qn.dr))}},Ea.prototype.Af=function(){return this.Jd},Ea.prototype.mf=function(){return this.Yd},Ea.prototype.cf=function(r,u){return v.__awaiter(this,void 0,void 0,function(){var o,s,e,a=this;return v.__generator(this,function(t){switch(t.label){case 0:return o=[],s=[],e=[],this.zd.forEach(function(t,i){e.push(Promise.resolve().then(function(){var n=i.view.yd(r);return n.Sd?a.x_.Wu(i.query,!1).then(function(t){var e=t.documents;return i.view.yd(e,n)}):n}).then(function(t){var e,n=u&&u.as.get(i.targetId),r=i.view.Ln(t,a.if,n);a.hf(i.targetId,r.Fd),r.snapshot&&(a.if&&a.jd.nd(i.targetId,r.snapshot.fromCache?"not-current":"current"),o.push(r.snapshot),e=Jn.ar(i.targetId,r.snapshot),s.push(e))}))}),[4,Promise.all(e)];case 1:return t.sent(),this.Gd.n_(o),[4,this.x_.Lu(s)];case 2:return t.sent(),[2]}})})},Ea.prototype.nf=function(t){},Ea.prototype.pl=function(n){return v.__awaiter(this,void 0,void 0,function(){var e;return v.__generator(this,function(t){switch(t.label){case 0:return this.currentUser.isEqual(n)?[3,3]:[4,this.x_.vu(n)];case 1:return e=t.sent(),this.currentUser=n,this.Ef("'waitForPendingWrites' promise is rejected due to a user change."),this.jd.vu(n,e.Du,e.Cu),[4,this.cf(e.Su)];case 2:t.sent(),t.label=3;case 3:return[4,this.Wd.pl()];case 4:return t.sent(),[2]}})})},Ea.prototype.enableNetwork=function(){return this.Wd.enableNetwork()},Ea.prototype.disableNetwork=function(){return this.Wd.disableNetwork()},Ea.prototype.ei=function(t){var e=this.Xd.get(t);if(e&&e.Qd)return tn().add(e.key);var n=tn(),r=this.Hd.get(t);if(!r)return n;for(var i=0,o=r;i<o.length;i++)var s=o[i],a=this.zd.get(s),n=n.He(a.view.pd);return n},Ea),ca=(Js=ua,v.__extends(wa,Js),Object.defineProperty(wa.prototype,"if",{get:function(){return!0===this.Pf},enumerable:!0,configurable:!0}),wa.prototype.enableNetwork=function(){return this.x_.uo(!0),Js.prototype.enableNetwork.call(this)},wa.prototype.disableNetwork=function(){return this.x_.uo(!1),Js.prototype.disableNetwork.call(this)},wa.prototype.Vf=function(r){return v.__awaiter(this,void 0,void 0,function(){var e,n;return v.__generator(this,function(t){switch(t.label){case 0:return[4,this.x_.Wu(r.query,!0)];case 1:return e=t.sent(),n=r.view.Md(e),[2,(this.Pf&&this.hf(r.targetId,n.Fd),n)]}})})},wa.prototype.Nd=function(t,e){this.if&&0===e&&(Js.prototype.Nd.call(this,t,e),this.jd.hd(t)),this.if||1!==e||Js.prototype.Nd.call(this,t,e)},wa.prototype.Ed=function(n,r,i){return v.__awaiter(this,void 0,void 0,function(){var e;return v.__generator(this,function(t){switch(t.label){case 0:return this.nf("applyBatchState()"),[4,this.x_.Gu(n)];case 1:return null===(e=t.sent())?[3,6]:"pending"!==r?[3,3]:[4,this.Wd.nl()];case 2:return t.sent(),[3,4];case 3:"acknowledged"===r||"rejected"===r?(this.df(n,i||null),this.x_.zu(n)):jn(),t.label=4;case 4:return[4,this.cf(e)];case 5:return t.sent(),[3,7];case 6:xn("SyncEngine","Cannot apply mutation batch with id: "+n),t.label=7;case 7:return[2]}})})},wa.prototype.yl=function(c){return v.__awaiter(this,void 0,void 0,function(){var e,n,r,i,o,s,a,u=this;return v.__generator(this,function(t){switch(t.label){case 0:return!0!==c||!0===this.Pf?[3,3]:(e=this.jd.jl(),[4,this.gf(e.W(),!0)]);case 1:return n=t.sent(),this.Pf=!0,[4,this.Wd.yl(!0)];case 2:for(t.sent(),r=0,i=n;r<i.length;r++)o=i[r],this.Wd.listen(o);return[3,7];case 3:return!1!==c||!1===this.Pf?[3,7]:(s=[],a=Promise.resolve(),this.Hd.forEach(function(t,e){u.jd.ed(e)?s.push(e):a=a.then(function(){return u.af(e),u.x_.Qu(e,!0)}),u.Wd.al(e)}),[4,a]);case 4:return t.sent(),[4,this.gf(s,!1)];case 5:return t.sent(),this.pf(),this.Pf=!1,[4,this.Wd.yl(!1)];case 6:t.sent(),t.label=7;case 7:return[2]}})})},wa.prototype.pf=function(){var n=this;this.Xd.forEach(function(t,e){n.Wd.al(e)}),this.Zd.nc(),this.Xd=new Map,this.Jd=new Ve(V.N)},wa.prototype.gf=function(d,t){return v.__awaiter(this,void 0,void 0,function(){var e,n,r,i,o,s,a,u,c,h,f,l,p;return v.__generator(this,function(t){switch(t.label){case 0:e=[],n=[],r=0,i=d,t.label=1;case 1:return r<i.length?(o=i[r],s=void 0,(a=this.Hd.get(o))&&0!==a.length?[4,this.x_.Uu(a[0].ee())]:[3,7]):[3,13];case 2:s=t.sent(),u=0,c=a,t.label=3;case 3:return u<c.length?(h=c[u],f=this.zd.get(h),[4,this.Vf(f)]):[3,6];case 4:(l=t.sent()).snapshot&&n.push(l.snapshot),t.label=5;case 5:return u++,[3,3];case 6:return[3,11];case 7:return[4,this.x_.Hu(o)];case 8:return p=t.sent(),[4,this.x_.Uu(p)];case 9:return s=t.sent(),[4,this.rf(this.yf(p),o,!1)];case 10:t.sent(),t.label=11;case 11:e.push(s),t.label=12;case 12:return r++,[3,1];case 13:return[2,(this.Gd.n_(n),e)]}})})},wa.prototype.yf=function(t){return new pe(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)},wa.prototype.So=function(){return this.x_.So()},wa.prototype.Id=function(r,i,o){return v.__awaiter(this,void 0,void 0,function(){var e,n;return v.__generator(this,function(t){switch(t.label){case 0:return this.Pf?(xn("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!this.Hd.has(r))return[3,8];switch(i){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,this.x_.Kr()];case 3:return e=t.sent(),n=cn.ls(r,"current"===i),[4,this.cf(e,n)];case 4:return t.sent(),[3,8];case 5:return[4,this.x_.Qu(r,!0)];case 6:return t.sent(),this.af(r,o),[3,8];case 7:jn(),t.label=8;case 8:return[2]}})})},wa.prototype.wd=function(l,p){return v.__awaiter(this,void 0,void 0,function(){var e,n,r,i,o,s,a,u,c,h,f=this;return v.__generator(this,function(t){switch(t.label){case 0:if(!this.Pf)return[3,10];e=0,n=l,t.label=1;case 1:return e<n.length?(r=n[e],this.Hd.has(r)?(xn("SyncEngine","Adding an already active target "+r),[3,5]):[4,this.x_.Hu(r)]):[3,6];case 2:return i=t.sent(),[4,this.x_.Uu(i)];case 3:return o=t.sent(),[4,this.rf(this.yf(i),o.targetId,!1)];case 4:t.sent(),this.Wd.listen(o),t.label=5;case 5:return e++,[3,1];case 6:s=function(e){return v.__generator(this,function(t){switch(t.label){case 0:return a.Hd.has(e)?[4,a.x_.Qu(e,!1).then(function(){f.Wd.al(e),f.af(e)}).catch(io)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})},a=this,u=0,c=p,t.label=7;case 7:return u<c.length?(h=c[u],[5,s(h)]):[3,10];case 8:t.sent(),t.label=9;case 9:return u++,[3,7];case 10:return[2]}})})},wa),ha=(ba.prototype.listen=function(a){return v.__awaiter(this,void 0,void 0,function(){var e,n,r,i,o,s;return v.__generator(this,function(t){switch(t.label){case 0:if(e=a.query,n=!1,(r=this.Sf.get(e))||(n=!0,r=new Ys),!n)return[3,4];t.label=1;case 1:return t.trys.push([1,3,,4]),i=r,[4,this.cl.listen(e)];case 2:return i.bf=t.sent(),[3,4];case 3:return o=t.sent(),s=Bi(o,"Initialization of query '"+a.query+"' failed"),[2,void a.onError(s)];case 4:return this.Sf.set(e,r),r.vf.push(a),a.Nd(this.onlineState),r.bf&&a.Cf(r.bf)&&this.Ff(),[2]}})})},ba.prototype.al=function(o){return v.__awaiter(this,void 0,void 0,function(){var e,n,r,i;return v.__generator(this,function(t){return e=o.query,n=!1,(r=this.Sf.get(e))&&0<=(i=r.vf.indexOf(o))&&(r.vf.splice(i,1),n=0===r.vf.length),n?[2,(this.Sf.delete(e),this.cl.al(e))]:[2]})})},ba.prototype.n_=function(t){for(var e=!1,n=0,r=t;n<r.length;n++){var i=r[n],o=i.query,s=this.Sf.get(o);if(s){for(var a=0,u=s.vf;a<u.length;a++)u[a].Cf(i)&&(e=!0);s.bf=i}}e&&this.Ff()},ba.prototype.If=function(t,e){var n=this.Sf.get(t);if(n)for(var r=0,i=n.vf;r<i.length;r++)i[r].onError(e);this.Sf.delete(t)},ba.prototype._f=function(i){this.onlineState=i;var o=!1;this.Sf.forEach(function(t,e){for(var n=0,r=e.vf;n<r.length;n++)r[n].Nd(i)&&(o=!0)}),o&&this.Ff()},ba.prototype.Nf=function(t){this.Df.add(t),t.next()},ba.prototype.kf=function(t){this.Df.delete(t)},ba.prototype.Ff=function(){this.Df.forEach(function(t){t.next()})},ba),fa=(ma.prototype.Cf=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new un(t.query,t.docs,t.ss,e,t.ns,t.fromCache,t.rs,!0)}var o=!1;return this.xf?this.Of(t)&&(this.Mf.next(t),o=!0):this.Lf(t,this.onlineState)&&(this.Bf(t),o=!0),this.$f=t,o},ma.prototype.onError=function(t){this.Mf.error(t)},ma.prototype.Nd=function(t){this.onlineState=t;var e=!1;return this.$f&&!this.xf&&this.Lf(this.$f,t)&&(this.Bf(this.$f),e=!0),e},ma.prototype.Lf=function(t,e){if(!t.fromCache)return!0;var n="Offline"!==e;return!(this.options.qf&&n||t.docs.B()&&"Offline"!==e)},ma.prototype.Of=function(t){if(0<t.docChanges.length)return!0;var e=this.$f&&this.$f.hasPendingWrites!==t.hasPendingWrites;return!(!t.rs&&!e)&&!0===this.options.includeMetadataChanges},ma.prototype.Bf=function(t){t=un.os(t.query,t.docs,t.ns,t.fromCache),this.xf=!0,this.Mf.next(t)},ma),la=(ga.prototype.bu=function(t){this.Uf=t},ga.prototype.Zn=function(e,r,i,o){var s=this;return r.te()||i.isEqual(O.min())?this.Qf(e,r):this.Uf.Yn(e,o).next(function(t){var n=s.Wf(r,t);return(r.oe()||r.ae())&&s.Sd(r.Bt,n,o,i)?s.Qf(e,r):(Pn()<=l.LogLevel.DEBUG&&xn("IndexFreeQueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),r.toString()),s.Uf.Zn(e,r,i).next(function(e){return n.forEach(function(t){e=e.Ae(t.key,t)}),e}))})},ga.prototype.Wf=function(n,t){var r=new He(function(t,e){return n.se(t,e)});return t.forEach(function(t,e){e instanceof ce&&n.matches(e)&&(r=r.add(e))}),r},ga.prototype.Sd=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||0<i.version.S(r))},ga.prototype.Qf=function(t,e){return Pn()<=l.LogLevel.DEBUG&&xn("IndexFreeQueryEngine","Using full collection scan to execute query:",e.toString()),this.Uf.Zn(t,e,O.min())},ga),pa=(ya.prototype.Ho=function(t){return Hn.resolve(0===this.Wn.length)},ya.prototype.Yo=function(t,e,n,r){var i=this.jf;this.jf++,0<this.Wn.length&&this.Wn[this.Wn.length-1];var o=new Wn(i,e,n,r);this.Wn.push(o);for(var s=0,a=r;s<a.length;s++){var u=a[s];this.Kf=this.Kf.add(new so(u.key,i)),this.jn.Dr(t,u.key.path.$())}return Hn.resolve(o)},ya.prototype.Jo=function(t,e){return Hn.resolve(this.Gf(e))},ya.prototype.Zo=function(t,e){var n=e+1,r=this.zf(n),i=r<0?0:r;return Hn.resolve(this.Wn.length>i?this.Wn[i]:null)},ya.prototype.ta=function(){return Hn.resolve(0===this.Wn.length?-1:this.jf-1)},ya.prototype.ea=function(t){return Hn.resolve(this.Wn.slice())},ya.prototype.Gn=function(t,e){var n=this,r=new so(e,0),i=new so(e,Number.POSITIVE_INFINITY),o=[];return this.Kf.Ke([r,i],function(t){var e=n.Gf(t.hc);o.push(e)}),Hn.resolve(o)},ya.prototype.Xn=function(t,e){var r=this,i=new He(Fn);return e.forEach(function(t){var e=new so(t,0),n=new so(t,Number.POSITIVE_INFINITY);r.Kf.Ke([e,n],function(t){i=i.add(t.hc)})}),Hn.resolve(this.Hf(i))},ya.prototype.nr=function(t,e){var n=e.path,r=n.length+1,i=n;V.et(i)||(i=i.child(""));var o=new so(new V(i),0),s=new He(Fn);return this.Kf.Ge(function(t){var e=t.key.path;return!!n.q(e)&&(e.length===r&&(s=s.add(t.hc)),!0)},o),Hn.resolve(this.Hf(s))},ya.prototype.Hf=function(t){var n=this,r=[];return t.forEach(function(t){var e=n.Gf(t);null!==e&&r.push(e)}),r},ya.prototype.ia=function(n,r){var i=this;Cn(0===this.Yf(r.batchId,"removed")),this.Wn.shift();var o=this.Kf;return Hn.forEach(r.mutations,function(t){var e=new so(t.key,r.batchId);return o=o.delete(e),i.hh.Uo(n,t.key)}).next(function(){i.Kf=o})},ya.prototype.na=function(t){},ya.prototype.Ch=function(t,e){var n=new so(e,0),r=this.Kf.ze(n);return Hn.resolve(e.isEqual(r&&r.key))},ya.prototype.ra=function(t){return this.Wn.length,Hn.resolve()},ya.prototype.Yf=function(t,e){return this.zf(t)},ya.prototype.zf=function(t){return 0===this.Wn.length?0:t-this.Wn[0].batchId},ya.prototype.Gf=function(t){var e=this.zf(t);return e<0||e>=this.Wn.length?null:this.Wn[e]},ya),da=(va.prototype.Nn=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,s=this.Jf(e);return this.docs=this.docs.Ae(r,{$r:e,size:s,readTime:n}),this.size+=s-o,this.jn.Dr(t,r.path.$())},va.prototype.Mn=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},va.prototype.xn=function(t,e){var n=this.docs.get(e);return Hn.resolve(n?n.$r:null)},va.prototype.getEntries=function(t,e){var n=this,r=$e;return e.forEach(function(t){var e=n.docs.get(t);r=r.Ae(t,e?e.$r:null)}),Hn.resolve(r)},va.prototype.Zn=function(t,e,n){for(var r=Je,i=new V(e.path.child("")),o=this.docs.ve(i);o.ke();){var s=o.Ne(),a=s.key,u=s.value,c=u.$r,h=u.readTime;if(!e.path.q(a.path))break;h.S(n)<=0||c instanceof ce&&e.matches(c)&&(r=r.Ae(c.key,c))}return Hn.resolve(r)},va.prototype.Xf=function(t,e){return Hn.forEach(this.docs,function(t){return e(t)})},va.prototype.Yr=function(t){return new va.Jr(this)},va.prototype.Zr=function(t){return Hn.resolve(this.size)},va);function va(t,e){this.jn=t,this.Jf=e,this.docs=new Ve(V.N),this.size=0}function ya(t,e){this.jn=t,this.hh=e,this.Wn=[],this.jf=1,this.Kf=new He(so.Ju)}function ga(){}function ma(t,e,n){this.query=t,this.Mf=e,this.xf=!1,this.$f=null,this.onlineState="Unknown",this.options=n||{}}function ba(t){this.cl=t,this.Sf=new Gn(function(t){return t.canonicalId()}),this.onlineState="Unknown",this.Df=new Set,this.cl.subscribe(this)}function wa(t,e,n,r,i,o){var s=this;return(s=Js.call(this,t,e,n,r,i,o)||this).x_=t,s.Pf=void 0,s}function Ea(t,e,n,r,i,o){this.x_=t,this.Wd=e,this.w_=n,this.jd=r,this.currentUser=i,this.Kd=o,this.Gd=null,this.zd=new Gn(function(t){return t.canonicalId()}),this.Hd=new Map,this.Yd=[],this.Jd=new Ve(V.N),this.Xd=new Map,this.Zd=new oo,this.tf={},this.ef=new Map,this.sf=Pr.rh(),this.onlineState="Unknown"}function _a(t,e,n,r){this.Ra=t,this.w_=e,this.updateFunction=n,this.Pa=r,this.$d=5,this.Na=new hr(this.Ra,"transaction_retry")}function Ia(t,e){this.query=t,this.md=e,this.Pd=null,this.fs=!1,this.Vd=tn(),this.ns=tn(),this.gd=new sn(t.se.bind(t))}function Ta(){this.Rd=new ra,this.Ad={},this.cl=null,this.b_=null,this.ur=null}function Sa(t,e,n,r,i){if(this.Tr=t,this.platform=e,this.persistenceKey=n,this.Cl=r,this.cl=null,this.b_=null,this.ur=null,this.Fl=this.Nl.bind(this),this.kl=new Ve(Fn),this.ho=!1,this.Ml=[],!Sa.zh(this.platform))throw new g(y.UNIMPLEMENTED,"LocalStorage is not available on this platform.");var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.platform.window.localStorage,this.currentUser=i,this.xl=Gs(this.persistenceKey,this.Cl),this.$l="firestore_sequence_number_"+this.persistenceKey,this.kl=this.kl.Ae(this.Cl,new ra),this.Ol=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Ll=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.Bl=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.ql="firestore_online_state_"+this.persistenceKey,this.platform.window.addEventListener("storage",this.Fl)}function Oa(){this.activeTargetIds=en}function Na(t,e){this.clientId=t,this.onlineState=e}function Aa(t,e){this.clientId=t,this.activeTargetIds=e}function ka(t,e,n){this.targetId=t,this.state=e,this.error=n}function Pa(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}function xa(t){var e=this;return(e=Qs.call(this)||this).th=t,e}da.Jr=(Qs=Kn,v.__extends(xa,Qs),xa.prototype.Ln=function(n){var r=this,i=[];return this.Dn.forEach(function(t,e){e?i.push(r.th.Nn(n,e,r.readTime)):r.th.Mn(t)}),Hn.vn(i)},xa.prototype.$n=function(t,e){return this.th.xn(t,e)},xa.prototype.On=function(t,e){return this.th.getEntries(t,e)},xa);var Ra,Da,ja=(Ya.prototype.js=function(t,n){return this.Zf.forEach(function(t,e){return n(e)}),Hn.resolve()},Ya.prototype._h=function(t){return Hn.resolve(this.lastRemoteSnapshotVersion)},Ya.prototype.lh=function(t){return Hn.resolve(this.tT)},Ya.prototype.oh=function(t){return this.highestTargetId=this.sT.next(),Hn.resolve(this.highestTargetId)},Ya.prototype.dh=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.tT&&(this.tT=e),Hn.resolve()},Ya.prototype.Th=function(t){this.Zf.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.sT=new Pr(e),this.highestTargetId=e),t.sequenceNumber>this.tT&&(this.tT=t.sequenceNumber)},Ya.prototype.fh=function(t,e){return this.Th(e),this.targetCount+=1,Hn.resolve()},Ya.prototype.Ih=function(t,e){return this.Th(e),Hn.resolve()},Ya.prototype.wh=function(t,e){return this.Zf.delete(e.target),this.eT.ic(e.targetId),--this.targetCount,Hn.resolve()},Ya.prototype.Ah=function(n,r,i){var o=this,s=0,a=[];return this.Zf.forEach(function(t,e){e.sequenceNumber<=r&&null===i.get(e.targetId)&&(o.Zf.delete(t),a.push(o.Rh(n,e.targetId)),s++)}),Hn.vn(a).next(function(){return s})},Ya.prototype.Vh=function(t){return Hn.resolve(this.targetCount)},Ya.prototype.gh=function(t,e){var n=this.Zf.get(e)||null;return Hn.resolve(n)},Ya.prototype.ph=function(t,e,n){return this.eT.tc(e,n),Hn.resolve()},Ya.prototype.bh=function(e,t,n){this.eT.sc(t,n);var r=this.persistence.hh,i=[];return r&&t.forEach(function(t){i.push(r.Uo(e,t))}),Hn.vn(i)},Ya.prototype.Rh=function(t,e){return this.eT.ic(e),Hn.resolve()},Ya.prototype.Sh=function(t,e){var n=this.eT.rc(e);return Hn.resolve(n)},Ya.prototype.Ch=function(t,e){return Hn.resolve(this.eT.Ch(e))},Ya),Ca=(Xa.prototype.start=function(){return Promise.resolve()},Xa.prototype.Vo=function(){return this.Uh=!1,Promise.resolve()},Object.defineProperty(Xa.prototype,"ho",{get:function(){return this.Uh},enumerable:!0,configurable:!0}),Xa.prototype.oo=function(){},Xa.prototype.ko=function(){return this.jn},Xa.prototype.Do=function(t){var e=this.iT[t.s()];return e||(e=new pa(this.jn,this.hh),this.iT[t.s()]=e),e},Xa.prototype.Fo=function(){return this.Jh},Xa.prototype.No=function(){return this.Qn},Xa.prototype.runTransaction=function(t,e,n){var r=this;xn("MemoryPersistence","Starting transaction:",t);var i=new La(this.qh.next());return this.hh.rT(),n(i).next(function(t){return r.hh.hT(i).next(function(){return t})}).yn().then(function(t){return i.Un(),t})},Xa.prototype.oT=function(e,n){return Hn.Sn(Object.values(this.iT).map(function(t){return function(){return t.Ch(e,n)}}))},Xa),La=(Da=Xn,v.__extends($a,Da),$a),Ma=(Ka.cT=function(t){return new Ka(t)},Object.defineProperty(Ka.prototype,"_T",{get:function(){if(this.uT)return this.uT;throw jn()},enumerable:!0,configurable:!0}),Ka.prototype.yh=function(t,e,n){return this.aT.yh(n,e),this._T.delete(n),Hn.resolve()},Ka.prototype.vh=function(t,e,n){return this.aT.vh(n,e),this._T.add(n),Hn.resolve()},Ka.prototype.Uo=function(t,e){return this._T.add(e),Hn.resolve()},Ka.prototype.removeTarget=function(t,e){var n=this;this.aT.ic(e.targetId).forEach(function(t){return n._T.add(t)});var r=this.persistence.Fo();return r.Sh(t,e.targetId).next(function(t){t.forEach(function(t){return n._T.add(t)})}).next(function(){return r.wh(t,e)})},Ka.prototype.rT=function(){this.uT=new Set},Ka.prototype.hT=function(t){var n=this,r=this.persistence.No().Yr();return Hn.forEach(this._T,function(e){return n.lT(t,e).next(function(t){t||r.Mn(e)})}).next(function(){return n.uT=null,r.apply(t)})},Ka.prototype.Ko=function(t,e){var n=this;return this.lT(t,e).next(function(t){t?n._T.delete(e):n._T.add(e)})},Ka.prototype.nT=function(t){return 0},Ka.prototype.lT=function(t,e){var n=this;return Hn.Sn([function(){return Hn.resolve(n.aT.Ch(e))},function(){return n.persistence.Fo().Ch(t,e)},function(){return n.persistence.oT(t,e)}])},Ka),Fa="You are using the memory-only build of Firestore. Persistence support is only available via the @firebase/firestore bundle or the firebase-firestore.js build.",Va=(Ha.prototype.initialize=function(n){return v.__awaiter(this,void 0,void 0,function(){var e=this;return v.__generator(this,function(t){switch(t.label){case 0:return this.jd=this.dT(n),this.persistence=this.fT(n),[4,this.persistence.start()];case 1:return t.sent(),this.TT=this.ET(n),this.x_=this.IT(n),this.Wd=this.wT(n),this.cl=this.RT(n),this.AT=this.mT(n),this.jd.b_=function(t){return e.cl.Nd(t,1)},this.Wd.cl=this.cl,[4,this.x_.start()];case 2:return t.sent(),[4,this.jd.start()];case 3:return t.sent(),[4,this.Wd.start()];case 4:return t.sent(),[4,this.Wd.yl(this.cl.if)];case 5:return t.sent(),[2]}})})},Ha.prototype.mT=function(t){return new ha(this.cl)},Ha.prototype.ET=function(t){return null},Ha.prototype.IT=function(t){return new Ji(this.persistence,new la,t.PT)},Ha.prototype.fT=function(t){if(t.gT.VT)throw new g(y.FAILED_PRECONDITION,Fa);return new Ca(Ma.cT)},Ha.prototype.wT=function(t){var e=this;return new Cs(this.x_,t.w_,t.Ra,function(t){return e.cl.Nd(t,0)},t.platform.pT())},Ha.prototype.dT=function(t){return new oa},Ha.prototype.RT=function(t){return new ua(this.x_,this.Wd,t.w_,this.jd,t.PT,t.Kd)},Ha.prototype.clearPersistence=function(t){throw new g(y.FAILED_PRECONDITION,Fa)},Ha),Ua=(Ra=Va,v.__extends(za,Ra),za.prototype.initialize=function(e){return v.__awaiter(this,void 0,void 0,function(){var n=this;return v.__generator(this,function(t){switch(t.label){case 0:return[4,Ra.prototype.initialize.call(this,e)];case 1:return t.sent(),[4,this.persistence.ro(function(e){return v.__awaiter(n,void 0,void 0,function(){return v.__generator(this,function(t){switch(t.label){case 0:return[4,this.cl.yl(e)];case 1:return t.sent(),this.TT&&(e&&!this.TT.ho?this.TT.start(this.x_):e||this.TT.stop()),[2]}})})})];case 2:return t.sent(),[2]}})})},za.prototype.IT=function(t){return new no(this.persistence,new la,t.PT)},za.prototype.RT=function(t){var e=new ca(this.x_,this.Wd,t.w_,this.jd,t.PT,t.Kd);return this.jd instanceof ia&&(this.jd.cl=e),e},za.prototype.ET=function(t){var e=this.persistence.hh.$o;return new Xi(e,t.Ra)},za.prototype.fT=function(t){var e=qr.xo(t.yT),n=t.platform.Cc(t.yT.ii);return new qr(t.gT.synchronizeTabs,e,t.clientId,t.platform,Hi.nu(t.gT.cacheSizeBytes),t.Ra,n,this.jd,t.gT.Bh)},za.prototype.dT=function(t){if(t.gT.VT&&t.gT.synchronizeTabs){if(!ia.zh(t.platform))throw new g(y.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var e=qr.xo(t.yT);return new ia(t.Ra,t.platform,e,t.clientId,t.PT)}return new oa},za.prototype.clearPersistence=function(t){var e=qr.xo(t);return qr.clearPersistence(e)},za),qa=(Wa.prototype.start=function(e,n){var r=this;this.T_();var i=new cr,o=new cr,s=!1;return this.credentials.l(function(t){return s?void r.Ra.lo(function(){return r.pl(t)}):(s=!0,xn("FirestoreClient","Initializing. user=",t.uid),r.bT(e,n,t,o).then(i.resolve,i.reject))}),this.Ra.co(function(){return i.promise}),o.promise},Wa.prototype.enableNetwork=function(){var t=this;return this.T_(),this.Ra.enqueue(function(){return t.cl.enableNetwork()})},Wa.prototype.bT=function(a,u,c,h){return v.__awaiter(this,void 0,void 0,function(){var n,r,i,o,s=this;return v.__generator(this,function(t){switch(t.label){case 0:return t.trys.push([0,3,,4]),[4,this.platform.vT(this.yT)];case 1:return n=t.sent(),r=this.platform.Cc(this.yT.ii),e=this.credentials,i=new Rs(n,e,r),[4,a.initialize({Ra:this.Ra,yT:this.yT,platform:this.platform,w_:i,clientId:this.clientId,PT:c,Kd:100,gT:u})];case 2:return t.sent(),this.persistence=a.persistence,this.jd=a.jd,this.x_=a.x_,this.Wd=a.Wd,this.cl=a.cl,this.TT=a.TT,this.ST=a.AT,this.persistence.oo(function(){return v.__awaiter(s,void 0,void 0,function(){return v.__generator(this,function(t){switch(t.label){case 0:return[4,this.terminate()];case 1:return t.sent(),[2]}})})}),h.resolve(),[3,4];case 3:if(o=t.sent(),h.reject(o),!this.DT(o))throw o;return[2,(console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+o),this.bT(new Va,{VT:!1},c,h))];case 4:return[2]}var e})})},Wa.prototype.DT=function(t){return"FirebaseError"===t.name?t.code===y.FAILED_PRECONDITION||t.code===y.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code},Wa.prototype.T_=function(){if(this.Ra.Ma)throw new g(y.FAILED_PRECONDITION,"The client has already been terminated.")},Wa.prototype.pl=function(t){return this.Ra.Ua(),xn("FirestoreClient","Credential Changed. Current user: "+t.uid),this.cl.pl(t)},Wa.prototype.disableNetwork=function(){var t=this;return this.T_(),this.Ra.enqueue(function(){return t.cl.disableNetwork()})},Wa.prototype.terminate=function(){var t=this;return this.Ra.Ba(function(){return v.__awaiter(t,void 0,void 0,function(){return v.__generator(this,function(t){switch(t.label){case 0:return this.TT&&this.TT.stop(),[4,this.Wd.Vo()];case 1:return t.sent(),[4,this.jd.Vo()];case 2:return t.sent(),[4,this.persistence.Vo()];case 3:return t.sent(),this.credentials.T(),[2]}})})})},Wa.prototype.waitForPendingWrites=function(){var t=this;this.T_();var e=new cr;return this.Ra.co(function(){return t.cl.Tf(e)}),e.promise},Wa.prototype.listen=function(t,e,n){var r=this;this.T_();var i=new fa(t,e,n);return this.Ra.co(function(){return r.ST.listen(i)}),i},Wa.prototype.al=function(t){var e=this;this.CT||this.Ra.co(function(){return e.ST.al(t)})},Wa.prototype.FT=function(o){return v.__awaiter(this,void 0,void 0,function(){var i,e=this;return v.__generator(this,function(t){switch(t.label){case 0:return this.T_(),i=new cr,[4,this.Ra.enqueue(function(){return v.__awaiter(e,void 0,void 0,function(){var e,n,r;return v.__generator(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,this.x_.qu(o)];case 1:return(e=t.sent())instanceof ce?i.resolve(e):e instanceof he?i.resolve(null):i.reject(new g(y.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return n=t.sent(),r=Bi(n,"Failed to get document '"+o+" from cache"),i.reject(r),[3,3];case 3:return[2]}})})})];case 1:return[2,(t.sent(),i.promise)]}})})},Wa.prototype.NT=function(u){return v.__awaiter(this,void 0,void 0,function(){var a,e=this;return v.__generator(this,function(t){switch(t.label){case 0:return this.T_(),a=new cr,[4,this.Ra.enqueue(function(){return v.__awaiter(e,void 0,void 0,function(){var e,n,r,i,o,s;return v.__generator(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,this.x_.Wu(u,!0)];case 1:return e=t.sent(),n=new sa(u,e.ju),r=n.yd(e.documents),i=n.Ln(r,!1),a.resolve(i.snapshot),[3,3];case 2:return o=t.sent(),s=Bi(o,"Failed to execute query '"+u+" against cache"),a.reject(s),[3,3];case 3:return[2]}})})})];case 1:return[2,(t.sent(),a.promise)]}})})},Wa.prototype.write=function(t){var e=this;this.T_();var n=new cr;return this.Ra.co(function(){return e.cl.write(t,n)}),n.promise},Wa.prototype.ii=function(){return this.yT.ii},Wa.prototype.Nf=function(t){var e=this;this.T_(),this.Ra.co(function(){return e.ST.Nf(t),Promise.resolve()})},Wa.prototype.kf=function(t){var e=this;this.CT||this.Ra.co(function(){return e.ST.kf(t),Promise.resolve()})},Object.defineProperty(Wa.prototype,"CT",{get:function(){return this.Ra.Ma},enumerable:!0,configurable:!0}),Wa.prototype.transaction=function(t){var e=this;this.T_();var n=new cr;return this.Ra.co(function(){return e.cl.runTransaction(e.Ra,t,n),Promise.resolve()}),n.promise},Wa),Ba=(Ga.prototype.next=function(t){this.kT(this.observer.next,t)},Ga.prototype.error=function(t){this.kT(this.observer.error,t)},Ga.prototype.MT=function(){this.muted=!0},Ga.prototype.kT=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},Ga);function Ga(t){this.observer=t,this.muted=!1}function Wa(t,e,n,r){this.platform=t,this.yT=e,this.credentials=n,this.Ra=r,this.clientId=Ln.cn()}function za(){return null!==Ra&&Ra.apply(this,arguments)||this}function Ha(){}function Ka(t){this.persistence=t,this.aT=new oo,this.uT=null}function $a(t){var e=this;return(e=Da.call(this)||this).Oh=t,e}function Xa(t){var e=this;this.iT={},this.qh=new Qn(0),this.Uh=!1,this.Uh=!0,this.hh=t(this),this.Jh=new ja(this),this.jn=new vr,this.Qn=new da(this.jn,function(t){return e.hh.nT(t)})}function Ya(t){this.persistence=t,this.Zf=new Gn(function(t){return t.canonicalId()}),this.lastRemoteSnapshotVersion=O.min(),this.highestTargetId=0,this.tT=0,this.eT=new oo,this.targetCount=0,this.sT=Pr.nh()}function Ja(i){return function(){if("object"==typeof i&&null!==i)for(var t=i,e=0,n=["next","error","complete"];e<n.length;e++){var r=n[e];if(r in t&&"function"==typeof t[r])return 1}}()}var Qa,Za,tu,eu,nu=(Nu.prototype.OT=function(t){switch(Q(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ot(t.integerValue||t.doubleValue);case 3:return this.LT(t.timestampValue);case 4:return this.BT(t);case 5:return t.stringValue;case 6:return new Do(st(t.bytesValue));case 7:return this.qT(t.referenceValue);case 8:return this.UT(t.geoPointValue);case 9:return this.QT(t.arrayValue);case 10:return this.WT(t.mapValue);default:throw jn()}},Nu.prototype.WT=function(t){var n=this,r={};return B(t.fields||{},function(t,e){r[t]=n.OT(e)}),r},Nu.prototype.UT=function(t){return new Zo(ot(t.latitude),ot(t.longitude))},Nu.prototype.QT=function(t){var e=this;return(t.values||[]).map(function(t){return e.OT(t)})},Nu.prototype.BT=function(t){switch(this.xT){case"previous":var e=function t(e){var n=e.mapValue.fields.__previous_value__;return X(n)?t(n):n}(t);return null==e?null:this.OT(e);case"estimate":return this.LT(Y(t));default:return null}},Nu.prototype.LT=function(t){var e=it(t),n=new _(e.seconds,e.nanos);return this.timestampsInSnapshots?n:n.toDate()},Nu.prototype.qT=function(t){var e=T.K(t);Cn(On(e));var n=new Bn(e.get(1),e.get(3)),r=new V(e.M(5));return n.isEqual(this.ii)||Rn("Document "+r+" contains a document reference within a different database ("+n.projectId+"/"+n.database+") which is not supported. It will be treated as a reference in the current database ("+this.ii.projectId+"/"+this.ii.database+") instead."),this.$T(r)},Nu),ru=Hi.ou,iu=(Ou.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.timestampsInSnapshots===t.timestampsInSnapshots&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.forceLongPolling===t.forceLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},Ou),ou=(Object.defineProperty(Su.prototype,"tE",{get:function(){return this.eE||(this.eE=new ys(this.mc,this.ZT.ignoreUndefinedProperties)),this.eE},enumerable:!0,configurable:!0}),Su.prototype.settings=function(t){ho("Firestore.settings",arguments,1),po("Firestore.settings","object",1,t);var e=new iu(t);if(this.zT&&!this.ZT.isEqual(e))throw new g(y.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only call settings() before calling any other methods on a Firestore object.");void 0!==(this.ZT=e).credentials&&(this.JT=function(t){if(!t)return new m;switch(t.type){case"gapi":var e=t.sE;return Cn(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new E(e,t.V||"0");case"provider":return t.sE;default:throw new g(y.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},Su.prototype.enableNetwork=function(){return this.GT(),this.zT.enableNetwork()},Su.prototype.disableNetwork=function(){return this.GT(),this.zT.disableNetwork()},Su.prototype.enablePersistence=function(t){var e,n;if(this.zT)throw new g(y.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only call enablePersistence() before calling any other methods on a Firestore object.");var r=!1,i=!1;if(t&&(void 0!==t.experimentalTabSynchronization&&Rn("The 'experimentalTabSynchronization' setting will be removed. Use 'synchronizeTabs' instead."),r=null!==(n=null!==(e=t.synchronizeTabs)&&void 0!==e?e:t.experimentalTabSynchronization)&&void 0!==n&&n,i=!!t.experimentalForceOwningTab&&t.experimentalForceOwningTab,r&&i))throw new g(y.INVALID_ARGUMENT,"The 'experimentalForceOwningTab' setting cannot be used with 'synchronizeTabs'.");return this.iE(this.XT,{VT:!0,cacheSizeBytes:this.ZT.cacheSizeBytes,synchronizeTabs:r,Bh:i})},Su.prototype.clearPersistence=function(){return v.__awaiter(this,void 0,void 0,function(){var r,e=this;return v.__generator(this,function(t){if(void 0!==this.zT&&!this.zT.CT)throw new g(y.FAILED_PRECONDITION,"Persistence cannot be cleared after this Firestore instance is initialized.");return r=new cr,[2,(this.KT.xa(function(){return v.__awaiter(e,void 0,void 0,function(){var e,n;return v.__generator(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),e=this.nE(),[4,this.XT.clearPersistence(e)];case 1:return t.sent(),r.resolve(),[3,3];case 2:return n=t.sent(),r.reject(n),[3,3];case 3:return[2]}})})}),r.promise)]})})},Su.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.INTERNAL.delete()},Object.defineProperty(Su.prototype,"rE",{get:function(){return this.GT(),this.zT.CT},enumerable:!0,configurable:!0}),Su.prototype.waitForPendingWrites=function(){return this.GT(),this.zT.waitForPendingWrites()},Su.prototype.onSnapshotsInSync=function(t){if(this.GT(),Ja(t))return this.hE(t);po("Firestore.onSnapshotsInSync","function",1,t);var e={next:t};return this.hE(e)},Su.prototype.hE=function(t){var e=this,n=new Ba({next:function(){t.next&&t.next()},error:function(t){throw jn()}});return this.zT.Nf(n),function(){n.MT(),e.zT.kf(n)}},Su.prototype.GT=function(){return this.zT||this.iE(new Va,{VT:!1}),this.zT},Su.prototype.nE=function(){return new qn(this.mc,this.YT,this.ZT.host,this.ZT.ssl,this.ZT.forceLongPolling)},Su.prototype.iE=function(t,e){var n=this.nE();return this.zT=new qa(Nn.nt(),n,this.JT,this.KT),this.zT.start(t,e)},Su.HT=function(t){if(e=t.options,!Object.prototype.hasOwnProperty.call(e,"projectId"))throw new g(y.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');var e,n=t.options.projectId;if(!n||"string"!=typeof n)throw new g(y.INVALID_ARGUMENT,"projectId must be a string in FirebaseApp.options");return new Bn(n)},Object.defineProperty(Su.prototype,"app",{get:function(){if(!this.jT)throw new g(y.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.jT},enumerable:!0,configurable:!0}),Su.prototype.collection=function(t){return ho("Firestore.collection",arguments,1),po("Firestore.collection","non-empty string",1,t),this.GT(),new du(T.K(t),this,null)},Su.prototype.doc=function(t){return ho("Firestore.doc",arguments,1),po("Firestore.doc","non-empty string",1,t),this.GT(),uu.oE(T.K(t),this,null)},Su.prototype.collectionGroup=function(t){if(ho("Firestore.collectionGroup",arguments,1),po("Firestore.collectionGroup","non-empty string",1,t),0<=t.indexOf("/"))throw new g(y.INVALID_ARGUMENT,"Invalid collection ID '"+t+"' passed to function Firestore.collectionGroup(). Collection IDs must not contain '/'.");return this.GT(),new lu(new pe(T.G,t),this,null)},Su.prototype.runTransaction=function(e){var n=this;return ho("Firestore.runTransaction",arguments,1),po("Firestore.runTransaction","function",1,e),this.GT().transaction(function(t){return e(new su(n,t))})},Su.prototype.batch=function(){return this.GT(),new au(this)},Object.defineProperty(Su,"logLevel",{get:function(){switch(Pn()){case l.LogLevel.DEBUG:return"debug";case l.LogLevel.ERROR:return"error";case l.LogLevel.SILENT:return"silent";case l.LogLevel.WARN:return"warn";case l.LogLevel.INFO:return"info";case l.LogLevel.VERBOSE:return"verbose";default:return"error"}},enumerable:!0,configurable:!0}),Su.setLogLevel=function(t){ho("Firestore.setLogLevel",arguments,1),bo("setLogLevel",["debug","error","silent","warn","info","verbose"],1,t),An.setLogLevel(t)},Su.prototype.aE=function(){return this.ZT.timestampsInSnapshots},Su),su=(Tu.prototype.get=function(t){var n=this;ho("Transaction.get",arguments,1);var r=xu("Transaction.get",t,this.uE);return this.cE.V_([r.Pc]).then(function(t){if(!t||1!==t.length)return jn();var e=t[0];if(e instanceof he)return new hu(n.uE,r.Pc,null,!1,!1,r.Vc);if(e instanceof ce)return new hu(n.uE,r.Pc,e,!1,!1,r.Vc);throw jn()})},Tu.prototype.set=function(t,e,n){lo("Transaction.set",arguments,2,3);var r=xu("Transaction.set",t,this.uE);n=Au("Transaction.set",n);var i=Ru(r.Vc,e,"Transaction.set"),o=i[0],s=i[1],a=this.uE.tE.Fc(s,o,n);return this.cE.set(r.Pc,a),this},Tu.prototype.update=function(t,e,n){for(var r,i,o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];return i="string"==typeof e||e instanceof jo?(fo("Transaction.update",arguments,3),r=xu("Transaction.update",t,this.uE),this.uE.tE.Mc("Transaction.update",e,n,o)):(ho("Transaction.update",arguments,2),r=xu("Transaction.update",t,this.uE),this.uE.tE.kc("Transaction.update",e)),this.cE.update(r.Pc,i),this},Tu.prototype.delete=function(t){ho("Transaction.delete",arguments,1);var e=xu("Transaction.delete",t,this.uE);return this.cE.delete(e.Pc),this},Tu),au=(Iu.prototype.set=function(t,e,n){lo("WriteBatch.set",arguments,2,3),this.dE();var r=xu("WriteBatch.set",t,this.uE);n=Au("WriteBatch.set",n);var i=Ru(r.Vc,e,"WriteBatch.set"),o=i[0],s=i[1],a=this.uE.tE.Fc(s,o,n);return this._E=this._E.concat(a.gc(r.Pc,Pt.ft())),this},Iu.prototype.update=function(t,e,n){for(var r,i,o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];return this.dE(),i="string"==typeof e||e instanceof jo?(fo("WriteBatch.update",arguments,3),r=xu("WriteBatch.update",t,this.uE),this.uE.tE.Mc("WriteBatch.update",e,n,o)):(ho("WriteBatch.update",arguments,2),r=xu("WriteBatch.update",t,this.uE),this.uE.tE.kc("WriteBatch.update",e)),this._E=this._E.concat(i.gc(r.Pc,Pt.exists(!0))),this},Iu.prototype.delete=function(t){ho("WriteBatch.delete",arguments,1),this.dE();var e=xu("WriteBatch.delete",t,this.uE);return this._E=this._E.concat(new Ct(e.Pc,Pt.ft())),this},Iu.prototype.commit=function(){return this.dE(),this.lE=!0,0<this._E.length?this.uE.GT().write(this._E):Promise.resolve()},Iu.prototype.dE=function(){if(this.lE)throw new g(y.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},Iu),uu=(eu=es,v.__extends(_u,eu),_u.oE=function(t,e,n){if(t.length%2!=0)throw new g(y.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.j()+" has "+t.length);return new _u(new V(t),e,n)},Object.defineProperty(_u.prototype,"id",{get:function(){return this.Pc.path.L()},enumerable:!0,configurable:!0}),Object.defineProperty(_u.prototype,"parent",{get:function(){return new du(this.Pc.path.$(),this.firestore,this.Vc)},enumerable:!0,configurable:!0}),Object.defineProperty(_u.prototype,"path",{get:function(){return this.Pc.path.j()},enumerable:!0,configurable:!0}),_u.prototype.collection=function(t){if(ho("DocumentReference.collection",arguments,1),po("DocumentReference.collection","non-empty string",1,t),!t)throw new g(y.INVALID_ARGUMENT,"Must provide a non-empty collection name to collection()");var e=T.K(t);return new du(this.Pc.path.child(e),this.firestore,null)},_u.prototype.isEqual=function(t){if(!(t instanceof _u))throw So("isEqual","DocumentReference",1,t);return this.firestore===t.firestore&&this.Pc.isEqual(t.Pc)&&this.Vc===t.Vc},_u.prototype.set=function(t,e){lo("DocumentReference.set",arguments,1,2),e=Au("DocumentReference.set",e);var n=Ru(this.Vc,t,"DocumentReference.set"),r=n[0],i=n[1],o=this.firestore.tE.Fc(i,r,e);return this.zT.write(o.gc(this.Pc,Pt.ft()))},_u.prototype.update=function(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];return n="string"==typeof t||t instanceof jo?(fo("DocumentReference.update",arguments,2),this.firestore.tE.Mc("DocumentReference.update",t,e,r)):(ho("DocumentReference.update",arguments,1),this.firestore.tE.kc("DocumentReference.update",t)),this.zT.write(n.gc(this.Pc,Pt.exists(!0)))},_u.prototype.delete=function(){return ho("DocumentReference.delete",arguments,0),this.zT.write([new Ct(this.Pc,Pt.ft())])},_u.prototype.onSnapshot=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];lo("DocumentReference.onSnapshot",arguments,1,4);var n={includeMetadataChanges:!1},r=0;"object"!=typeof t[r]||Ja(t[r])||(To("DocumentReference.onSnapshot",n=t[r],["includeMetadataChanges"]),go("DocumentReference.onSnapshot","boolean","includeMetadataChanges",n.includeMetadataChanges),r++);var i={includeMetadataChanges:n.includeMetadataChanges},o=Ja(t[r])?t[r]:(po("DocumentReference.onSnapshot","function",r,t[r]),vo("DocumentReference.onSnapshot","function",r+1,t[r+1]),vo("DocumentReference.onSnapshot","function",r+2,t[r+2]),{next:t[r],error:t[r+1],complete:t[r+2]});return this.fE(i,o)},_u.prototype.fE=function(t,n){var r=this,e=function(t){console.error("Uncaught Error in onSnapshot:",t)};n.error&&(e=n.error.bind(n));var i=new Ba({next:function(t){var e;n.next&&(e=t.docs.get(r.Pc),n.next(new hu(r.firestore,r.Pc,e,t.fromCache,t.hasPendingWrites,r.Vc)))},error:e}),o=this.zT.listen(pe.Wt(this.Pc.path),i,t);return function(){i.MT(),r.zT.al(o)}},_u.prototype.get=function(n){var r=this;return lo("DocumentReference.get",arguments,0,1),Pu("DocumentReference.get",n),new Promise(function(e,t){n&&"cache"===n.source?r.firestore.GT().FT(r.Pc).then(function(t){e(new hu(r.firestore,r.Pc,t,!0,t instanceof ce&&t.At,r.Vc))},t):r.TE(e,t,n)})},_u.prototype.TE=function(e,n,r){var i=this.fE({includeMetadataChanges:!0,qf:!0},{next:function(t){i(),!t.exists&&t.metadata.fromCache?n(new g(y.UNAVAILABLE,"Failed to get document because the client is offline.")):t.exists&&t.metadata.fromCache&&r&&"server"===r.source?n(new g(y.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):e(t)},error:n})},_u.prototype.withConverter=function(t){return new _u(this.Pc,this.firestore,t)},_u),cu=(Eu.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},Eu),hu=(wu.prototype.data=function(t){var e=this;if(lo("DocumentSnapshot.data",arguments,0,1),t=ku("DocumentSnapshot.data",t),this.EE){if(this.Vc){var n=new fu(this.uE,this.Pc,this.EE,this.IE,this.wE,null);return this.Vc.fromFirestore(n,t)}return new nu(this.uE.mc,this.uE.aE(),t.serverTimestamps||"none",function(t){return new uu(t,e.uE,null)}).OT(this.EE.xt())}},wu.prototype.get=function(t,e){var n=this;if(lo("DocumentSnapshot.get",arguments,1,2),e=ku("DocumentSnapshot.get",e),this.EE){var r=this.EE.data().field(Is("DocumentSnapshot.get",t));if(null!==r)return new nu(this.uE.mc,this.uE.aE(),e.serverTimestamps||"none",function(t){return new uu(t,n.uE,n.Vc)}).OT(r)}},Object.defineProperty(wu.prototype,"id",{get:function(){return this.Pc.path.L()},enumerable:!0,configurable:!0}),Object.defineProperty(wu.prototype,"ref",{get:function(){return new uu(this.Pc,this.uE,this.Vc)},enumerable:!0,configurable:!0}),Object.defineProperty(wu.prototype,"exists",{get:function(){return null!==this.EE},enumerable:!0,configurable:!0}),Object.defineProperty(wu.prototype,"metadata",{get:function(){return new cu(this.wE,this.IE)},enumerable:!0,configurable:!0}),wu.prototype.isEqual=function(t){if(!(t instanceof wu))throw So("isEqual","DocumentSnapshot",1,t);return this.uE===t.uE&&this.IE===t.IE&&this.Pc.isEqual(t.Pc)&&(null===this.EE?null===t.EE:this.EE.isEqual(t.EE))&&this.Vc===t.Vc},wu),fu=(tu=hu,v.__extends(bu,tu),bu.prototype.data=function(t){return tu.prototype.data.call(this,t)},bu),lu=(mu.prototype.AE=function(t,e,n){var r;if(t.Y()){if("array-contains"===e||"array-contains-any"===e)throw new g(y.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+e+"' queries on FieldPath.documentId().");if("in"===e){this.mE(n,e);for(var i=[],o=0,s=n;o<s.length;o++){var a=s[o];i.push(this.PE(a))}r={arrayValue:{values:i}}}else r=this.PE(n)}else"in"!==e&&"array-contains-any"!==e||this.mE(n,e),r=this.tE.xc("Query.where",n,"in"===e);var u=de.create(t,e,r);return this.VE(u),u},mu.prototype.gE=function(t,e){if(null!==this.RE.startAt)throw new g(y.INVALID_ARGUMENT,"Invalid query. You must not call Query.startAt() or Query.startAfter() before calling Query.orderBy().");if(null!==this.RE.endAt)throw new g(y.INVALID_ARGUMENT,"Invalid query. You must not call Query.endAt() or Query.endBefore() before calling Query.orderBy().");var n=new Ee(t,e);return this.pE(n),n},mu.prototype.yE=function(t,e,n){if(!e)throw new g(y.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+t+"().");for(var r=[],i=0,o=this.RE.orderBy;i<o.length;i++){var s=o[i];if(s.field.Y())r.push(at(this.mc,e.key));else{var a=e.field(s.field);if(X(a))throw new g(y.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===a){var u=s.field.j();throw new g(y.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+u+"' (used as the orderBy) does not exist.")}r.push(a)}}return new we(r,n)},mu.prototype.bE=function(t,e,n){var r=this.RE.Lt;if(e.length>r.length)throw new g(y.INVALID_ARGUMENT,"Too many arguments provided to "+t+"(). The number of arguments must be less than or equal to the number of Query.orderBy() clauses");for(var i=[],o=0;o<e.length;o++){var s=e[o];if(r[o].field.Y()){if("string"!=typeof s)throw new g(y.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+t+"(), but got a "+typeof s);if(!this.RE._e()&&-1!==s.indexOf("/"))throw new g(y.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+t+"() must be a plain document ID, but '"+s+"' contains a slash.");var a=this.RE.path.child(T.K(s));if(!V.et(a))throw new g(y.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+t+"() must result in a valid document path, but '"+a+"' is not because it contains an odd number of segments.");var u=new V(a);i.push(at(this.mc,u))}else{var c=this.tE.xc(t,s);i.push(c)}}return new we(i,n)},mu.prototype.vE=function(t){if(t.ae()&&0===t.Lt.length)throw new g(y.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")},mu.prototype.PE=function(t){if("string"==typeof t){if(""===t)throw new g(y.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!this.RE._e()&&-1!==t.indexOf("/"))throw new g(y.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+t+"' contains a '/' character.");var e=this.RE.path.child(T.K(t));if(!V.et(e))throw new g(y.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+e+"' is not because it has an odd number of segments ("+e.length+").");return at(this.mc,new V(e))}if(t instanceof es)return at(this.mc,t.Pc);throw new g(y.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+_o(t)+".")},mu.prototype.mE=function(t,e){if(!Array.isArray(t)||0===t.length)throw new g(y.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(10<t.length)throw new g(y.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.");if(0<=t.indexOf(null))throw new g(y.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters cannot contain 'null' in the value array.");if(0<t.filter(function(t){return Number.isNaN(t)}).length)throw new g(y.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters cannot contain 'NaN' in the value array.")},mu.prototype.VE=function(t){if(t instanceof de){var e=["array-contains","array-contains-any"],n=["in","array-contains-any"],r=0<=e.indexOf(t.op),i=0<=n.indexOf(t.op);if(t.ue()){var o=this.RE.jt();if(null!==o&&!o.isEqual(t.field))throw new g(y.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+o.toString()+"' and '"+t.field.toString()+"'");var s=this.RE.Kt();null!==s&&this.SE(t.field,s)}else if(i||r){var a=null;if(i&&(a=this.RE.ce(n)),null===a&&r&&(a=this.RE.ce(e)),null!=a)throw a===t.op?new g(y.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+t.op.toString()+"' filter."):new g(y.INVALID_ARGUMENT,"Invalid query. You cannot use '"+t.op.toString()+"' filters with '"+a.toString()+"' filters.")}}},mu.prototype.pE=function(t){var e;null!==this.RE.Kt()||null!==(e=this.RE.jt())&&this.SE(e,t.field)},mu.prototype.SE=function(t,e){if(!e.isEqual(t))throw new g(y.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first Query.orderBy(), but your first Query.orderBy() is on field '"+e.toString()+"' instead.")},Za=mu,v.__extends(gu,Za),gu.prototype.where=function(t,e,n){ho("Query.where",arguments,3),Io("Query.where",3,n);var r=bo("Query.where",["<","<=","==",">=",">","array-contains","in","array-contains-any"],2,e),i=Is("Query.where",t),o=this.AE(i,r,n);return new gu(this.RE.Gt(o),this.firestore,this.Vc)},gu.prototype.orderBy=function(t,e){var n;if(lo("Query.orderBy",arguments,1,2),vo("Query.orderBy","non-empty string",2,e),void 0===e||"asc"===e)n="asc";else{if("desc"!==e)throw new g(y.INVALID_ARGUMENT,"Function Query.orderBy() has unknown direction '"+e+"', expected 'asc' or 'desc'.");n="desc"}var r=Is("Query.orderBy",t),i=this.gE(r,n);return new gu(this.RE.zt(i),this.firestore,this.Vc)},gu.prototype.limit=function(t){return ho("Query.limit",arguments,1),po("Query.limit","number",1,t),Oo("Query.limit",1,t),new gu(this.RE.Ht(t),this.firestore,this.Vc)},gu.prototype.limitToLast=function(t){return ho("Query.limitToLast",arguments,1),po("Query.limitToLast","number",1,t),Oo("Query.limitToLast",1,t),new gu(this.RE.Yt(t),this.firestore,this.Vc)},gu.prototype.startAt=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];fo("Query.startAt",arguments,1);var r=this.DE("Query.startAt",t,e,!0);return new gu(this.RE.Jt(r),this.firestore,this.Vc)},gu.prototype.startAfter=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];fo("Query.startAfter",arguments,1);var r=this.DE("Query.startAfter",t,e,!1);return new gu(this.RE.Jt(r),this.firestore,this.Vc)},gu.prototype.endBefore=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];fo("Query.endBefore",arguments,1);var r=this.DE("Query.endBefore",t,e,!0);return new gu(this.RE.Xt(r),this.firestore,this.Vc)},gu.prototype.endAt=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];fo("Query.endAt",arguments,1);var r=this.DE("Query.endAt",t,e,!1);return new gu(this.RE.Xt(r),this.firestore,this.Vc)},gu.prototype.isEqual=function(t){if(!(t instanceof gu))throw So("isEqual","Query",1,t);return this.firestore===t.firestore&&this.RE.isEqual(t.RE)&&this.Vc===t.Vc},gu.prototype.withConverter=function(t){return new gu(this.RE,this.firestore,t)},gu.prototype.DE=function(t,e,n,r){if(Io(t,1,e),e instanceof hu)return ho(t,v.__spreadArrays([e],n),1),this.yE(t,e.EE,r);var i=[e].concat(n);return this.bE(t,i,r)},gu.prototype.onSnapshot=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];lo("Query.onSnapshot",arguments,1,4);var n,r={},i=0;return"object"!=typeof t[i]||Ja(t[i])||(To("Query.onSnapshot",r=t[i],["includeMetadataChanges"]),go("Query.onSnapshot","boolean","includeMetadataChanges",r.includeMetadataChanges),i++),n=Ja(t[i])?t[i]:(po("Query.onSnapshot","function",i,t[i]),vo("Query.onSnapshot","function",i+1,t[i+1]),vo("Query.onSnapshot","function",i+2,t[i+2]),{next:t[i],error:t[i+1],complete:t[i+2]}),this.vE(this.RE),this.fE(r,n)},gu.prototype.fE=function(t,e){var n=this,r=function(t){console.error("Uncaught Error in onSnapshot:",t)};e.error&&(r=e.error.bind(e));var i=new Ba({next:function(t){e.next&&e.next(new pu(n.firestore,n.RE,t,n.Vc))},error:r}),o=this.firestore.GT(),s=o.listen(this.RE,i,t);return function(){i.MT(),o.al(s)}},gu.prototype.get=function(n){var r=this;return lo("Query.get",arguments,0,1),Pu("Query.get",n),this.vE(this.RE),new Promise(function(e,t){n&&"cache"===n.source?r.firestore.GT().NT(r.RE).then(function(t){e(new pu(r.firestore,r.RE,t,r.Vc))},t):r.TE(e,t,n)})},gu.prototype.TE=function(e,n,r){var i=this.fE({includeMetadataChanges:!0,qf:!0},{next:function(t){i(),t.metadata.fromCache&&r&&"server"===r.source?n(new g(y.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):e(t)},error:n})},gu),pu=(Object.defineProperty(yu.prototype,"docs",{get:function(){var e=[];return this.forEach(function(t){return e.push(t)}),e},enumerable:!0,configurable:!0}),Object.defineProperty(yu.prototype,"empty",{get:function(){return this.FE.docs.B()},enumerable:!0,configurable:!0}),Object.defineProperty(yu.prototype,"size",{get:function(){return this.FE.docs.size},enumerable:!0,configurable:!0}),yu.prototype.forEach=function(e,n){var r=this;lo("QuerySnapshot.forEach",arguments,1,2),po("QuerySnapshot.forEach","function",1,e),this.FE.docs.forEach(function(t){e.call(n,r.ME(t))})},Object.defineProperty(yu.prototype,"query",{get:function(){return new lu(this.CE,this.uE,this.Vc)},enumerable:!0,configurable:!0}),yu.prototype.docChanges=function(t){t&&(To("QuerySnapshot.docChanges",t,["includeMetadataChanges"]),go("QuerySnapshot.docChanges","boolean","includeMetadataChanges",t.includeMetadataChanges));var e=!(!t||!t.includeMetadataChanges);if(e&&this.FE.hs)throw new g(y.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.NE&&this.kE===e||(this.NE=function(i,e,o,s){if(o.ss.B()){var n=0;return o.docChanges.map(function(t){var e=new fu(i,t.doc.key,t.doc,o.fromCache,o.ns.has(t.doc.key),s);return t.doc,{type:"added",doc:e,oldIndex:-1,newIndex:n++}})}var a=o.ss;return o.docChanges.filter(function(t){return e||3!==t.type}).map(function(t){var e=new fu(i,t.doc.key,t.doc,o.fromCache,o.ns.has(t.doc.key),s),n=-1,r=-1;return 0!==t.type&&(n=a.indexOf(t.doc.key),a=a.delete(t.doc.key)),1!==t.type&&(r=(a=a.add(t.doc)).indexOf(t.doc.key)),{type:function(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return jn()}}(t.type),doc:e,oldIndex:n,newIndex:r}})}(this.uE,e,this.FE,this.Vc),this.kE=e),this.NE},yu.prototype.isEqual=function(t){if(!(t instanceof yu))throw So("isEqual","QuerySnapshot",1,t);return this.uE===t.uE&&this.CE.isEqual(t.CE)&&this.FE.isEqual(t.FE)&&this.Vc===t.Vc},yu.prototype.ME=function(t){return new fu(this.uE,t.key,t,this.metadata.fromCache,this.FE.ns.has(t.key),this.Vc)},yu),du=(Qa=lu,v.__extends(vu,Qa),Object.defineProperty(vu.prototype,"id",{get:function(){return this.RE.path.L()},enumerable:!0,configurable:!0}),Object.defineProperty(vu.prototype,"parent",{get:function(){var t=this.RE.path.$();return t.B()?null:new uu(new V(t),this.firestore,null)},enumerable:!0,configurable:!0}),Object.defineProperty(vu.prototype,"path",{get:function(){return this.RE.path.j()},enumerable:!0,configurable:!0}),vu.prototype.doc=function(t){lo("CollectionReference.doc",arguments,0,1),0===arguments.length&&(t=Ln.cn()),po("CollectionReference.doc","non-empty string",1,t);var e=T.K(t);return uu.oE(this.RE.path.child(e),this.firestore,this.Vc)},vu.prototype.add=function(t){ho("CollectionReference.add",arguments,1),po("CollectionReference.add","object",1,this.Vc?this.Vc.toFirestore(t):t);var e=this.doc();return e.set(t).then(function(){return e})},vu.prototype.withConverter=function(t){return new vu(this.xE,this.firestore,t)},vu);function vu(t,e,n){var r=this;if(((r=Qa.call(this,pe.Wt(t),e,n)||this).xE=t).length%2!=1)throw new g(y.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t.j()+" has "+t.length);return r}function yu(t,e,n,r){this.uE=t,this.CE=e,this.FE=n,this.Vc=r,this.NE=null,this.kE=null,this.metadata=new cu(n.hasPendingWrites,n.fromCache)}function gu(t,e,n){var r=this;return(r=Za.call(this,e.mc,e.tE,t)||this).RE=t,r.firestore=e,r.Vc=n,r}function mu(t,e,n){this.mc=t,this.tE=e,this.RE=n}function bu(){return null!==tu&&tu.apply(this,arguments)||this}function wu(t,e,n,r,i,o){this.uE=t,this.Pc=e,this.EE=n,this.IE=r,this.wE=i,this.Vc=o}function Eu(t,e){this.hasPendingWrites=t,this.fromCache=e}function _u(t,e,n){var r=this;return(r=eu.call(this,e.mc,t,n)||this).Pc=t,r.firestore=e,r.Vc=n,r.zT=r.firestore.GT(),r}function Iu(t){this.uE=t,this._E=[],this.lE=!1}function Tu(t,e){this.uE=t,this.cE=e}function Su(t,e,n){var r=this;if(void 0===n&&(n=new Va),this.jT=null,this.KT=new Vi,this.INTERNAL={delete:function(){return v.__awaiter(r,void 0,void 0,function(){return v.__generator(this,function(t){switch(t.label){case 0:return this.GT(),[4,this.zT.terminate()];case 1:return t.sent(),[2]}})})}},"object"==typeof t.options){var i=t;this.jT=i,this.mc=Su.HT(i),this.YT=i.name,this.JT=new b(e)}else{var o=t;if(!o.projectId)throw new g(y.INVALID_ARGUMENT,"Must provide projectId");this.mc=new Bn(o.projectId,o.database),this.YT="[DEFAULT]",this.JT=new m}this.XT=n,this.ZT=new iu({})}function Ou(t){var e,n,r,i;if(void 0===t.host){if(void 0!==t.ssl)throw new g(y.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else yo("settings","non-empty string","host",t.host),this.host=t.host,go("settings","boolean","ssl",t.ssl),this.ssl=null===(e=t.ssl)||void 0===e||e;if(To("settings",t,["host","ssl","credentials","timestampsInSnapshots","cacheSizeBytes","experimentalForceLongPolling","ignoreUndefinedProperties"]),go("settings","object","credentials",t.credentials),this.credentials=t.credentials,go("settings","boolean","timestampsInSnapshots",t.timestampsInSnapshots),go("settings","boolean","ignoreUndefinedProperties",t.ignoreUndefinedProperties),!0===t.timestampsInSnapshots?Rn("The setting 'timestampsInSnapshots: true' is no longer required and should be removed."):!1===t.timestampsInSnapshots&&Rn("Support for 'timestampsInSnapshots: false' will be removed soon. You must update your code to handle Timestamp objects."),this.timestampsInSnapshots=null===(n=t.timestampsInSnapshots)||void 0===n||n,this.ignoreUndefinedProperties=null!==(r=t.ignoreUndefinedProperties)&&void 0!==r&&r,go("settings","number","cacheSizeBytes",t.cacheSizeBytes),void 0===t.cacheSizeBytes)this.cacheSizeBytes=Hi.uu;else{if(t.cacheSizeBytes!==ru&&t.cacheSizeBytes<Hi.au)throw new g(y.INVALID_ARGUMENT,"cacheSizeBytes must be at least "+Hi.au);this.cacheSizeBytes=t.cacheSizeBytes}go("settings","boolean","experimentalForceLongPolling",t.experimentalForceLongPolling),this.forceLongPolling=null!==(i=t.experimentalForceLongPolling)&&void 0!==i&&i}function Nu(t,e,n,r){this.ii=t,this.timestampsInSnapshots=e,this.xT=n,this.$T=r}function Au(t,e){if(void 0===e)return{merge:!1};if(To(t,e,["merge","mergeFields"]),go(t,"boolean","merge",e.merge),void 0!==(n=e.mergeFields)&&function(t,e,n,r){if(!(n instanceof Array))throw new g(y.INVALID_ARGUMENT,"Function "+t+"() requires its "+e+" option to be an array, but it was: "+_o(n));for(var i=0;i<n.length;++i)if(!r(n[i]))throw new g(y.INVALID_ARGUMENT,"Function "+t+"() requires all "+e+" elements to be a string or a FieldPath, but the value at index "+i+" was: "+_o(n[i]))}(t,"mergeFields",n,function(t){return"string"==typeof t||t instanceof jo}),void 0!==e.mergeFields&&void 0!==e.merge)throw new g(y.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');var n;return e}function ku(t,e){return void 0===e?{}:(To(t,e,["serverTimestamps"]),mo(t,0,"serverTimestamps",e.serverTimestamps,["estimate","previous","none"]),e)}function Pu(t,e){vo(t,"object",1,e),e&&(To(t,e,["source"]),mo(t,0,"source",e.source,["default","server","cache"]))}function xu(t,e,n){if(e instanceof es){if(e.firestore!==n)throw new g(y.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}throw So(t,"DocumentReference",1,e)}function Ru(t,e,n){var r;return t?(r=t.toFirestore(e),n="toFirestore() in "+n):r=e,[r,n]}function Du(t,e){function n(){var t="This constructor is private.";throw e&&(t+=" ",t+=e),new g(y.INVALID_ARGUMENT,t)}return n.prototype=t.prototype,Object.assign(n,t),n}var ju=Du(ou,"Use firebase.firestore() instead."),Cu=Du(su,"Use firebase.firestore().runTransaction() instead."),Lu=Du(au,"Use firebase.firestore().batch() instead."),Mu=Du(uu,"Use firebase.firestore().doc() instead."),Fu=Du(hu),Vu=Du(fu),Uu=Du(lu),qu=Du(pu),Bu=Du(du,"Use firebase.firestore().collection() instead."),Gu=Du(Jo,"Use FieldValue.<field>() instead."),Wu=Du(Do,"Use Blob.fromUint8Array() or Blob.fromBase64String() instead."),zu={Firestore:ju,GeoPoint:Zo,Timestamp:_,Blob:Wu,Transaction:Cu,WriteBatch:Lu,DocumentReference:Mu,DocumentSnapshot:Fu,Query:Uu,QueryDocumentSnapshot:Vu,QuerySnapshot:qu,CollectionReference:Bu,FieldPath:jo,FieldValue:Gu,setLogLevel:ou.setLogLevel,CACHE_SIZE_UNLIMITED:ru},Hu=(ec.prototype.Q_=function(t){},ec.prototype.Vo=function(){},ec),Ku=(tc.prototype.Q_=function(t){this.qE.push(t)},tc.prototype.Vo=function(){window.removeEventListener("online",this.$E),window.removeEventListener("offline",this.LE)},tc.prototype.UE=function(){window.addEventListener("online",this.$E),window.addEventListener("offline",this.LE)},tc.prototype.OE=function(){xn("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.qE;t<e.length;t++)(0,e[t])(0)},tc.prototype.BE=function(){xn("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.qE;t<e.length;t++)(0,e[t])(1)},tc.zh=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},tc),$u=(Zu.prototype.s_=function(t){this.jE=t},Zu.prototype.Jc=function(t){this.KE=t},Zu.prototype.onMessage=function(t){this.GE=t},Zu.prototype.close=function(){this.WE()},Zu.prototype.send=function(t){this.QE(t)},Zu.prototype.zE=function(){this.jE()},Zu.prototype.HE=function(t){this.KE(t)},Zu.prototype.YE=function(t){this.GE(t)},Zu),Xu={BatchGetDocuments:"batchGet",Commit:"commit"},Yu="gl-js/ fire/"+d,Ju=(Qu.prototype.XE=function(t,e){if(e)for(var n in e.o)e.o.hasOwnProperty(n)&&(t[n]=e.o[n]);t["X-Goog-Api-Client"]=Yu},Qu.prototype.E_=function(u,r,i){var c=this,h=this.ZE(u);return new Promise(function(o,s){var a=new p.XhrIo;a.listenOnce(p.EventType.COMPLETE,function(){try{switch(a.getLastErrorCode()){case p.ErrorCode.NO_ERROR:var t=a.getResponseJson();xn("Connection","XHR received:",JSON.stringify(t)),o(t);break;case p.ErrorCode.TIMEOUT:xn("Connection",'RPC "'+u+'" timed out'),s(new g(y.DEADLINE_EXCEEDED,"Request time out"));break;case p.ErrorCode.HTTP_ERROR:var e,n,r=a.getStatus();xn("Connection",'RPC "'+u+'" failed with status:',r,"response text:",a.getResponseText()),0<r?(e=a.getResponseJson().error)&&e.status&&e.message?(i=e.status.toLowerCase().replace("_","-"),n=0<=Object.values(y).indexOf(i)?i:y.UNKNOWN,s(new g(n,e.message))):s(new g(y.UNKNOWN,"Server responded with status "+a.getStatus())):(xn("Connection",'RPC "'+u+'" failed'),s(new g(y.UNAVAILABLE,"Connection failed.")));break;default:jn()}}finally{xn("Connection",'RPC "'+u+'" completed.')}var i});var t=Object.assign({},r);delete t.database;var e=JSON.stringify(t);xn("Connection","XHR sending: ",h+" "+e);var n={"Content-Type":"text/plain"};c.XE(n,i),a.send(h,"POST",e,n,15)})},Qu.prototype.I_=function(t,e,n){return this.E_(t,e,n)},Qu.prototype.i_=function(t,e){var n=[this.JE,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=p.createWebChannelTransport(),i={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.ii.projectId+"/databases/"+this.ii.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling};this.XE(i.initMessageHeaders,e),f.isMobileCordova()||f.isReactNative()||f.isElectron()||f.isIE()||f.isUWP()||f.isBrowserExtension()||(i.httpHeadersOverwriteParam="$httpHeaders");var o=n.join("");function s(t,e){a.listen(t,function(t){try{e(t)}catch(t){setTimeout(function(){throw t},0)}})}xn("Connection","Creating WebChannel: "+o+" "+i);var a=r.createWebChannel(o,i),u=!1,c=!1,h=new $u({QE:function(t){c?xn("Connection","Not sending because WebChannel is closed:",t):(u||(xn("Connection","Opening WebChannel transport."),a.open(),u=!0),xn("Connection","WebChannel sending:",t),a.send(t))},WE:function(){return a.close()}});return s(p.WebChannel.EventType.OPEN,function(){c||xn("Connection","WebChannel transport opened.")}),s(p.WebChannel.EventType.CLOSE,function(){c||(c=!0,xn("Connection","WebChannel transport closed"),h.HE())}),s(p.WebChannel.EventType.ERROR,function(t){c||(c=!0,function(t){for(var e,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];An.logLevel<=l.LogLevel.WARN&&(e=n.map(Dn),An.warn.apply(An,v.__spreadArrays(["Firestore ("+d+"): Connection"],e)))}("Connection","WebChannel transport errored:",t),h.HE(new g(y.UNAVAILABLE,"The operation could not be completed")))}),s(p.WebChannel.EventType.MESSAGE,function(t){var e,n,r,i,o,s;c||(Cn(!!(n=t.data[0])),(r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error))?(xn("Connection","WebChannel received error:",r),i=r.status,o=function(){var t=Qt[i];if(void 0!==t)return Fe(t)}(),s=r.message,void 0===o&&(o=y.INTERNAL,s="Unknown error status: "+i+" with message "+r.message),c=!0,h.HE(new g(o,s)),a.close()):(xn("Connection","WebChannel received:",n),h.YE(n)))}),setTimeout(function(){h.zE()},0),h},Qu.prototype.ZE=function(t){var e=Xu[t];return this.JE+"/v1/projects/"+this.ii.projectId+"/databases/"+this.ii.database+"/documents:"+e},Qu);function Qu(t){this.ii=t.ii;var e=t.ssl?"https":"http";this.JE=e+"://"+t.host,this.forceLongPolling=t.forceLongPolling}function Zu(t){this.QE=t.QE,this.WE=t.WE}function tc(){var t=this;this.$E=function(){return t.OE()},this.LE=function(){return t.BE()},this.qE=[],this.UE()}function ec(){}function nc(t){t.INTERNAL.registerComponent(new o.Component("firestore",function(t){return e=t.getProvider("app").getImmediate(),n=t.getProvider("auth-internal"),new ou(e,n,new Ua);var e,n},"PUBLIC").setServiceProps(Object.assign({},zu))),t.registerVersion("@firebase/firestore","1.15.4")}function rc(){this.oc="undefined"!=typeof atob}Nn.an((Object.defineProperty(rc.prototype,"document",{get:function(){return"undefined"!=typeof document?document:null},enumerable:!0,configurable:!0}),Object.defineProperty(rc.prototype,"window",{get:function(){return"undefined"!=typeof window?window:null},enumerable:!0,configurable:!0}),rc.prototype.vT=function(t){return Promise.resolve(new Ju(t))},rc.prototype.pT=function(){return new(Ku.zh()?Ku:Hu)},rc.prototype.Cc=function(t){return new Tn(t,{hi:!0})},rc.prototype.un=function(t){return JSON.stringify(t)},rc.prototype.atob=function(t){return atob(t)},rc.prototype.btoa=function(t){return btoa(t)},rc.prototype._n=function(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n},new rc)),nc(i),e.__PRIVATE_registerFirestore=nc},function(t,$n,Xn){"use strict";Xn.r($n),function(t){function a(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}Xn.d($n,"ErrorCode",function(){return Wn}),Xn.d($n,"EventType",function(){return zn}),Xn.d($n,"WebChannel",function(){return Hn}),Xn.d($n,"XhrIo",function(){return Kn}),Xn.d($n,"createWebChannelTransport",function(){return Gn});var e,n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{},u={},f=n||self;function i(){}function r(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&void 0!==t.splice&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==t.call&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&void 0===t.call)return"object";return e}function s(t){var e=r(t);return"array"==e||"object"==e&&"number"==typeof t.length}function l(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var o="closure_uid_"+(1e9*Math.random()>>>0),c=0;function h(t,e,n){return t.call.apply(t.bind,arguments)}function p(e,n,t){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var t=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(t,r),e.apply(n,t)}}return function(){return e.apply(n,arguments)}}function v(t,e,n){return(v=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?h:p).apply(null,arguments)}function d(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}var y=Date.now||function(){return+new Date};function g(t,e){function n(){}n.prototype=e.prototype,t.M=e.prototype,t.prototype=new n,t.prototype.constructor=t}function m(){this.j=this.j,this.i=this.i}m.prototype.j=!1,m.prototype.da=function(){var t;!this.j&&(this.j=!0,this.C(),0)&&(t=this,Object.prototype.hasOwnProperty.call(t,o)&&t[o]||(t[o]=++c))},m.prototype.C=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var b=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},w=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function E(t){return Array.prototype.concat.apply([],arguments)}function _(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function I(t){return/^[\s\xa0]*$/.test(t)}var T,S=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function O(t,e){return-1!=t.indexOf(e)}function N(t,e){return t<e?-1:e<t?1:0}t:{var A=f.navigator;if(A){var k=A.userAgent;if(k){T=k;break t}}T=""}function P(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function x(t){var e={};for(var n in t)e[n]=t[n];return e}var R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<R.length;o++)n=R[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function j(t){return j[" "](t),t}j[" "]=i;var C,L,M=O(T,"Opera"),F=O(T,"Trident")||O(T,"MSIE"),V=O(T,"Edge"),U=V||F,q=O(T,"Gecko")&&!(O(T.toLowerCase(),"webkit")&&!O(T,"Edge"))&&!(O(T,"Trident")||O(T,"MSIE"))&&!O(T,"Edge"),B=O(T.toLowerCase(),"webkit")&&!O(T,"Edge");function G(){var t=f.document;return t?t.documentMode:void 0}t:{var W="",z=(L=T,q?/rv:([^\);]+)(\)|;)/.exec(L):V?/Edge\/([\d\.]+)/.exec(L):F?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(L):B?/WebKit\/(\S+)/.exec(L):M?/(?:Version)[ \/]?(\S+)/.exec(L):void 0);if(z&&(W=z?z[1]:""),F){var H=G();if(null!=H&&H>parseFloat(W)){C=String(H);break t}}C=W}var K={};function $(a){return t=a,e=function(){for(var t=0,e=S(String(C)).split("."),n=S(String(a)).split("."),r=Math.max(e.length,n.length),i=0;0==t&&i<r;i++){var o=e[i]||"",s=n[i]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==o[0].length&&0==s[0].length)break;t=N(0==o[1].length?0:parseInt(o[1],10),0==s[1].length?0:parseInt(s[1],10))||N(0==o[2].length,0==s[2].length)||N(o[2],s[2]),o=o[3],s=s[3]}while(0==t)}return 0<=t},n=K,Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t);var t,e,n}var X=f.document&&F?G()||(parseInt(C,10)||void 0):void 0,Y=!F||9<=Number(X),J=F&&!$("9"),Q=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{f.addEventListener("test",i,e),f.removeEventListener("test",i,e)}catch(t){}return t}();function Z(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function tt(t,e){if(Z.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(q){t:{try{j(e.nodeName);var i=!0;break t}catch(t){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:et[t.pointerType]||"",(this.c=t).defaultPrevented&&this.b()}}Z.prototype.b=function(){this.defaultPrevented=!0},g(tt,Z);var et={2:"touch",3:"pen",4:"mouse"};tt.prototype.b=function(){tt.M.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,J)try{(t.ctrlKey||112<=t.keyCode&&t.keyCode<=123)&&(t.keyCode=-1)}catch(t){}};var nt="closure_listenable_"+(1e6*Math.random()|0),rt=0;function it(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.aa=i,this.key=++rt,this.V=this.X=!1}function ot(t){t.V=!0,t.listener=null,t.proxy=null,t.src=null,t.aa=null}function st(t){this.src=t,this.a={},this.b=0}function at(t,e){var n,r,i,o=e.type;o in t.a&&(n=t.a[o],(i=0<=(r=b(n,e)))&&Array.prototype.splice.call(n,r,1),i&&(ot(e),0==t.a[o].length&&(delete t.a[o],t.b--)))}function ut(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.V&&o.listener==e&&o.capture==!!n&&o.aa==r)return i}return-1}st.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=ut(t,e,r,i);return-1<s?(e=t[s],n||(e.X=!1)):((e=new it(e,this.src,o,!!r,i)).X=n,t.push(e)),e};var ct="closure_lm_"+(1e6*Math.random()|0),ht={};function ft(t,e,n,r,i){if(r&&r.once)return function t(e,n,r,i,o){if(Array.isArray(n)){for(var s=0;s<n.length;s++)t(e,n[s],r,i,o);return null}r=bt(r);return e&&e[nt]?e.sa(n,r,l(i)?!!i.capture:!!i,o):lt(e,n,r,!0,i,o)}(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)ft(t,e[o],n,r,i);return null}return n=bt(n),t&&t[nt]?t.ra(e,n,l(r)?!!r.capture:!!r,i):lt(t,e,n,!1,r,i)}function lt(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=l(i)?!!i.capture:!!i;if(s&&!Y)return null;var a,u,c=gt(t);if(c||(t[ct]=c=new st(t)),(n=c.add(e,n,r,s,o)).proxy)return n;if(a=yt,r=u=Y?function(t){return a.call(u.src,u.listener,t)}:function(t){if(!(t=a.call(u.src,u.listener,t)))return t},(n.proxy=r).src=t,r.listener=n,t.addEventListener)Q||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(dt(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function pt(t){var e,n,r;"number"!=typeof t&&t&&!t.V&&((e=t.src)&&e[nt]?at(e.c,t):(n=t.type,r=t.proxy,e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(dt(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=gt(e))?(at(n,t),0==n.b&&(n.src=null,e[ct]=null)):ot(t)))}function dt(t){return t in ht?ht[t]:ht[t]="on"+t}function vt(t,e){var n=t.listener,r=t.aa||t.src;return t.X&&pt(t),n.call(r,e)}function yt(t,e){if(t.V)return!0;if(Y)return vt(t,new tt(e,this));if(!e)t:{e=["window","event"];for(var n=f,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return vt(t,e=new tt(e,this))}function gt(t){return(t=t[ct])instanceof st?t:null}var mt="__closure_events_fn_"+(1e9*Math.random()>>>0);function bt(e){return"function"==r(e)?e:(e[mt]||(e[mt]=function(t){return e.handleEvent(t)}),e[mt])}function wt(){m.call(this),this.c=new st(this),(this.J=this).A=null}function Et(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s,a,u=e[o];u&&!u.V&&u.capture==n&&(s=u.listener,a=u.aa||u.src,u.X&&at(t.c,u),i=!1!==s.call(a,r)&&i)}return i&&!r.defaultPrevented}g(wt,m),wt.prototype[nt]=!0,(e=wt.prototype).addEventListener=function(t,e,n,r){ft(this,t,e,n,r)},e.removeEventListener=function(t,e,n,r){!function t(e,n,r,i,o){if(Array.isArray(n))for(var s=0;s<n.length;s++)t(e,n[s],r,i,o);else i=l(i)?!!i.capture:!!i,r=bt(r),e&&e[nt]?(e=e.c,(n=String(n).toString())in e.a&&-1<(r=ut(s=e.a[n],r,i,o))&&(ot(s[r]),Array.prototype.splice.call(s,r,1),0==s.length&&(delete e.a[n],e.b--))):(e=e&&gt(e))&&(n=e.a[n.toString()],e=-1,n&&(e=ut(n,r,i,o)),(r=-1<e?n[e]:null)&&pt(r))}(this,t,e,n,r)},e.dispatchEvent=function(t){var e,n=this.A;if(n)for(e=[];n;n=n.A)e.push(n);n=this.J;var r=t.type||t;if("string"==typeof t?t=new Z(t,n):t instanceof Z?t.target=t.target||n:(s=t,D(t=new Z(r,n),s)),s=!0,e)for(var i=e.length-1;0<=i;i--)var o=t.a=e[i],s=Et(o,r,!0,t)&&s;if(s=Et(o=t.a=n,r,!0,t)&&s,s=Et(o,r,!1,t)&&s,e)for(i=0;i<e.length;i++)s=Et(o=t.a=e[i],r,!1,t)&&s;return s},e.C=function(){if(wt.M.C.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)ot(n[r]);delete e.a[t],e.b--}}this.A=null},e.ra=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},e.sa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var _t=f.JSON.stringify;function It(){this.b=this.a=null}var Tt,St=(Ot.prototype.get=function(){var t;return 0<this.b?(this.b--,t=this.a,this.a=t.next,t.next=null):t=this.c(),t},new Ot(function(){return new Nt},function(t){t.reset()},100));function Ot(t,e,n){this.f=n,this.c=t,this.g=e,this.b=0,this.a=null}function Nt(){this.next=this.b=this.a=null}function At(t,e){var n;Tt||(n=f.Promise.resolve(void 0),Tt=function(){n.then(xt)}),kt||(Tt(),kt=!0),Pt.add(t,e)}It.prototype.add=function(t,e){var n=St.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},Nt.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null};var kt=!(Nt.prototype.reset=function(){this.next=this.b=this.a=null}),Pt=new It;function xt(){for(var t,e,n;n=e=void 0,n=null,(e=Pt).a&&(n=e.a,e.a=e.a.next,e.a||(e.b=null),n.next=null),t=n;){try{t.a.call(t.b)}catch(t){!function(t){f.setTimeout(function(){throw t},0)}(t)}var r=St;r.g(t),r.b<r.f&&(r.b++,t.next=r.a,r.a=t)}kt=!1}function Rt(t,e){wt.call(this),this.b=t||1,this.a=e||f,this.f=v(this.Ua,this),this.g=y()}function Dt(t){t.Z=!1,t.L&&(t.a.clearTimeout(t.L),t.L=null)}function jt(t,e,n){if("function"==r(t))n&&(t=v(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=v(t.handleEvent,t)}return 2147483647<Number(e)?-1:f.setTimeout(t,e||0)}function Ct(t,e,n){m.call(this),this.f=null!=n?v(t,n):t,this.c=e,this.b=v(this.Pa,this),this.a=[]}function Lt(t){t.T=jt(t.b,t.c),t.f.apply(null,t.a)}function Mt(t){m.call(this),this.b=t,this.a={}}g(Rt,wt),(e=Rt.prototype).Z=!1,e.L=null,e.Ua=function(){var t;this.Z&&(0<(t=y()-this.g)&&t<.8*this.b?this.L=this.a.setTimeout(this.f,this.b-t):(this.L&&(this.a.clearTimeout(this.L),this.L=null),this.dispatchEvent("tick"),this.Z&&(Dt(this),this.start())))},e.start=function(){this.Z=!0,this.L||(this.L=this.a.setTimeout(this.f,this.b),this.g=y())},e.C=function(){Rt.M.C.call(this),Dt(this),delete this.a},g(Ct,m),(e=Ct.prototype).ba=!1,e.T=null,e.Ia=function(t){this.a=arguments,this.T?this.ba=!0:Lt(this)},e.C=function(){Ct.M.C.call(this),this.T&&(f.clearTimeout(this.T),this.T=null,this.ba=!1,this.a=[])},e.Pa=function(){this.T=null,this.ba&&(this.ba=!1,Lt(this))},g(Mt,m);var Ft=[];function Vt(t,e,n,r){Array.isArray(n)||(n&&(Ft[0]=n.toString()),n=Ft);for(var i=0;i<n.length;i++){var o=ft(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function Ut(t){P(t.a,function(t,e){this.a.hasOwnProperty(e)&&pt(t)},t),t.a={}}function qt(){}Mt.prototype.C=function(){Mt.M.C.call(this),Ut(this)},Mt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Bt=null;function Gt(){return Bt=Bt||new wt}function Wt(t){Z.call(this,"serverreachability",t)}function zt(t){var e=Gt();e.dispatchEvent(new Wt(e))}function Ht(t){Z.call(this,"statevent",t)}function Kt(t){var e=Gt();e.dispatchEvent(new Ht(e))}function $t(t){Z.call(this,"timingevent",t)}function Xt(t,e){if("function"!=r(t))throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){t()},e)}g(Wt,Z),g(Ht,Z),g($t,Z);var Yt={NO_ERROR:0,Va:1,bb:2,ab:3,Ya:4,$a:5,cb:6,za:7,TIMEOUT:8,gb:9},Jt={Xa:"complete",kb:"success",Aa:"error",za:"abort",ib:"ready",jb:"readystatechange",TIMEOUT:"timeout",eb:"incrementaldata",hb:"progress",Za:"downloadprogress",lb:"uploadprogress"};function Qt(){}function Zt(t){var e;return(e=t.a)||(e=t.a={}),e}function te(){}Qt.prototype.a=null;var ee,ne={OPEN:"a",Wa:"b",Aa:"c",fb:"d"};function re(){Z.call(this,"d")}function ie(){Z.call(this,"c")}function oe(){}function se(t,e,n){this.g=t,this.W=e,this.U=n||1,this.G=new Mt(this),this.N=ae,t=U?125:void 0,this.O=new Rt(t),this.m=null,this.b=!1,this.j=this.A=this.f=this.B=this.s=this.P=this.h=null,this.i=[],this.a=null,this.w=0,this.c=this.v=null,this.H=-1,this.l=!1,this.J=0,this.D=null,this.o=this.R=this.F=!1}g(re,Z),g(ie,Z),g(oe,Qt),ee=new oe;var ae=45e3,ue={},ce={};function he(t,e,n){t.B=1,t.f=xe(Se(e)),t.j=n,t.F=!0,fe(t,null)}function fe(t,e){t.s=y(),pe(t),t.A=Se(t.f);var n=t.A,r=t.U;Array.isArray(r)||(r=[String(r)]),We(n.b,"t",r),t.w=0,t.a=Cn(t.g,t.g.w?e:null),0<t.J&&(t.D=new Ct(v(t.ya,t,t.a),t.J)),Vt(t.G,t.a,"readystatechange",t.Sa),e=t.m?x(t.m):{},t.j?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.$(t.A,t.v,t.j,e)):(t.v="GET",t.a.$(t.A,t.v,null,e)),zt(1)}function le(t,e,n){for(var r,i,o,s,a=!0;!t.l&&t.w<n.length;){var u=(i=n,s=o=void 0,o=(r=t).w,-1==(s=i.indexOf("\n",o))?ce:(o=Number(i.substring(o,s)),isNaN(o)?ue:(s+=1)+o>i.length?ce:(i=i.substr(s,o),r.w=s+o,i)));if(u==ce){4==e&&(t.c=4,Kt(14),a=!1);break}if(u==ue){t.c=4,Kt(15),a=!1;break}me(t,u)}4==e&&0==n.length&&(t.c=1,Kt(16),a=!1),t.b=t.b&&a,a||(ge(t),ye(t))}function pe(t){t.P=y()+t.N,de(t,t.N)}function de(t,e){if(null!=t.h)throw Error("WatchDog timer not null");t.h=Xt(v(t.Qa,t),e)}function ve(t){t.h&&(f.clearTimeout(t.h),t.h=null)}function ye(t){0==t.g.u||t.l||Pn(t.g,t)}function ge(t){ve(t);var e=t.D;e&&"function"==typeof e.da&&e.da(),t.D=null,Dt(t.O),Ut(t.G),t.a&&(e=t.a,t.a=null,e.abort(),e.da())}function me(t,e){try{var n,r,i,o,s,a,u,c,h,f,l=t.g;if(0!=l.u&&(l.a==t||Je(l.b,t)))if(l.A=t.H,!t.o&&Je(l.b,t)&&3==l.u){try{var p=l.ja.a.parse(e)}catch(t){p=null}if(Array.isArray(p)&&3==p.length){var d=p;if(0==d[0]){t:if(!l.i){if(l.a){if(!(l.a.s+3e3<t.s))break t;kn(l),l.a.cancel(),l.a=null}An(l),Kt(18)}}else l.ia=d[1],0<l.ia-l.G&&d[2]<37500&&l.U&&0==l.m&&!l.l&&(l.l=Xt(v(l.Na,l),6e3));if(Ye(l.b)<=1&&l.O){try{l.O()}catch(t){}l.O=void 0}}else Rn(l,11)}else if(!t.o&&l.a!=t||kn(l),!I(e))for(e=p=l.ja.a.parse(e),p=0;p<e.length;p++){d=e[p],l.G=d[0],d=d[1],2==l.u?"c"==d[0]?(l.B=d[1],l.R=d[2],null!=(n=d[3])&&(l.oa=n),null!=(r=d[5])&&"number"==typeof r&&0<r&&(l.D=1.5*r),i=l,(o=t.a)&&(!(s=o.a?o.a.getResponseHeader("X-Client-Wire-Protocol"):null)||!(a=i.b).a&&(O(s,"spdy")||O(s,"quic")||O(s,"h2"))&&(a.f=a.g,a.a=new Set,a.b&&(Qe(a,a.b),a.b=null)),!i.s||(u=o.a?o.a.getResponseHeader("X-HTTP-Session-Id"):null)&&(i.ha=u,Pe(i.v,i.s,u))),l.u=3,l.c&&l.c.na(),c=t,(i=l).ea=jn(i,i.w?i.R:null,i.P),c.o?(Ze(i.b,c),h=c,(f=i.D)&&h.setTimeout(f),h.h&&(ve(h),pe(h)),i.a=c):Nn(i),0<l.f.length&&In(l)):"stop"!=d[0]&&"close"!=d[0]||Rn(l,7):3==l.u&&("stop"==d[0]||"close"==d[0]?"stop"==d[0]?Rn(l,7):wn(l):"noop"!=d[0]&&l.c&&l.c.ma(d),l.m=0)}zt(4)}catch(t){}}function be(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(s(t)||"string"==typeof t)w(t,e,void 0);else{if(t.K&&"function"==typeof t.K)var n=t.K();else if(t.I&&"function"==typeof t.I)n=void 0;else if(s(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.I&&"function"==typeof t.I)return t.I();if("string"==typeof t)return t.split("");if(s(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function we(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof we)for(n=t.K(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Ee(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];_e(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){for(var i={},n=e=0;e<t.a.length;)_e(i,r=t.a[e])||(i[t.a[n++]=r]=1),e++;t.a.length=n}}function _e(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(e=se.prototype).setTimeout=function(t){this.N=t},e.Sa=function(t){t=t.target;var e=this.D;e&&3==yn(t)?e.Ia():this.ya(t)},e.ya=function(t){try{if(t==this.a)t:{var e=yn(this.a),n=this.a.qa(),r=this.a.S();if(!(e<3||3==e&&!U&&!this.a.Y())){this.l||4!=e||7==n||zt(8==n||r<=0?3:2),ve(this);var i=this.a.S();this.H=i;var o=this.a.Y();if(this.b=200==i){if(this.R&&!this.o){e:{if(this.a){var s,a=this.a;if((s=a.a?a.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(s)){var u=s;break e}}u=null}if(!u){this.b=!1,this.c=3,Kt(12),ge(this),ye(this);break t}this.o=!0,me(this,u)}this.F?(le(this,e,o),U&&this.b&&3==e&&(Vt(this.G,this.O,"tick",this.Ra),this.O.start())):me(this,o),4==e&&ge(this),this.b&&!this.l&&(4==e?Pn(this.g,this):(this.b=!1,pe(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.c=3,Kt(12)):(this.c=0,Kt(13)),ge(this),ye(this)}}}catch(t){}},e.Ra=function(){var t,e;this.a&&(t=yn(this.a),e=this.a.Y(),this.w<e.length&&(ve(this),le(this,t,e),this.b&&4!=t&&pe(this)))},e.cancel=function(){this.l=!0,ge(this)},e.Qa=function(){this.h=null;var t=y();0<=t-this.P?(2!=this.B&&(zt(3),Kt(17)),ge(this),this.c=2,ye(this)):de(this,this.P-t)},(e=we.prototype).I=function(){Ee(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},e.K=function(){return Ee(this),this.a.concat()},e.get=function(t,e){return _e(this.b,t)?this.b[t]:e},e.set=function(t,e){_e(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},e.forEach=function(t,e){for(var n=this.K(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Ie=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Te(t,e){var n;this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof Te?(this.a=void 0!==e?e:t.a,Oe(this,t.f),this.j=t.j,Ne(this,t.c),Ae(this,t.h),this.g=t.g,e=t.b,(n=new Ue).c=e.c,e.a&&(n.a=new we(e.a),n.b=e.b),ke(this,n),this.i=t.i):t&&(n=String(t).match(Ie))?(this.a=!!e,Oe(this,n[1]||"",!0),this.j=Re(n[2]||""),Ne(this,n[3]||"",!0),Ae(this,n[4]),this.g=Re(n[5]||"",!0),ke(this,n[6]||"",!0),this.i=Re(n[7]||"")):(this.a=!!e,this.b=new Ue(null,this.a))}function Se(t){return new Te(t)}function Oe(t,e,n){t.f=n?Re(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Ne(t,e,n){t.c=n?Re(e,!0):e}function Ae(t,e){if(e){if(e=Number(e),isNaN(e)||e<0)throw Error("Bad port number "+e);t.h=e}else t.h=null}function ke(t,e,n){var r,i;e instanceof Ue?(t.b=e,r=t.b,(i=t.a)&&!r.f&&(qe(r),r.c=null,r.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(Be(this,e),We(this,n,t))},r)),r.f=i):(n||(e=De(e,Fe)),t.b=new Ue(e,t.a))}function Pe(t,e,n){t.b.set(e,n)}function xe(t){return Pe(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^y()).toString(36)),t}function Re(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function De(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,je),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function je(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Te.prototype.toString=function(){var t=[],e=this.f;e&&t.push(De(e,Ce,!0),":");var n=this.c;return!n&&"file"!=e||(t.push("//"),(e=this.j)&&t.push(De(e,Ce,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(De(n,"/"==n.charAt(0)?Me:Le,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",De(n,Ve)),t.join("")};var Ce=/[#\/\?@]/g,Le=/[#\?:]/g,Me=/[#\?]/g,Fe=/[#\?@]/g,Ve=/#/g;function Ue(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function qe(n){n.a||(n.a=new we,n.b=0,n.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r,i=t[n].indexOf("="),o=null;0<=i?(r=t[n].substring(0,i),o=t[n].substring(i+1)):r=t[n],e(r,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(n.c,function(t,e){n.add(decodeURIComponent(t.replace(/\+/g," ")),e)}))}function Be(t,e){qe(t),e=ze(t,e),_e(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,_e((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Ee(t)))}function Ge(t,e){return qe(t),e=ze(t,e),_e(t.a.b,e)}function We(t,e,n){Be(t,e),0<n.length&&(t.c=null,t.a.set(ze(t,e),_(n)),t.b+=n.length)}function ze(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function He(t,e){this.b=t,this.a=e}function Ke(t){this.g=t||$e,t=f.PerformanceNavigationTiming?0<(t=f.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(f.ca&&f.ca.ua&&f.ca.ua()&&f.ca.ua().mb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}(e=Ue.prototype).add=function(t,e){qe(this),this.c=null,t=ze(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},e.forEach=function(n,r){qe(this),this.a.forEach(function(t,e){w(t,function(t){n.call(r,t,e,this)},this)},this)},e.K=function(){qe(this);for(var t=this.a.I(),e=this.a.K(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},e.I=function(t){qe(this);var e=[];if("string"==typeof t)Ge(this,t)&&(e=E(e,this.a.get(ze(this,t))));else{t=this.a.I();for(var n=0;n<t.length;n++)e=E(e,t[n])}return e},e.set=function(t,e){return qe(this),this.c=null,Ge(this,t=ze(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},e.get=function(t,e){return t&&0<(t=this.I(t)).length?String(t[0]):e},e.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.K(),n=0;n<e.length;n++)for(var r=e[n],i=encodeURIComponent(String(r)),r=this.I(r),o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}return this.c=t.join("&")};var $e=10;function Xe(t){return t.b||t.a&&t.a.size>=t.f}function Ye(t){return t.b?1:t.a?t.a.size:0}function Je(t,e){return t.b?t.b==e:t.a&&t.a.has(e)}function Qe(t,e){t.a?t.a.add(e):t.b=e}function Ze(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function tn(t){var e,n;if(null!=t.b)return t.c.concat(t.b.i);if(null==t.a||0===t.a.size)return _(t.c);var r=t.c;try{for(var i=a(t.a.values()),o=i.next();!o.done;o=i.next())var s=o.value,r=r.concat(s.i)}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}function en(){}function nn(){this.a=new en}function rn(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(t){}}Ke.prototype.cancel=function(){var e,t;if(this.c=tn(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=a(this.a.values()),r=n.next();!r.done;r=n.next()){r.value.cancel()}}catch(t){e={error:t}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.a.clear()}},en.prototype.stringify=function(t){return f.JSON.stringify(t,void 0)},en.prototype.parse=function(t){return f.JSON.parse(t,void 0)};var on=f.JSON.parse;function sn(t){wt.call(this),this.headers=new we,this.G=t||null,this.b=!1,this.s=this.a=null,this.D="",this.h=0,this.f="",this.g=this.w=this.l=this.v=!1,this.o=0,this.m=null,this.H=an,this.B=this.F=!1}g(sn,wt);var an="",un=/^https?$/i,cn=["POST","PUT"];function hn(t){return"content-type"==t.toLowerCase()}function fn(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,ln(t),dn(t)}function ln(t){t.v||(t.v=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function pn(t){if(t.b&&void 0!==u&&(!t.s[1]||4!=yn(t)||2!=t.S()))if(t.l&&4==yn(t))jt(t.va,0,t);else if(t.dispatchEvent("readystatechange"),4==yn(t)){t.b=!1;try{var e,n,r,i,o=t.S();t:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var s=!0;break t;default:s=!1}if((e=s)||((n=0===o)&&(!(i=String(t.D).match(Ie)[1]||null)&&f.self&&f.self.location&&(i=(r=f.self.location.protocol).substr(0,r.length-1)),n=!un.test(i?i.toLowerCase():"")),e=n),e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{t.h=6;try{var a=2<yn(t)?t.a.statusText:""}catch(t){a=""}t.f=a+" ["+t.S()+"]",ln(t)}}finally{dn(t)}}}function dn(t,e){if(t.a){vn(t);var n=t.a,r=t.s[0]?i:null;t.a=null,t.s=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(t){}}}function vn(t){t.a&&t.B&&(t.a.ontimeout=null),t.m&&(f.clearTimeout(t.m),t.m=null)}function yn(t){return t.a?t.a.readyState:0}function gn(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}var i;r||(i="",P(n,function(t,e){i+=e,i+=":",i+=t,i+="\r\n"}),n=i,"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Pe(t,e,n))}function mn(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function bn(t){this.f=[],this.R=this.ea=this.v=this.P=this.a=this.ha=this.s=this.N=this.h=this.F=this.j=null,this.Fa=this.H=0,this.Ca=mn("failFast",!1,t),this.U=this.l=this.i=this.g=this.c=null,this.W=!0,this.A=this.ia=this.G=-1,this.J=this.m=this.o=0,this.Ba=mn("baseRetryDelayMs",5e3,t),this.Ga=mn("retryDelaySeedMs",1e4,t),this.Da=mn("forwardChannelMaxRetries",2,t),this.ga=mn("forwardChannelRequestTimeoutMs",2e4,t),this.Ea=t&&t.nb||void 0,this.D=void 0,this.w=t&&t.supportsCrossDomainXhr||!1,this.B="",this.b=new Ke(t&&t.concurrentRequestLimit),this.ja=new nn,this.fa=t&&t.fastHandshake||!1,t&&t.forceLongPolling&&(this.W=!1),this.O=void 0}function wn(t){var e,n;En(t),3==t.u&&(e=t.H++,Pe(n=Se(t.v),"SID",t.B),Pe(n,"RID",e),Pe(n,"TYPE","terminate"),Sn(t,n),(e=new se(t,e,void 0)).B=2,e.f=xe(Se(n)),n=!1,f.navigator&&f.navigator.sendBeacon&&(n=f.navigator.sendBeacon(e.f.toString(),"")),!n&&f.Image&&((new Image).src=e.f,n=!0),n||(e.a=Cn(e.g,null),e.a.$(e.f)),e.s=y(),pe(e)),Dn(t)}function En(t){t.a&&(t.a.cancel(),t.a=null),t.i&&(f.clearTimeout(t.i),t.i=null),kn(t),t.b.cancel(),t.g&&("number"==typeof t.g&&f.clearTimeout(t.g),t.g=null)}function _n(t,e){t.f.push(new He(t.Fa++,e)),3==t.u&&In(t)}function In(t){Xe(t.b)||t.g||(t.g=!0,At(t.xa,t),t.o=0)}function Tn(t,e){var n=e?e.W:t.H++,r=Se(t.v);Pe(r,"SID",t.B),Pe(r,"RID",n),Pe(r,"AID",t.G),Sn(t,r),t.h&&t.j&&gn(r,t.h,t.j),n=new se(t,n,t.o+1),null===t.h&&(n.m=t.j),e&&(t.f=e.i.concat(t.f)),e=On(t,n,1e3),n.setTimeout(Math.round(.5*t.ga)+Math.round(.5*t.ga*Math.random())),Qe(t.b,n),he(n,r,e)}function Sn(t,n){t.c&&be({},function(t,e){Pe(n,e,t)})}function On(t,e,n){n=Math.min(t.f.length,n);var r=t.c?v(t.c.Ha,t.c,t):null;t:for(var i=t.f,o=-1;;){var s=["count="+n];-1==o?0<n?(o=i[0].b,s.push("ofs="+o)):o=0:s.push("ofs="+o);for(var a=!0,u=0;u<n;u++){var c=i[u].b,h=i[u].a;if((c-=o)<0)o=Math.max(0,i[u].b-100),a=!1;else try{!function(t,r,e){var i=e||"";try{be(t,function(t,e){var n=t;l(t)&&(n=_t(t)),r.push(i+e+"="+encodeURIComponent(n))})}catch(t){throw r.push(i+"type="+encodeURIComponent("_badmap")),t}}(h,s,"req"+c+"_")}catch(t){r&&r(h)}}if(a){r=s.join("&");break t}}return t=t.f.splice(0,n),e.i=t,r}function Nn(t){t.a||t.i||(t.J=1,At(t.wa,t),t.m=0)}function An(t){return!(t.a||t.i||3<=t.m)&&(t.J++,t.i=Xt(v(t.wa,t),xn(t,t.m)),t.m++,1)}function kn(t){null!=t.l&&(f.clearTimeout(t.l),t.l=null)}function Pn(t,e){var n,r=null;if(t.a==e){kn(t),t.a=null;var i=2}else{if(!Je(t.b,e))return;r=e.i,Ze(t.b,e),i=1}if(t.A=e.H,0!=t.u)if(e.b){1==i?(r=e.j?e.j.length:0,e=y()-e.s,n=t.o,(i=Gt()).dispatchEvent(new $t(i)),In(t)):Nn(t)}else if(3==(n=e.c)||0==n&&0<t.A||!(1==i&&function(t,e){if(!(Ye(t.b)>=t.b.f-(t.g?1:0))){if(t.g)return t.f=e.i.concat(t.f),1;if(!(1==t.u||2==t.u||t.o>=(t.Ca?0:t.Da)))return t.g=Xt(v(t.xa,t,e),xn(t,t.o)),t.o++,1}}(t,e)||2==i&&An(t)))switch(r&&0<r.length&&(e=t.b,e.c=e.c.concat(r)),n){case 1:Rn(t,5);break;case 4:Rn(t,10);break;case 3:Rn(t,6);break;default:Rn(t,2)}}function xn(t,e){var n=t.Ba+Math.floor(Math.random()*t.Ga);return t.c||(n*=2),n*e}function Rn(t,e){var n,r,i,o,s,a;2==e?(n=null,t.c&&(n=null),r=v(t.Ta,t),n||(n=new Te("//www.google.com/images/cleardot.gif"),f.location&&"http"==f.location.protocol||Oe(n,"https"),xe(n)),i=n.toString(),o=r,a=new qt,f.Image?((s=new Image).onload=d(rn,a,s,"TestLoadImage: loaded",!0,o),s.onerror=d(rn,a,s,"TestLoadImage: error",!1,o),s.onabort=d(rn,a,s,"TestLoadImage: abort",!1,o),s.ontimeout=d(rn,a,s,"TestLoadImage: timeout",!1,o),f.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=i):o(!1)):Kt(2),t.u=0,t.c&&t.c.la(e),Dn(t),En(t)}function Dn(t){t.u=0,t.A=-1,t.c&&(0==tn(t.b).length&&0==t.f.length||(t.b.c.length=0,_(t.f),t.f.length=0),t.c.ka())}function jn(t,e,n){var r,i,o,s,a,u,c,h=(r=n)instanceof Te?Se(r):new Te(r,void 0);return""!=h.c?(e&&Ne(h,e+"."+h.c),Ae(h,h.h)):(i=f.location,o=i.protocol,s=e?e+"."+i.hostname:i.hostname,a=+i.port,u=n,c=new Te(null,void 0),o&&Oe(c,o),s&&Ne(c,s),a&&Ae(c,a),u&&(c.g=u),h=c),t.N&&P(t.N,function(t,e){Pe(h,e,t)}),e=t.s,n=t.ha,e&&n&&Pe(h,e,n),Pe(h,"VER",t.oa),Sn(t,h),h}function Cn(t,e){if(e&&!t.w)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new sn(t.Ea)).F=t.w,e}function Ln(){}function Mn(){if(F&&!(10<=Number(X)))throw Error("Environmental error: no available transport.")}function Fn(t,e){wt.call(this),this.a=new bn(e),this.l=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.j=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.pa&&(t?t["X-WebChannel-Client-Profile"]=e.pa:t={"X-WebChannel-Client-Profile":e.pa}),this.a.F=t,(t=e&&e.httpHeadersOverwriteParam)&&!I(t)&&(this.a.h=t),this.h=e&&e.supportsCrossDomainXhr||!1,this.g=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!I(e)&&(this.a.s=e,null!==(t=this.b)&&e in t&&(e in(t=this.b)&&delete t[e])),this.f=new qn(this)}function Vn(t){re.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function Un(){ie.call(this),this.status=1}function qn(t){this.a=t}(e=sn.prototype).$=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+t);e=e?e.toUpperCase():"GET",this.D=t,this.f="",this.h=0,this.v=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=this.G?Zt(this.G):Zt(ee),this.a.onreadystatechange=v(this.va,this);try{this.w=!0,this.a.open(e,String(t),!0),this.w=!1}catch(t){return void fn(this,t)}t=n||"";var i,o=new we(this.headers);r&&be(r,function(t,e){o.set(e,t)}),r=function(t){t:{for(var e=hn,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return e<0?null:"string"==typeof t?t.charAt(e):t[e]}(o.K()),n=f.FormData&&t instanceof f.FormData,0<=b(cn,e)&&!r&&!n&&o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(t,e){this.a.setRequestHeader(e,t)},this),this.H&&(this.a.responseType=this.H),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{vn(this),0<this.o&&((this.B=(i=this.a,F&&$(9)&&"number"==typeof i.timeout&&void 0!==i.ontimeout))?(this.a.timeout=this.o,this.a.ontimeout=v(this.ta,this)):this.m=jt(this.ta,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(t){fn(this,t)}},e.ta=function(){void 0!==u&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,this.dispatchEvent("timeout"),this.abort(8))},e.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),dn(this))},e.C=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),dn(this,!0)),sn.M.C.call(this)},e.va=function(){this.j||(this.w||this.l||this.g?pn(this):this.Oa())},e.Oa=function(){pn(this)},e.S=function(){try{return 2<yn(this)?this.a.status:-1}catch(t){return-1}},e.Y=function(){try{return this.a?this.a.responseText:""}catch(t){return""}},e.Ja=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),on(e)}},e.qa=function(){return this.h},e.Ma=function(){return"string"==typeof this.f?this.f:String(this.f)},(e=bn.prototype).oa=8,e.u=1,e.xa=function(t){if(this.g)if(this.g=null,1==this.u){if(!t){this.H=Math.floor(1e5*Math.random()),t=this.H++;var e,n=new se(this,t,void 0),r=this.j;if(this.F&&(r?D(r=x(r),this.F):r=this.F),null===this.h&&(n.m=r),this.fa)t:{for(var i=e=0;i<this.f.length;i++){var o=this.f[i];if("__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o=o.length:o=void 0,void 0===o)break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.f.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=On(this,n,e),Pe(i=Se(this.v),"RID",t),Pe(i,"CVER",22),this.s&&Pe(i,"X-HTTP-Session-Id",this.s),Sn(this,i),this.h&&r&&gn(i,this.h,r),Qe(this.b,n),this.fa?(Pe(i,"$req",e),Pe(i,"SID","null"),n.R=!0,he(n,i,null)):he(n,i,e),this.u=2}}else 3==this.u&&(t?Tn(this,t):0==this.f.length||Xe(this.b)||Tn(this))},e.wa=function(){this.i=null,this.a=new se(this,"rpc",this.J),null===this.h&&(this.a.m=this.j),this.a.J=0;var t=Se(this.ea);Pe(t,"RID","rpc"),Pe(t,"SID",this.B),Pe(t,"CI",this.U?"0":"1"),Pe(t,"AID",this.G),Sn(this,t),Pe(t,"TYPE","xmlhttp"),this.h&&this.j&&gn(t,this.h,this.j),this.D&&this.a.setTimeout(this.D);var e=this.a,n=this.R;e.B=1,e.f=xe(Se(t)),e.j=null,e.F=!0,fe(e,n)},e.Na=function(){null!=this.l&&(this.l=null,this.a.cancel(),this.a=null,An(this),Kt(19))},e.Ta=function(t){Kt(t?2:1)},(e=Ln.prototype).na=function(){},e.ma=function(){},e.la=function(){},e.ka=function(){},e.Ha=function(){},Mn.prototype.a=function(t,e){return new Fn(t,e)},g(Fn,wt),(e=Fn.prototype).addEventListener=function(t,e,n,r){Fn.M.addEventListener.call(this,t,e,n,r)},e.removeEventListener=function(t,e,n,r){Fn.M.removeEventListener.call(this,t,e,n,r)},e.Ka=function(){this.a.c=this.f,this.h&&(this.a.w=!0);var t=this.a,e=this.l,n=this.b||void 0;Kt(0),t.P=e,t.N=n||{},t.U=t.W,t.v=jn(t,null,t.P),In(t)},e.close=function(){wn(this.a)},e.La=function(t){var e;"string"==typeof t?((e={}).__data__=t,_n(this.a,e)):this.g?((e={}).__data__=_t(t),_n(this.a,e)):_n(this.a,t)},e.C=function(){this.a.c=null,delete this.f,wn(this.a),delete this.a,Fn.M.C.call(this)},g(Vn,re),g(Un,ie),g(qn,Ln),qn.prototype.na=function(){this.a.dispatchEvent("a")},qn.prototype.ma=function(t){this.a.dispatchEvent(new Vn(t))},qn.prototype.la=function(t){this.a.dispatchEvent(new Un)},qn.prototype.ka=function(){this.a.dispatchEvent("b")},Mn.prototype.createWebChannel=Mn.prototype.a,Fn.prototype.send=Fn.prototype.La,Fn.prototype.open=Fn.prototype.Ka,Yt.NO_ERROR=0,Yt.TIMEOUT=8,Yt.HTTP_ERROR=6,Jt.COMPLETE="complete",(te.EventType=ne).OPEN="a",ne.CLOSE="b",ne.ERROR="c",ne.MESSAGE="d",wt.prototype.listen=wt.prototype.ra,sn.prototype.listenOnce=sn.prototype.sa,sn.prototype.getLastError=sn.prototype.Ma,sn.prototype.getLastErrorCode=sn.prototype.qa,sn.prototype.getStatus=sn.prototype.S,sn.prototype.getResponseJson=sn.prototype.Ja,sn.prototype.getResponseText=sn.prototype.Y,sn.prototype.send=sn.prototype.$;var Bn={createWebChannelTransport:function(){return new Mn},ErrorCode:Yt,EventType:Jt,WebChannel:te,XhrIo:sn},Gn=Bn.createWebChannelTransport,Wn=Bn.ErrorCode,zn=Bn.EventType,Hn=Bn.WebChannel,Kn=Bn.XhrIo;$n.default=Bn}.call(this,Xn(92))},function(t,e,n){"use strict";n.r(e);n(316);var s=n(6),r=n(6).$,o=function(){var t=r.create("div","loader");return t.html('\n    <div class="item-1"></div>\n    <div class="item-2"></div>\n    <div class="item-3"></div>\n    <div class="item-4"></div>\n    <div class="item-5"></div>\n  '),t};function u(t,e,n,r,i,o,s){try{var a=t[o](s),u=a.value}catch(t){return void n(t)}a.done?e(u):Promise.resolve(u).then(r,i)}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var i=function(){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),this.pages=t.pages||[],this.app=Object(s.$)(t.selector),this.firebase=t.firebase,this.currentPage=null,this.loading=!1}var t,n,r,a,i;return t=e,(n=[{key:"init",value:function(){var e=this;window.onhashchange=function(t){t.preventDefault(),e.switchRoute()},this.switchRoute()}},{key:"isUserLogged",value:function(){var t=this;return new Promise(function(e){t.firebase.auth().onAuthStateChanged(function(t){t?(e(t),console.log("User is signed in")):(e(null),console.log("No user is signed in"))})})}},{key:"switchRoute",value:(a=regeneratorRuntime.mark(function t(){var e,n,r,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.loading||(this.loading=!0,this.app.clear().append(o())),t.next=3,this.isUserLogged();case 3:if(e=t.sent,window.location.hash=e?"tinote":"login",n=location.hash.substr(1),r=this.pages.find(function(t){return t.route===n})){t.next=9;break}return t.abrupt("return");case 9:return this.currentPage&&this.currentPage.destroy(),this.currentPage=new r({firebase:this.firebase}),t.next=13,this.currentPage.getRoot();case 13:i=t.sent,this.false=!0,this.app.clear().append(i);case 16:case"end":return t.stop()}},t,this)}),i=function(){var t=this,s=arguments;return new Promise(function(e,n){var r=a.apply(t,s);function i(t){u(r,e,n,i,o,"next",t)}function o(t){u(r,e,n,i,o,"throw",t)}i(void 0)})},function(){return i.apply(this,arguments)})}])&&c(t.prototype,n),r&&c(t,r),e}();function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var h=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,r;return e=t,(n=[{key:"getRoot",value:function(){throw new Error("No getRoot method provided for page "+this.route)}},{key:"destroy",value:function(){}}])&&a(e.prototype,n),r&&a(e,r),t}();function f(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var l=function(){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),this.$root=s.$.create("div","modal"),this.firebase=t.firebase,this.init()}var t,n,r;return t=e,(n=[{key:"init",value:function(){this.$root.html('\n  <form action="" class="form">\n\n    <label for="login">Login:</label>\n    <div class="input-wrapper">\n      <input id="login" name="login" \n      type="text" class="form-input login" \n      placeholder="Your login..">\n      <span class="material-icons">\n        perm_identity\n      </span>\n    </div>\n\n\n    <label for="password">Password:</label>\n    <div class="input-wrapper"> \n      <input id="password" name="password"\n       type="password" class="form-input password"\n        placeholder="Your password..">\n      <span class="material-icons">\n        vpn_key\n      </span>\n    </div>\n\n    <div class="buttons-wrapper">\n      <input id="register-button" \n      class="button" type="button" value="Register">\n\n      <input id="login-button" \n      class="button" type="button" value="Login">\n    </div>\n  \n  </form>\n');var t=this.$root.find("#register-button"),e=this.$root.find("#login-button");this.registerButtonHandler=this.registerButtonHandler.bind(this),this.loginButtonHandler=this.loginButtonHandler.bind(this),t.on("click",this.registerButtonHandler),e.on("click",this.loginButtonHandler)}},{key:"registerButtonHandler",value:function(){var t=this.$root.find("#login").$el.value,e=this.$root.find("#password").$el.value;this.firebase.auth().createUserWithEmailAndPassword(t,e).catch(function(t){console.error(t.code),console.error(t.message)}).then(function(){}),this.firebase.auth().onAuthStateChanged(function(t){window.location.hash=t?"tinote":"login"})}},{key:"loginButtonHandler",value:function(){var t=this.$root.find("#login").$el.value,e=this.$root.find("#password").$el.value;this.firebase.auth().signInWithEmailAndPassword(t,e).catch(function(t){console.error(t.code),console.error(t.message)}).then(function(){}),this.firebase.auth().onAuthStateChanged(function(t){window.location.hash=t?"tinote":"login"})}},{key:"getRoot",value:function(){return this.$root}}])&&f(t.prototype,n),r&&f(t,r),e}();function p(t){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function d(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function v(t,e){return(v=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function y(o){var s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e,n,r,i=g(o);return e=s?(t=g(this).constructor,Reflect.construct(i,arguments,t)):i.apply(this,arguments),n=this,!(r=e)||"object"!==p(r)&&"function"!=typeof r?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(n):r}}function g(t){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var m,b,w,E=function(){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&v(t,e)}(i,h);var t,e,n,r=y(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=r.call(this)).firebase=t.firebase,e.login=new l({firebase:e.firebase}),e}return t=i,(e=[{key:"getRoot",value:function(){return this.login.getRoot()}}])&&d(t.prototype,e),n&&d(t,n),i}();w="login",(b="route")in(m=E)?Object.defineProperty(m,b,{value:w,enumerable:!0,configurable:!0,writable:!0}):m[b]=w;var _="0",I="-1",T={textAlign:"left",fontWeight:"normal",textDecoration:"none",fontStyle:"normal"},S={title:"Note",content:"Note simple text",folder:"-100",styles:T},O={name:"Folder"},N={menuSize:240,listOfNotesSize:297,currentFolder:"1",currentNote:"1",notes:[{id:"1",title:"Note 1",content:"Note 1 simple text",folder:"1",styles:{textAlign:"left",fontWeight:"bold",textDecoration:"underline",fontStyle:"italic"}},{id:"2",title:"Note 2",content:"Note 2 simple  very very very very very very\n      very very very very very very very very very very very\n      very very very very very very very very very very very\n      very very very very very very very very very very very\n      very very very very very very very very very very very\n      very very very very very very very very very very very\n      very very very very very very very very very very very\n      very very very very very very very very very very very\n      very very very very very very very very very very very\n      very very very very very very very very very very very\n      very very very very very very very very very very very\n      very very very very very very very very very very very\n      very very very very very very very very very very very large text",folder:"1",styles:{textAlign:"center",fontWeight:"normal",textDecoration:"underline",fontStyle:"normal"}},{id:"3",title:"Note 3",content:"Note 3 simple text",folder:"2",styles:{textAlign:"right",fontWeight:"normal",textDecoration:"none",fontStyle:"italic"}},{id:"4",title:"Note 4",content:"Note 4 simple text",folder:_,styles:{textAlign:"right",fontWeight:"normal",textDecoration:"none",fontStyle:"italic"}},{id:"5",title:"Note 5",content:"Note 5 simple text",folder:_,styles:{textAlign:"right",fontWeight:"normal",textDecoration:"none",fontStyle:"italic"}}],folders:[{id:"1",name:"Folder 1"},{id:"2",name:"Folder 2"},{id:"3",name:"Folder 3"}]};function A(t){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function k(t,e,n){var r,i=t.find(e),o=i.getCoords(),s=Math.round(o.left);document.onmousemove=function(t){t.preventDefault(),r=t.pageX-s,i.css({width:r+"px"})},document.onmouseup=function(t){document.onmouseup=null,document.onmousemove=null,n&&n(r)}}function P(e,t){if(e===t)return{isDiffer:!1,updated:[],deleted:[]};var n=e.filter(function(e){return!t.some(function(t){return e.id==t.id})});return{isDiffer:!0,updated:t.filter(function(t){return!e.includes(t)}),deleted:n}}function x(t,e,n){var r;!e||(r=t.find("[data-id='".concat(e,"']"))).$el&&r.removeClass("selected"),t.find("[data-id='".concat(n,"']")).addClass("selected")}function R(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var D=1,j=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.db=null,this.version=D,this.folders=[],this.notes=[]}var e,n,r;return e=t,(n=[{key:"deleteAllObjectStores",value:function(){return!0}},{key:"initObjectStores",value:function(t){t.createObjectStore("notes",{keyPath:"id"}),t.createObjectStore("folders",{keyPath:"id"})}},{key:"init",value:function(){var r=this;return new Promise(function(t,e){var n=indexedDB.open("store",r.version);n.onupgradeneeded=function(t){var e=t.target.result;switch(t.target.result.version){case 0:console.log("No IndexedDB was found."),console.log("Initialization new IndexedDB..."),r.initObjectStores(e),console.log("Initialization was successful...");break;case r.version:console.log("IndexedDB was found but it needs updating."),r.deleteAllObjectStores(e),console.log("Initialization new IndexedDB..."),r.initObjectStores(e),console.log("Initialization was successful...");break;default:console.error("Catch error during initialization of IndexedDB"),console.error("Version of index db = ",e.version)}},n.onerror=function(){console.error("Error",n.error),e(n.error)},n.onsuccess=function(){r.db=n.result,console.log("IndexedDB is running..."),t(!0)}})}},{key:"save",value:function(t){var r=this,i=P(this.notes,t.notes),o=P(this.folders,t.folders);return!i.isDiffer&&!o.isDiffer||new Promise(function(e){console.log("Start transaction to update data...");var n=r.db.transaction(["folders","notes"],"readwrite");o.deleted.forEach(function(t){n.objectStore("folders").delete(t.id)}),i.deleted.forEach(function(t){n.objectStore("notes").delete(t.id)}),o.updated.forEach(function(t){n.objectStore("folders").put(t)}),i.updated.forEach(function(t){n.objectStore("notes").put(t)}),n.oncomplete=function(t){console.log("Transaction is successful..."),e(!0)}})}},{key:"get",value:function(){var i=this;return new Promise(function(e){var t=i.db.transaction(["folders","notes"],"readonly"),n=t.objectStore("folders").getAll(),r=t.objectStore("notes").getAll();t.oncomplete=function(t){i.folders=n.result,i.notes=r.result,e({folders:n.result,notes:r.result})}})}}])&&R(e.prototype,n),r&&R(e,r),t}();function C(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var L=function(){function n(t){var i,o,s,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:500;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),this.client=t,this.listen=(i=this.listen.bind(this),o=e,function(){for(var t=this,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];clearTimeout(s),s=setTimeout(function(){clearTimeout(s),i.apply(t,n)},o)})}var t,e,r;return t=n,(e=[{key:"listen",value:function(t){return this.client.save(t)}},{key:"get",value:function(){return this.client.get()}}])&&C(t.prototype,e),r&&C(t,r),n}();function M(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)),r}function F(i){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?M(Object(o),!0).forEach(function(t){var e,n,r;e=i,r=o[n=t],n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(o)):M(Object(o)).forEach(function(t){Object.defineProperty(i,t,Object.getOwnPropertyDescriptor(o,t))})}return i}var V="SELECT_FOLDER",U="ADD_FOLDER",q="DELETE_FOLDER",B="RENAME_FOLDER",G="SELECT_NOTE",W="ADD_NOTE",z="DELETE_NOTE",H="MOVE_NOTE_TO_TRASH",K="MOVE_NOTES_FROM_FOLDER_TO_TRASH",$="DELETE_ALL_NOTES_IN_FOLDER",X="RENAME_NOTE",Y="CHANGE_TEXT",J="CHANGE_STYLES",Q="CHANGE_MENU_SIZE",Z="CHANGE_LIST_SIZE",tt="UPDATE_FROM_CLOUD";function et(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)),r}function nt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?et(Object(n),!0).forEach(function(t){rt(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):et(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function rt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function it(t,n){switch(console.log("rootReducer : ",n),n.type){case G:return nt(nt({},t),{},{currentNote:n.data});case z:return nt(nt({},t),{},{notes:t.notes.filter(function(t){return t.id!==n.data})});case H:return nt(nt({},t),{},{notes:t.notes.map(function(t){return t.id===n.data?nt(nt({},t),{},{folder:_}):t})});case K:return nt(nt({},t),{},{notes:t.notes.map(function(t){return t.folder===n.data?nt(nt({},t),{},{folder:_}):t})});case W:return nt(nt({},t),{},{notes:t.notes.concat(n.data)});case X:return nt(nt({},t),{},{notes:t.notes.map(function(t){return t.id===n.data.id?nt(nt({},t),{},{title:n.data.title}):t})});case V:return nt(nt({},t),{},{currentFolder:n.data});case q:return nt(nt({},t),{},{folders:t.folders.filter(function(t){return t.id!==n.data})});case $:return console.log(t.notes.filter(function(t){return t.folder!==n.data})),nt(nt({},t),{},{notes:t.notes.filter(function(t){return t.folder!==n.data})});case U:return nt(nt({},t),{},{folders:t.folders.concat(n.data)});case B:return nt(nt({},t),{},{folders:t.folders.map(function(t){return t.id===n.data.id?nt(nt({},t),{},{name:n.data.name}):t})});case Y:return nt(nt({},t),{},{notes:t.notes.map(function(t){return t.id===n.data.id?nt(nt({},t),{},{content:n.data.content}):t})});case J:return nt(nt({},t),{},{notes:t.notes.map(function(t){if(t.id!==n.data.id)return t;var e=Object.keys(n.data.styles)[0];return nt(nt({},t),{},{styles:nt(nt({},t.styles),{},rt({},e,n.data.styles[e]))})})});case Q:return nt(nt({},t),{},{menuSize:n.data});case Z:return nt(nt({},t),{},{listOfNotesSize:n.data});case tt:return nt(nt({},t),{},{notes:n.data.notes,folders:n.data.folders});case"__INIT__":default:return t}}function ot(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var st=function(){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),this.store=t,this.sub=null,this.prevState={}}var t,n,r;return t=e,(n=[{key:"subscribeComponents",value:function(n){var r=this;this.prevState=this.store.getState(),this.sub=this.store.subscribe(function(s){Object.keys(s).forEach(function(o){var t,e;t=r.prevState[o],e=s[o],("object"===A(t)&&"object"===A(e)?JSON.stringify(t)===JSON.stringify(e):t===e)||n.forEach(function(t){var e,n,r,i;t.isWatching(o)&&(n={},i=s[r=o],r in n?Object.defineProperty(n,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[r]=i,e=n,t.storeChanged(e))})}),r.prevState=s})}},{key:"unsubscribeComponents",value:function(){this.sub.unsubscribe()}}])&&ot(t.prototype,n),r&&ot(t,r),e}();function at(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var ut=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.listeners={}}var e,n,r;return e=t,(n=[{key:"emit",value:function(t){for(var e=arguments.length,n=new Array(1<e?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return!!Array.isArray(this.listeners[t])&&(this.listeners[t].forEach(function(t){t.apply(void 0,n)}),!0)}},{key:"subscribe",value:function(t,e){var n=this;return this.listeners[t]=this.listeners[t]||[],this.listeners[t].push(e),function(){n.listeners[t]=n.listeners[t].filter(function(t){return t!==e})}}}])&&at(e.prototype,n),r&&at(e,r),t}();function ct(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var ht=function(){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),this.$root=null,this.components=t.components||[],this.store=t.store,this.firebase=t.firebase,this.emitter=new ut,this.storeSubscriber=new st(this.store)}var t,n,r;return t=e,(n=[{key:"getRoot",value:function(){var r=this,i=s.$.create("div","tinote");return this.components=this.components.map(function(t){var e=s.$.create("div",t.className),n=new t(e,{store:r.store,emitter:r.emitter,firebase:r.firebase});return e.html(n.toHTML()),i.append(e),n}),i}},{key:"render",value:function(){return this.$root=this.getRoot(),this.storeSubscriber.subscribeComponents(this.components),this.components.forEach(function(t){t.init()}),this.$root}},{key:"destroy",value:function(){this.components.forEach(function(t){t.destroy()}),this.storeSubscriber.unsubscribeComponents()}}])&&ct(t.prototype,n),r&&ct(t,r),e}();function ft(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var lt=function(){function n(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[];if(!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),!t)throw new Error("No root provided for DOMListener");this.$root=t,this.listeners=e}var t,e,r;return t=n,(e=[{key:"initDOMlisteners",value:function(){var r=this;this.listeners.forEach(function(t){var e=pt(t);if(!r[e]){var n=r.name||"";throw new Error('Method "'.concat(e,'" is not implemented in \n        "').concat(n,'" Component'))}r[e]=r[e].bind(r),r.$root.on(t,r[e])})}},{key:"removeDOMListeners",value:function(){var e=this;this.listeners.forEach(function(t){e.$root.off(t,e[pt(t)])})}}])&&ft(t.prototype,e),r&&ft(t,r),n}();function pt(t){return"on"+("string"!=typeof(e=t)?"":e.charAt(0).toUpperCase()+e.slice(1));var e}function dt(t){return(dt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function vt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function yt(t,e){return(yt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function gt(o){var s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e,n,r,i=mt(o);return e=s?(t=mt(this).constructor,Reflect.construct(i,arguments,t)):i.apply(this,arguments),n=this,!(r=e)||"object"!==dt(r)&&"function"!=typeof r?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(n):r}}function mt(t){return(mt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var bt=function(){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&yt(t,e)}(i,lt);var t,e,n,r=gt(i);function i(t){var e,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=r.call(this,t,n.listeners)).name=n.name,e.store=n.store,e.subscribe=n.subscribe||[],e.emitter=n.emitter,e.unsubs=[],e.prepare(),e}return t=i,(e=[{key:"prepare",value:function(){}},{key:"toHTML",value:function(){return""}},{key:"$emit",value:function(t){for(var e,n=arguments.length,r=new Array(1<n?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];(e=this.emitter).emit.apply(e,[t].concat(r))}},{key:"$on",value:function(t,e){var n=this.emitter.subscribe(t,e);this.unsubs.push(n)}},{key:"isWatching",value:function(t){return this.subscribe.includes(t)}},{key:"$dispatch",value:function(t){this.store.dispatch(t)}},{key:"init",value:function(){this.initDOMlisteners()}},{key:"destroy",value:function(){this.removeDOMListeners(),this.unsubs.forEach(function(t){t()})}}])&&vt(t.prototype,e),n&&vt(t,n),i}();function wt(t,e){var n,r=e,i=t.map((n=r,function(t){var e=n===t.id?"selected":"";return'\n    <li class="folder '.concat(e,'" \n    data-id="').concat(t.id,'" \n    data-type="folder"\n    data-context="folder">\n\n      <span class="material-icons">\n        folder\n      </span>\n\n      <p>\n      ').concat(t.name,"\n      </p>\n\n    </li>\n    ")})).join(""),o=r===_?"folder-selected":"";return'\n  <ul class="list-of-folders">\n    <li class="folder '.concat(r===I?"folder-selected":"",'" \n    data-type="folder" data-id="').concat(I,'" >\n\n      <span class="material-icons">\n        note\n      </span>\n      All notes\n\n    </li>\n\n    <div class="horizontal-separator"></div>\n\n    ').concat(i,'\n\n    <li class="folder" data-type="newFolder">\n\n      <span class="material-icons">\n        create_new_folder\n      </span>\n      New Folder\n\n    </li>\n\n    <div class="horizontal-separator"></div>\n\n    <li class="folder ').concat(o,'" data-type="folder" \n      data-context="trash" data-id="').concat(_,'" >\n\n      <span class="material-icons">\n        delete\n      </span>\n      Trash\n\n    </li>\n  </ul>\n  ')}function Et(t){return{type:V,data:t}}function _t(t){return{type:G,data:t}}function It(t,e){var n=s.$.create("div","modal"),r='\n  <div class="modal-wrapper">\n    <div class="modal-message">\n    '.concat(t,'\n    </div>\n    <div class="buttons">\n      <div id="modalbtn-yes" class="modal-button">YES</div>\n      <div id="modalbtn-no" class="modal-button">NO</div>\n    </div>\n  </div>\n  ');n.html(r),n.find("#modalbtn-yes").on("click",function(){e(Tt),n.remove()}),n.find("#modalbtn-no").on("click",function(){e("MODAL_NO"),n.remove()}),document.querySelector("#app").append(n.$el)}var Tt="MODAL_YES";function St(t){return(St="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ot(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)),r}function Nt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ot(Object(n),!0).forEach(function(t){Dt(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ot(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function At(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function kt(t,e,n){return(kt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Rt(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function Pt(t,e){return(Pt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function xt(o){var s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e,n,r,i=Rt(o);return e=s?(t=Rt(this).constructor,Reflect.construct(i,arguments,t)):i.apply(this,arguments),n=this,!(r=e)||"object"!==St(r)&&"function"!=typeof r?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(n):r}}function Rt(t){return(Rt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Dt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var jt=function(){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Pt(t,e)}(i,bt);var t,e,n,r=xt(i);function i(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(n=r.call(this,t,Nt({name:"Menu",listeners:["mousedown","click"],subscribe:["folders","currentFolder"]},e))).$root=t,n.store=e.store,n.firebase=e.firebase,n.prevCurrentFolder=null,n.db=n.firebase.firestore(),n}return t=i,(e=[{key:"storeChanged",value:function(t){"currentFolder"===Object.keys(t)[0]?(x(this.$root,this.prevCurrentFolder,t.currentFolder),this.prevCurrentFolder=t.currentFolder):"folders"===Object.keys(t)[0]&&(this.$root.html(this.toHTML()),this.store.getState().folders.length||this.createFolder())}},{key:"init",value:function(){var n=this;kt(Rt(i.prototype),"init",this).call(this),this.prevCurrentFolder=this.store.getState().folders[0].id,window.onclick=function(t){if(!t.target.matches(".dropbtn"))for(var e=document.getElementsByClassName("dropdown-content"),n=0;n<e.length;n++){var r=e[n];r.classList.contains("show")&&r.classList.remove("show")}},this.$on("folder:rename",function(t){n.rename(t)}),this.$on("folder:delete",function(e){It("This action will delete all notes in the folder",function(t){t===Tt&&(n.$dispatch({type:K,data:e}),n.$dispatch({type:q,data:e}))})}),this.$on("trash:clear",function(){It("Are you sure?",function(t){t===Tt&&n.$dispatch({type:$,data:_})})})}},{key:"rename",value:function(e){var n=this,r=this.getFolder(e).children()[1];r.setAttribute("contenteditable","true"),r.focus(),window.getSelection().selectAllChildren(r);function i(){var t;r.onblur=null,r.onkeydown=null,r.setAttribute("contenteditable","false"),n.$dispatch((t={id:e,name:r.innerHTML},{type:B,data:t}))}r.onkeydown=function(t){13==t.keyCode&&i()},r.onblur=i}},{key:"getFolder",value:function(t){return this.$root.find('[data-id="'.concat(t,'"]'))}},{key:"signOut",value:function(){this.firebase.auth().signOut(),window.location.hash="login"}},{key:"createFolder",value:function(){var t,e=this.db.collection("folders").doc().id;this.$dispatch((t=Nt(Nt({},O),{},{id:e}),{type:U,data:t})),this.$dispatch(Et(e)),this.rename(e)}},{key:"onClick",value:function(t){var e=Object(s.$)(t.target).closest("[data-type]");if(e)switch(e.data.type){case"folder":this.$dispatch(Et(e.data.id));break;case"newFolder":this.createFolder();break;case"drop-down":this.$root.find("#myDropdown").toggleClass("show");break;case"sign-out":this.signOut()}}},{key:"onMousedown",value:function(t){var e=this;"menu"===Object(s.$)(t.target).data.resize&&k(this.$root,"[data-resize='true']",function(t){e.$dispatch({type:Q,data:t})})}},{key:"toHTML",value:function(){var t,e=this.store.getState();return'\n  <div class="wrapper" data-resize=\'true\' style="width:'.concat((t=e).menuSize,';">\n    <div class="profile">\n      <img src="./profile-img.png" alt="" class="img">\n\n      <div data-type="drop-down" class="dropdown name">\n        <div data-type="drop-down" class="dropbtn">Denis Shavshin</div>\n        <div id="myDropdown" class="dropdown-content">\n          <a href="#" data-type="sign-out">Sign out</a>\n        </div>\n      </div>\n\n    </div>\n\n    ').concat(wt(t.folders,t.currentFolder),'\n\n    <div class="connect-info">\n      <div class="dot-loader">\n          <div class="dot"></div>\n          <div class="dot"></div>\n          <div class="dot"></div>\n      </div>\n\n    </div>\n\n  </div>\n  <div class="resize" data-resize="menu"></div>\n  ')}}])&&At(t.prototype,e),n&&At(t,n),i}();function Ct(t){var n,e=t.currentFolder,r=t.currentNote,i=(e!==I?t.notes.filter(function(t){return t.folder===e}):t.notes.filter(function(t){return t.folder!==_})).map((n=r,function(t){var e=n===t.id?"selected":"";return'\n    <li class="note-item '.concat(e,'" \n    data-id="').concat(t.id,'" \n    data-type="note-item"\n    data-context="note">\n\n        <div class="text-data-wrapper">\n          <div class="title">\n            ').concat(t.title,'\n          </div>\n          <div class="text">\n            ').concat(t.content.substring(0,50)+"...",'\n          </div>\n          <div class="date">\n            1 min ago\n          </div>\n        </div>\n      </li>\n    ')})).join(""),o=e===_?"clear-trash":"add-note",s=e===_?"delete_forever":"post_add";return'\n  <div class="wrapper"\n    data-resize=\'true\'\n    style="width:'.concat(t.listOfNotesSize,';">\n\n    <div class="toolbar">\n\n      <div class="input-wrapper">\n        <input type="text" class="search">\n        <span class="material-icons">\n          search\n        </span>\n      </div>\n\n      <div class="button" data-type="').concat(o,'">\n        <span class="material-icons">\n         ').concat(s,'\n        </span>\n      </div>\n\n    </div>\n      <ul class="list-of-notes">\n        ').concat(i,'  \n      </ul>\n  </div>\n  <div class="resize" data-resize="listOfNotes"></div>\n  ')}function Lt(t){return(Lt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Mt(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)),r}function Ft(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Mt(Object(n),!0).forEach(function(t){Wt(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mt(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Vt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ut(t,e,n){return(Ut="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Gt(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function qt(t,e){return(qt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Bt(o){var s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e,n,r,i=Gt(o);return e=s?(t=Gt(this).constructor,Reflect.construct(i,arguments,t)):i.apply(this,arguments),n=this,!(r=e)||"object"!==Lt(r)&&"function"!=typeof r?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(n):r}}function Gt(t){return(Gt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Wt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Dt(jt,"className","tinote__menu");var zt=function(){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&qt(t,e)}(i,bt);var t,e,n,r=Bt(i);function i(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(n=r.call(this,t,Ft({name:"ListOfNotes",listeners:["mousedown","click"],subscribe:["currentFolder","notes","currentNote"]},e))).store=e.store,n.$root=t,n.prevCurrentNote=null,n.firebase=e.firebase,n.db=n.firebase.firestore(),n}return t=i,(e=[{key:"init",value:function(){var n=this;Ut(Gt(i.prototype),"init",this).call(this),this.prevCurrentNote=this.store.getState().notes[0].id,console.log(this.prevCurrentNote),this.$on("note-item:delete",function(e){It("Are you sure?",function(t){t===Tt&&n.$dispatch({type:H,data:e})})})}},{key:"storeChanged",value:function(t){switch(Object.keys(t)[0]){case"currentNote":x(this.$root,this.prevCurrentNote,t.currentNote),this.prevCurrentNote=t.currentNote;break;case"notes":this.$root.html(this.toHTML()),this.store.getState().notes.length||!this.store.getState().currentFolder===_&&this.addNote();break;case"currentFolder":default:this.$root.html(this.toHTML())}}},{key:"addNote",value:function(){var t,e=this.db.collection("notes").doc().id;this.$dispatch((t=Ft(Ft({},S),{},{id:e,folder:this.store.getState().currentFolder}),{type:W,data:t})),this.$dispatch(_t(e)),this.$emit("note-item:rename",e)}},{key:"onClick",value:function(t){var e=Object(s.$)(t.target).closest("[data-type]");e&&("note-item"===e.data.type?this.$dispatch(_t(e.data.id)):"add-note"===e.data.type?this.addNote():"clear-trash"===e.data.type&&this.$emit("trash:clear"))}},{key:"onMousedown",value:function(t){var e=this;"listOfNotes"===Object(s.$)(t.target).data.resize&&k(this.$root,"[data-resize='true']",function(t){e.$dispatch({type:Z,data:t})})}},{key:"toHTML",value:function(){return Ct(this.store.getState())}}])&&Vt(t.prototype,e),n&&Vt(t,n),i}();function Ht(e){var t=(t=e.notes.find(function(t){return t.id===e.currentNote}))||e.notes[0],n=JSON.parse(JSON.stringify(t.styles)),r=Object.keys(n).map(function(t){return"".concat(t.replace(/([A-Z])/g,function(t){return"-".concat(t[0].toLowerCase())})," : ").concat(n[t])}).join(";");return'\n  <div style="'.concat(r,';" data-type="note-content" contenteditable>\n    ').concat(t.content,"\n  </div>\n  ")}function Kt(t){return(Kt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function $t(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)),r}function Xt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Yt(t,e,n){return(Yt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Zt(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function Jt(t,e){return(Jt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Qt(o){var s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e,n,r,i=Zt(o);return e=s?(t=Zt(this).constructor,Reflect.construct(i,arguments,t)):i.apply(this,arguments),n=this,!(r=e)||"object"!==Kt(r)&&"function"!=typeof r?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(n):r}}function Zt(t){return(Zt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function te(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Wt(zt,"className","tinote__list-of-notes");var ee=function(){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Jt(t,e)}(i,bt);var t,e,n,r=Qt(i);function i(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(n=r.call(this,t,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$t(Object(n),!0).forEach(function(t){te(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$t(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({name:"Note",listeners:["input"],subscribe:["currentNote"]},e))).$root=t,n}return t=i,(e=[{key:"init",value:function(){var n=this;Yt(Zt(i.prototype),"init",this).call(this),this.$on("toolbar:changeStyles",function(t){var e;n.$dispatch((e={styles:t,id:n.store.getState().currentNote},{type:J,data:e})),n.$root.html(n.toHTML())})}},{key:"storeChanged",value:function(t){"currentNote"===Object.keys(t)[0]&&this.$root.html(this.toHTML())}},{key:"onInput",value:function(t){var e,n=Object(s.$)(t.target);n.data&&"note-content"===n.data.type&&this.$dispatch((e={id:this.store.getState().currentNote,content:n.html()},{type:Y,data:e}))}},{key:"toHTML",value:function(){return Ht(this.store.getState())}}])&&Xt(t.prototype,e),n&&Xt(t,n),i}();function ne(t){return(ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function re(t,e,n,r,i,o,s){try{var a=t[o](s),u=a.value}catch(t){return void n(t)}a.done?e(u):Promise.resolve(u).then(r,i)}function ie(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)),r}function oe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function se(t,e,n){return(se="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=ce(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function ae(t,e){return(ae=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ue(o){var s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e,n,r,i=ce(o);return e=s?(t=ce(this).constructor,Reflect.construct(i,arguments,t)):i.apply(this,arguments),n=this,!(r=e)||"object"!==ne(r)&&"function"!=typeof r?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(n):r}}function ce(t){return(ce=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function he(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}te(ee,"className","note-note");var fe=function(){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ae(t,e)}(o,bt);var t,e,n,a,r,i=ue(o);function o(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(n=i.call(this,t,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ie(Object(n),!0).forEach(function(t){he(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ie(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({name:"NoteMenu",listeners:["mouseover","click"],subscribe:["currentNote"]},e))).$root=t,n.store=e.store,n}return t=o,(e=[{key:"init",value:function(){var e=this;se(ce(o.prototype),"init",this).call(this),this.$on("note-item:rename",function(t){e.rename(t)})}},{key:"rename",value:function(e){var n=this,r=this.$root.find("[data-type='note-title']");r.attr("contenteditable","true"),r.focus(),window.getSelection().selectAllChildren(r.$el);function i(){var t;r.$el.onblur=null,r.$el.onkeydown=null,r.attr("contenteditable","false"),n.$dispatch((t={id:e,title:r.html()},{type:X,data:t}))}r.$el.onkeydown=function(t){13==t.keyCode&&i()},r.$el.onblur=i}},{key:"storeChanged",value:function(t){"currentNote"===Object.keys(t)[0]&&this.$root.html(this.toHTML())}},{key:"onClick",value:function(t){var e,n=Object(s.$)(t.target).closest("[data-type]");n&&"delete"===n.data.type&&this.$dispatch((e=this.store.getState().currentNote,{type:z,data:e}))}},{key:"onMouseover",value:function(t){var e=Object(s.$)(t.target).closest("[data-type]");e&&"info"===e.data.type&&this.showInfo(e)}},{key:"showInfo",value:(a=regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:console.warn("Not implemented");case 1:case"end":return t.stop()}},t)}),r=function(){var t=this,s=arguments;return new Promise(function(e,n){var r=a.apply(t,s);function i(t){re(r,e,n,i,o,"next",t)}function o(t){re(r,e,n,i,o,"throw",t)}i(void 0)})},function(t){return r.apply(this,arguments)})},{key:"toHTML",value:function(){return e=this.store.getState(),t=(t=e.notes.find(function(t){return t.id===e.currentNote}))||e.notes[0],'\n  <div class="wrapper" data-type="wrapper">\n    <div class="name-of-note" \n    data-type="note-title">'.concat(t?t.title:"",'</div>\n    <div class="note-buttons">\n\n      <div class="button" data-type="info">\n        <span class="material-icons">\n          info\n        </span>\n      </div>\n\n      <div class="vertical-separator"></div>\n\n      <div class="button" data-type="delete">\n        <span class="material-icons">\n          delete\n        </span>\n      </div>\n      \n    </div>\n  </div>\n  ');var e,t}}])&&oe(t.prototype,e),n&&oe(t,n),o}();function le(t){return(le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function pe(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)),r}function de(i){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?pe(Object(o),!0).forEach(function(t){var e,n,r;e=i,r=o[n=t],n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(o)):pe(Object(o)).forEach(function(t){Object.defineProperty(i,t,Object.getOwnPropertyDescriptor(o,t))})}return i}function ve(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ye(t,e){return(ye=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ge(o){var s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e,n,r,i=me(o);return e=s?(t=me(this).constructor,Reflect.construct(i,arguments,t)):i.apply(this,arguments),n=this,!(r=e)||"object"!==le(r)&&"function"!=typeof r?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(n):r}}function me(t){return(me=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}he(fe,"className","note-menu");var be=function(){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ye(t,e)}(i,bt);var t,e,n,r=ge(i);function i(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i);for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return r.call.apply(r,[this].concat(e))}return t=i,(e=[{key:"initState",value:function(t){var e=0<arguments.length&&void 0!==t?t:{};this.state=de({},e)}},{key:"setState",value:function(t){this.state=de(de({},this.state),t),this.$root.html(this.template)}},{key:"template",get:function(){return JSON.stringify(this.state,null,2)}}])&&ve(t.prototype,e),n&&ve(t,n),i}();function we(t){var e=t.active,n=t.icon,r=t.value,i='\n    data-type="button"\n    data-value=\''.concat(JSON.stringify(r),"'\n  ");return"\n  <div ".concat(i,' class="button ').concat(e?"selected":"",'">\n      <span ').concat(i,' class="material-icons">\n        ').concat(n,"\n      </span>\n  </div>\n  ")}function Ee(t){return(Ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _e(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)),r}function Ie(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Te(t,e,n){return(Te="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Ne(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function Se(t,e){return(Se=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Oe(o){var s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e,n,r,i=Ne(o);return e=s?(t=Ne(this).constructor,Reflect.construct(i,arguments,t)):i.apply(this,arguments),n=this,!(r=e)||"object"!==Ee(r)&&"function"!=typeof r?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(n):r}}function Ne(t){return(Ne=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ae(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ke=function(){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Se(t,e)}(i,be);var t,e,n,r=Oe(i);function i(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(n=r.call(this,t,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_e(Object(n),!0).forEach(function(t){Ae(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_e(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({name:"Toolbar",listeners:["click"],subscribe:["currentNote"]},e))).$root=t,n}return t=i,(e=[{key:"prepare",value:function(){this.initState(T)}},{key:"init",value:function(){Te(Ne(i.prototype),"init",this).call(this),this.refreshState()}},{key:"storeChanged",value:function(t){"currentNote"===Object.keys(t)[0]&&this.refreshState()}},{key:"refreshState",value:function(){var e=this.store.getState(),t=e.notes.find(function(t){return t.id===e.currentNote});this.setState(t.styles)}},{key:"onClick",value:function(t){var e,n=Object(s.$)(t.target);"button"===n.data.type&&(e=JSON.parse(n.data.value),this.$emit("toolbar:changeStyles",e),this.refreshState())}},{key:"toHTML",value:function(){return this.template}},{key:"template",get:function(){return t=this.state,e=[{icon:"format_bold",active:"bold"===t.fontWeight,value:{fontWeight:"bold"===t.fontWeight?"normal":"bold"}},{icon:"format_underline",active:"underline"===t.textDecoration,value:{textDecoration:"underline"===t.textDecoration?"none":"underline"}},{icon:"format_italic",active:"italic"===t.fontStyle,value:{fontStyle:"italic"===t.fontStyle?"normal":"italic"}},{icon:"format_align_left",active:"left"===t.textAlign,value:{textAlign:"left"}},{icon:"format_align_center",active:"center"===t.textAlign,value:{textAlign:"center"}},{icon:"format_align_right",active:"right"===t.textAlign,value:{textAlign:"right"}}].map(we).join(""),'\n  <div class="wrapper" data-type="wrapper">\n    '.concat(e,"\n  </div>\n  ");var t,e}}])&&Ie(t.prototype,e),n&&Ie(t,n),i}();function Pe(t){var e=(0<arguments.length&&void 0!==t?t:[]).map(function(t){return'<li class="context-menu-option"\n    data-event="'.concat(t.event,'">').concat(t.buttonName,"</li>")}).join("");return'\n  <ul class="context-menu-options">\n    '.concat(e,"\n  </ul>\n  ")}function xe(t){return(xe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Re(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)),r}function De(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function je(t,e,n){return(je="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Me(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function Ce(t,e){return(Ce=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Le(o){var s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e,n,r,i=Me(o);return e=s?(t=Me(this).constructor,Reflect.construct(i,arguments,t)):i.apply(this,arguments),n=this,!(r=e)||"object"!==xe(r)&&"function"!=typeof r?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(n):r}}function Me(t){return(Me=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Fe(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Ae(ke,"className","note-toolbar");var Ve=function(){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ce(t,e)}(i,bt);var t,e,n,r=Le(i);function i(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(n=r.call(this,t,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Re(Object(n),!0).forEach(function(t){Fe(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Re(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({name:"ContextMenu",listeners:[],subscribe:[]},e))).$root=t,n.menuOptions=null,n.menuVisible=!1,n.trashOptions=[{event:"trash:clear",buttonName:"Clear"}],n.folderOptions=[{event:"folder:delete",buttonName:"Delete"},{event:"folder:rename",buttonName:"Rename"}],n.noteItemOptions=[{event:"note-item:delete",buttonName:"Delete"},{event:"note-item:rename",buttonName:"Rename"}],n}return t=i,(e=[{key:"init",value:function(){var e=this;je(Me(i.prototype),"init",this).call(this),this.onContextmenu=this.onContextmenu.bind(this),document.oncontextmenu=this.onContextmenu,document.addEventListener("click",function(t){e.menuVisible&&e.toggleMenu("hide")})}},{key:"toggleMenu",value:function(t){this.$root.css({display:"show"===t?"block":"none"}),this.menuVisible=!this.menuVisible}},{key:"onContextmenu",value:function(t){var n=this;t.preventDefault();var e,r=Object(s.$)(t.target).closest("[data-context]");if(r&&r.data.context){switch(r.data.context){case"folder":e=this.folderOptions;break;case"note":e=this.noteItemOptions;break;case"trash":e=this.trashOptions}this.$root.html(Pe(e)),this.$root.findAll(".context-menu-option").forEach(function(e){e.addEventListener("click",function(t){n.$emit(e.dataset.event,r.data.id)})}),this.$root.css({left:"".concat(t.pageX,"px"),top:"".concat(t.pageY,"px")}),this.toggleMenu("show")}else this.toggleMenu("hide");return!1}},{key:"toHTML",value:function(){return Pe()}}])&&De(t.prototype,e),n&&De(t,n),i}();function Ue(t,e,n,r,i,o,s){try{var a=t[o](s),u=a.value}catch(t){return void n(t)}a.done?e(u):Promise.resolve(u).then(r,i)}function qe(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)),r}function Be(i){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?qe(Object(o),!0).forEach(function(t){var e,n,r;e=i,r=o[n=t],n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(o)):qe(Object(o)).forEach(function(t){Object.defineProperty(i,t,Object.getOwnPropertyDescriptor(o,t))})}return i}function Ge(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}Fe(Ve,"className","context-menu");var We=function(){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),this.firebase=t,this.db=null,this.notes=[],this.folders=[]}var t,n,r,a,i;return t=e,(n=[{key:"init",value:function(){var e=this;return new Promise(function(t){e.db=e.firebase.firestore(),t(!0)})}},{key:"save",value:function(t){var r=this,e=P(this.notes,t.notes),i=P(this.folders,t.folders);return!e.isDiffer&&!i.isDiffer||new Promise(function(t){var n=r.db.batch();i.deleted.forEach(function(t){var e=r.db.collection("folders").doc(t.id);n.delete(e)}),e.deleted.forEach(function(t){var e=r.db.collection("notes").doc(t.id);n.delete(e)}),i.updated.forEach(function(t){var e=r.db.collection("folders").doc(t.id);n.set(e,{name:t.name})}),e.updated.forEach(function(t){var e=r.db.collection("notes").doc(t.id);n.set(e,{title:t.title,content:t.content,styles:t.styles,folder:t.folder})}),n.commit().then(function(){t(!0)})})}},{key:"getAll",value:function(t){var e=this;return new Promise(function(n){e.db.collection(t).get().then(function(t){var e=[];t.forEach(function(t){e.push(Be({id:t.id},t.data()))}),n(e)})})}},{key:"get",value:(a=regeneratorRuntime.mark(function t(){var r=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise(function(n){r.getAll("notes").then(function(t){var e=t;r.getAll("folders").then(function(t){r.notes=e,r.folders=t,n({folders:t,notes:e})})})}));case 1:case"end":return t.stop()}},t)}),i=function(){var t=this,s=arguments;return new Promise(function(e,n){var r=a.apply(t,s);function i(t){Ue(r,e,n,i,o,"next",t)}function o(t){Ue(r,e,n,i,o,"throw",t)}i(void 0)})},function(){return i.apply(this,arguments)})}])&&Ge(t.prototype,n),r&&Ge(t,r),e}();function ze(t){return(ze="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function He(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)),r}function Ke(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?He(Object(n),!0).forEach(function(t){Ze(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):He(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function $e(t,e,n,r,i,o,s){try{var a=t[o](s),u=a.value}catch(t){return void n(t)}a.done?e(u):Promise.resolve(u).then(r,i)}function Xe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ye(t,e){return(Ye=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Je(o){var s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e,n,r,i=Qe(o);return e=s?(t=Qe(this).constructor,Reflect.construct(i,arguments,t)):i.apply(this,arguments),n=this,!(r=e)||"object"!==ze(r)&&"function"!=typeof r?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(n):r}}function Qe(t){return(Qe=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ze(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var tn=function(){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ye(t,e)}(o,h);var t,e,n,a,r,i=Je(o);function o(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(e=i.call(this)).firebase=t.firebase,e.tinote=null,e}return t=o,(e=[{key:"getRoot",value:(a=regeneratorRuntime.mark(function t(){var e,n,r,i,o,s,a,u,c;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=N,n=new j,t.next=4,n.init();case 4:return r=new L(n,5e3),i=new We(this.firebase),t.next=8,i.init();case 8:return o=new L(i,5e3),t.next=11,o.get();case 11:return s=t.sent,a=[],u=[],s&&(a=0===s.notes.length?N.notes:s.notes,u=0===s.folders.length?N.folders:s.folders),(c=function(e,t){var n=e(F({},t),{type:"__INIT__"}),r=[];return{subscribe:function(e){return r.push(e),{unsubscribe:function(){r=r.filter(function(t){return t!==e})}}},dispatch:function(t){n=e(n,t),r.forEach(function(t){t(n)})},getState:function(){return JSON.parse(JSON.stringify(n))}}}(it,Ke(Ke({},e),{},{notes:a,folders:u,currentFolder:u[0].id,currentNote:a[0].id}))).subscribe(r.listen),c.subscribe(o.listen),this.tinote=new ht({components:[jt,zt,fe,ke,ee,Ve],store:c,firebase:this.firebase}),t.abrupt("return",this.tinote.render());case 20:case"end":return t.stop()}},t,this)}),r=function(){var t=this,s=arguments;return new Promise(function(e,n){var r=a.apply(t,s);function i(t){$e(r,e,n,i,o,"next",t)}function o(t){$e(r,e,n,i,o,"throw",t)}i(void 0)})},function(){return r.apply(this,arguments)})},{key:"destroy",value:function(){this.tinote.destroy()}}])&&Xe(t.prototype,e),n&&Xe(t,n),o}();Ze(tn,"route","tinote");var en=n(93);n(317),n(318);en.initializeApp({apiKey:"AIzaSyDvc6lij9iMoZ8tDBfLghISPKJtqx_L54U",authDomain:"tinote-5fd77.firebaseapp.com",databaseURL:"https://tinote-5fd77.firebaseio.com",projectId:"tinote-5fd77",storageBucket:"tinote-5fd77.appspot.com",messagingSenderId:"207256672485",appId:"1:207256672485:web:94c7f77f99e19706da9c0c"}),new i({selector:"#app",pages:[E,tn],firebase:en}).init()}]);